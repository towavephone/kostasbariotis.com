webpackJsonp([0xb3a6b28315e7],{1162:function(n,s){n.exports={data:{file:{childImageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAHlUlEQVRIx11WaWxU1xWewbQlrdofkSIhGiBpMPZ4Vs/2lpm3zupZPOOZ8Sz2YGzANkaAKaYQUrMkLYgiIlxCQjCYQAwYEoMQNJAIFBxaQgUhoCopYceBJo1pKFVDCbOc0/fesOZKV+fM1Tvf/c56R0VYOZW8lvAxtSybvbExAu1+mndGuaDQ2F4rNHVFhCZJZlMeZ1Qrf9Mt+H+qur/ihFORAFA64J0pVTcXVcDmcKFfruIzZ7rY1H89fAZivjbM1MzFxkAnZqWd9M7KJcTmv7zCN44sY+tflm12C79WLxLCqidWN9cwWpYvsfXL13vasZudgm4mgX4hW6h1teRjnrZCwjOzWO/twIR/FjZ7WnEZ35JvcUSeU4gwSXV7W1sJzEH6R8nSRArlXjr6r7S1DqNUvMAzCXCzSfDxDRAUmyDkaoawtEPi1LxHyGLMkby5gEqUy7atjnq1roosAXqE6Yq7DBXa7RLS6HRG8y4hhbwzDiJbj4IkXUwS5e1h07IOorMePUL6ruiKGmRblg2PesJlq9nxrJMMfydIbhIWP9jMPrBLkrIHgXfG0CdmgKMjwFARFKVvHEQo5xUyKDDRN2T7aE17mV5rfZQYm1lM0EQYWUe0aNTxoKl0Qnk5jVqNA/VaFu3SBS7SB7Ju0ougr2KKWg2DBi17mbCaxyghMzgeMTTp2W7CGkTKHshZqn0Q5Osg6opBhAmAzcADY/NheyQJBi2D8mXVehYMOgEsJg9aTIxSN2YTO+ohQ62G6rGZa5AmAjmj0YvzG5vhVP8f4fTO12FtVxfMjTfC6zPbwOsIQNybhK6GlmLCm5DA6cu2aoeSaaOeVheLxRKgpoJcZ5UAly94MeeiQ+jnQtBCcTBTZ8Ght9fDfy58DDdOHIRj2zdA/4uzYWBpZ6Fr6jR8/lfWP8n2usqA2mQgH7msr3Ks0WgEfGvN6lz/q6tgXqgZjgpZOGSLwsldA4CFG4j3rmP/osU47xkdrm5pLfjdETm+p64cf0fJME34HiVFV+VYajF50UGGc/Nnz4XDfW/ArQ09+M++XsCblwD+fQEL356HswuWwdedS+Dg2p5ilZQwa7VrpCHZ9nOl7Ojg44B0hxxg0hbMjx2rh2iwDk4feReKI58hfn8V8c5lwNyXiF+dRbz4Z1jY1g4TJ1rQbnHfc/ORihJDr5q0kw8AyVqDjpeSEpJLAyaMN6HRwMDuTa/B1fcPwcfbBuHc8SPw+cnDsGvzeim7HOg0DpAYoouPBWUMJxUo65y18X4MtbYJOo3zjgQoxwWen1iNDdPmwPu9+2BvfCXsXbQRehf9Hly0B8aN04OuioGqCipvt/hQ5GLzS4Dh0Tdv3+/nvm0qVVUlfUouboOWK8jxmaznMBXIwpbfroWN63th384tcHTfDpj0gg21lQxoK+m8TQGMb5UxAt6OUYSVkUuGK5MPKiuIHicZwWqDmNNqpE6pIFBjpGDxsqXwuxUroWtBN5w4NgSbNvcDIRW61CUFu9UrtV/si7Fjf/ajUmICSvxKgJMtdQxVK2XOU9RpGNBL3VBeQWIqPR3SjR3QOW8xrFmxCnrWbYJMaobEkr1HE/4zIpv4nrK7NIrbpF+tspoYZdpMLte+wNPRu6S1Bs1GqV/1DOqMPFjIMFbq3dg6cyFkGmagqZqHaoOAHF2XZ6ngWg+XBM4RVoLHOWrLVG4uWpo4FvsvfHz6NktFkbT6QafnQGsUoFLHYm1dFj44cgwYPgQVkymkbP6RWl+LNIRjL/uFhltuNjEoYySCXaNUojOsMPSw4aqwa+o9ga5DggiC1RFDmyMG1bYQVlTSIIhRMJq9RaPZJ4VF+DQZ6MCAmOkLurJ/DYiNt/R67VMKs4hrqjL+o+6mjrj0hjBEOG+1h8FOxcFO1oHVFgazPYQGqdfNthBYpUqwEME78nsT4tP7o96WwWSwA1nKb35iyCZ8M85EXE3oYBO3ab4RKWcSKCaFJJMCQprSpPQcUFwKzWQUKo1+lC9x0r7Fcc+0OVOj8zEkNrY8BAuLDV11ruZvDXrhuJ3NIu+bAYK/FXjfdOA8zegUp6DdmQKNMQD+8HTseW1LYeijE/jB4Q+/Wry8a5L01B6MeaetUcDSjfVjjOVM7da+bTMPvHfkbmrKb5DksjkLncmZqXTe6siAnWmAmkhbYUPvQP7cufO5L69fxyvD/8Ctb+/aI2PU8AmvRGqZAoiIityzb8/T165d3X3t2vD/Pjr+KW7b+R6u2/AOrli9CQfePYQXLg3jpSvDeOLkWTxw6Oh3uwYPrJTMlNHlFcLPeNk6/UOXZ7cuGP1A397fP/7v584vvzJ8o+dvn33+Zm/v9q9X/2EDbN+19+ybm3ds33/ww5f63uovf/D9woVL1A90P5dQqYaGhpQfg4N71BJbteoHqyk7Z+e8zlfuSupPHj+/eO2bso5ZcxQ9Fsiqgny6ZOv3+VTfjIwo+iefnFYN7BxQf3FxuEwGH1c+fgxBuIZnTFuIIh9U2qt3844fb9y0Vf0gXPKm7bzKzYZ+wGTKFFWNz1/6v8OLUiuaFKMJz00yEvaa/RQZnK086s6MutpEqRLx+kcT+rH1f+YikeeNfqnwAAAAAElFTkSuQmCC",aspectRatio:.6666666666666666,src:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png",srcSet:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-8a97b.png 200w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-0fdf3.png 400w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png 600w",srcWebp:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-216f6.webp",srcSetWebp:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-5d70e.webp 200w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-d1677.webp 400w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-216f6.webp 600w",sizes:"(max-width: 600px) 100vw, 600px"}}},site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}},mainPost:{html:'<h1 id="一、设计原则"><a href="#%E4%B8%80%E3%80%81%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一、设计原则</h1>\n<h2 id="solid"><a href="#solid" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>S.O.L.I.D</h2>\n<table>\n<thead>\n<tr>\n<th align="center">简写</th>\n<th align="center">全拼</th>\n<th align="center">中文翻译</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">SRP</td>\n<td align="center">The Single Responsibility Principle</td>\n<td align="center">单一责任原则</td>\n</tr>\n<tr>\n<td align="center">OCP</td>\n<td align="center">The Open Closed Principle</td>\n<td align="center">开放封闭原则</td>\n</tr>\n<tr>\n<td align="center">LSP</td>\n<td align="center">The Liskov Substitution Principle</td>\n<td align="center">里氏替换原则</td>\n</tr>\n<tr>\n<td align="center">ISP</td>\n<td align="center">The Interface Segregation Principle</td>\n<td align="center">接口分离原则</td>\n</tr>\n<tr>\n<td align="center">DIP</td>\n<td align="center">The Dependency Inversion Principle</td>\n<td align="center">依赖倒置原则</td>\n</tr>\n</tbody>\n</table>\n<h3 id="1-单一责任原则"><a href="#1-%E5%8D%95%E4%B8%80%E8%B4%A3%E4%BB%BB%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 单一责任原则</h3>\n<blockquote>\n<p>修改一个类的原因应该只有一个。</p>\n</blockquote>\n<p>换句话说就是让一个类只负责一件事，当这个类需要做过多事情的时候，就需要分解这个类。</p>\n<p>如果一个类承担的职责过多，就等于把这些职责耦合在了一起，一个职责的变化可能会削弱这个类完成其它职责的能力。</p>\n<h3 id="2-开放封闭原则"><a href="#2-%E5%BC%80%E6%94%BE%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 开放封闭原则</h3>\n<blockquote>\n<p>类应该对扩展开放，对修改关闭。</p>\n</blockquote>\n<p>扩展就是添加新功能的意思，因此该原则要求在添加新功能时不需要修改代码。</p>\n<p>符合开闭原则最典型的设计模式是装饰者模式，它可以动态地将责任附加到对象上，而不用去修改类的代码。</p>\n<h3 id="3-里氏替换原则"><a href="#3-%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 里氏替换原则</h3>\n<blockquote>\n<p>子类对象必须能够替换掉所有父类对象。</p>\n</blockquote>\n<p>继承是一种 IS-A 关系，子类需要能够当成父类来使用，并且需要比父类更特殊。</p>\n<p>如果不满足这个原则，那么各个子类的行为上就会有很大差异，增加继承体系的复杂度。</p>\n<h3 id="4-接口分离原则"><a href="#4-%E6%8E%A5%E5%8F%A3%E5%88%86%E7%A6%BB%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 接口分离原则</h3>\n<blockquote>\n<p>不应该强迫客户依赖于它们不用的方法。</p>\n</blockquote>\n<p>因此使用多个专门的接口比使用单一的总接口要好。</p>\n<h3 id="5-依赖倒置原则"><a href="#5-%E4%BE%9D%E8%B5%96%E5%80%92%E7%BD%AE%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 依赖倒置原则</h3>\n<blockquote>\n<p>高层模块不应该依赖于低层模块，二者都应该依赖于抽象；</br>抽象不应该依赖于细节，细节应该依赖于抽象。</p>\n</blockquote>\n<p>高层模块包含一个应用程序中重要的策略选择和业务模块，如果高层模块依赖于低层模块，那么低层模块的改动就会直接影响到高层模块，从而迫使高层模块也需要改动。</p>\n<p>依赖于抽象意味着：</p>\n<ul>\n<li>任何变量都不应该持有一个指向具体类的指针或者引用；</li>\n<li>任何类都不应该从具体类派生；</li>\n<li>任何方法都不应该覆写它的任何基类中的已经实现的方法。</li>\n</ul>\n<h2 id="其他常见原则"><a href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他常见原则</h2>\n<p>除了上述的经典原则，在实际开发中还有下面这些常见的设计原则。</p>\n<table>\n<thead>\n<tr>\n<th align="center">简写</th>\n<th align="center">全拼</th>\n<th align="center">中文翻译</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">LOD</td>\n<td align="center">The Law of Demeter</td>\n<td align="center">迪米特法则</td>\n</tr>\n<tr>\n<td align="center">CRP</td>\n<td align="center">The Composite Reuse Principle</td>\n<td align="center">合成复用原则</td>\n</tr>\n<tr>\n<td align="center">CCP</td>\n<td align="center">The Common Closure Principle</td>\n<td align="center">共同封闭原则</td>\n</tr>\n<tr>\n<td align="center">SAP</td>\n<td align="center">The Stable Abstractions Principle</td>\n<td align="center">稳定抽象原则</td>\n</tr>\n<tr>\n<td align="center">SDP</td>\n<td align="center">The Stable Dependencies Principle</td>\n<td align="center">稳定依赖原则</td>\n</tr>\n</tbody>\n</table>\n<h3 id="1-迪米特法则"><a href="#1-%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 迪米特法则</h3>\n<p>迪米特法则又叫作最少知识原则（Least Knowledge Principle，简写 LKP），就是说一个对象应当对其他对象有尽可能少的了解，不和陌生人说话。</p>\n<h3 id="2-合成复用原则"><a href="#2-%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 合成复用原则</h3>\n<p>尽量使用对象组合，而不是继承来达到复用的目的。</p>\n<h3 id="3-共同封闭原则"><a href="#3-%E5%85%B1%E5%90%8C%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 共同封闭原则</h3>\n<p>一起修改的类，应该组合在一起（同一个包里）。如果必须修改应用程序里的代码，我们希望所有的修改都发生在一个包里（修改关闭），而不是遍布在很多包里。</p>\n<h3 id="4-稳定抽象原则"><a href="#4-%E7%A8%B3%E5%AE%9A%E6%8A%BD%E8%B1%A1%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 稳定抽象原则</h3>\n<p>最稳定的包应该是最抽象的包，不稳定的包应该是具体的包，即包的抽象程度跟它的稳定性成正比。</p>\n<h3 id="5-稳定依赖原则"><a href="#5-%E7%A8%B3%E5%AE%9A%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 稳定依赖原则</h3>\n<p>包之间的依赖关系都应该是稳定方向依赖的，包要依赖的包要比自己更具有稳定性。</p>\n<h1 id="二、三大特性"><a href="#%E4%BA%8C%E3%80%81%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>二、三大特性</h1>\n<h2 id="封装"><a href="#%E5%B0%81%E8%A3%85" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>封装</h2>\n<p>利用抽象数据类型将数据和基于数据的操作封装在一起，使其构成一个不可分割的独立实体。数据被保护在抽象数据类型的内部，尽可能地隐藏内部的细节，只保留一些对外接口使之与外部发生联系。用户无需知道对象内部的细节，但可以通过对象对外提供的接口来访问该对象。</p>\n<p>封装有三大好处：</p>\n<ol>\n<li>减少耦合</li>\n<li>隐藏内部细节，因此内部结构可以自由修改</li>\n<li>可以对成员进行更精确的控制</li>\n</ol>\n<p>以下 Person 类封装 name、gender、age 等属性，外界只能通过 get() 方法获取一个 Person 对象的 name 属性和 gender 属性，而无法获取 age 属性，但是 age 属性可以供 work() 方法使用。</p>\n<p>注意到 gender 属性使用 int 数据类型进行存储，封装使得用户注意不到这种实现细节。并且在需要修改 gender 属性使用的数据类型时，也可以在不影响客户端代码的情况下进行。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5221131389631539000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Person {\n    private String name;\n    private int gender;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getGender() {\n        return gender == 0 ? &quot;man&quot; : &quot;woman&quot;;\n    }\n\n    public void work() {\n        if(18 <= age && age <= 50) {\n            System.out.println(name + &quot; is working very hard!&quot;);\n        } else {\n            System.out.println(name + &quot; can\'t work any more!&quot;);\n        }\n    }\n}`, `5221131389631539000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> gender<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getGender</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> gender <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">"man"</span> <span class="token operator">:</span> <span class="token string">"woman"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">18</span> <span class="token operator">&lt;=</span> age <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" is working very hard!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">" can\'t work any more!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="继承"><a href="#%E7%BB%A7%E6%89%BF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>继承</h2>\n<p>继承实现了 <strong>IS-A</strong> 关系，例如 Cat 和 Animal 就是一种 IS-A 关系，因此 Cat 可以继承自 Animal，从而获得 Animal 非 private 的属性和方法。</p>\n<p>Cat 可以当做 Animal 来使用，也就是说可以使用 Animal 引用 Cat 对象。父类引用指向子类对象称为 <strong>向上转型</strong> 。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="41525537824820000000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`Animal animal = new Cat();`, `41525537824820000000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token class-name">Animal</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>继承应该遵循里氏替换原则，子类对象必须能够替换掉所有父类对象。</p>\n<h2 id="多态"><a href="#%E5%A4%9A%E6%80%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>多态</h2>\n<p>多态分为编译时多态和运行时多态。编译时多态主要指方法的重载，运行时多态指程序中定义的对象引用所指向的具体类型在运行期间才确定。</p>\n<p>运行时多态有三个条件：</p>\n<ol>\n<li>继承</li>\n<li>覆盖</li>\n<li>向上转型</li>\n</ol>\n<p>下面的代码中，乐器类（Instrument）有两个子类：Wind 和 Percussion，它们都覆盖了父类的 play() 方法，并且在 main() 方法中使用父类 Instrument 来引用 Wind 和 Percussion 对象。在 Instrument 引用调用 play() 方法时，会执行实际引用对象所在类的 play() 方法，而不是 Instrument 类的方法。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="66332822408320590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Instrument {\n    public void play() {\n        System.out.println(&quot;Instument is playing...&quot;);\n    }\n}\n\npublic class Wind extends Instrument {\n    public void play() {\n        System.out.println(&quot;Wind is playing...&quot;);\n    }\n}\n\npublic class Percussion extends Instrument {\n    public void play() {\n        System.out.println(&quot;Percussion is playing...&quot;);\n    }\n}\n\npublic class Music {\n    public static void main(String[] args) {\n        List<Instrument> instruments = new ArrayList<>();\n        instruments.add(new Wind());\n        instruments.add(new Percussion());\n        for(Instrument instrument : instruments) {\n            instrument.play();\n        }\n    }\n}`, `66332822408320590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="java"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Instument is playing..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Wind</span> <span class="token keyword">extends</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Wind is playing..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Percussion</span> <span class="token keyword">extends</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Percussion is playing..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Music</span> <span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Instrument</span><span class="token punctuation">></span></span> instruments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        instruments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Wind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        instruments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Percussion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Instrument</span> instrument <span class="token operator">:</span> instruments<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            instrument<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="三、类图"><a href="#%E4%B8%89%E3%80%81%E7%B1%BB%E5%9B%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>三、类图</h1>\n<h2 id="泛化关系-generalization"><a href="#%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB-generalization" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>泛化关系 (Generalization)</h2>\n<p>用来描述继承关系，在 Java 中使用 extends 关键字。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/b418ca51-f005-4510-b7ad-f092eb6aeb24-ef4cb70b1a8b8360d703a28766b35014-49b3a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 326px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 73.00613496932516%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACCklEQVQ4y5WUa3OaQBSG/f9/pZ1O+qHTdFrTVo02xiaohJsgCMtdTdSopAJvdxeIqSZpe2aOLLuPj+vZAzUcRJ7zT/wt8gJ8vFZRO4QqYBoH8MgYcehgGhEEnoUosPncfB4/K3tWyGK3yzDzJSSzK2j9U1x33uHW/QFLrmNO2ohchf+Hpxt4VZhmOYgpwB83qOwE3cZbKjuDIpxiotRh6cL/CHNQH1SxDaLVEZotLiajr3xsSZ8gDztHJXpVyC7uRMHopolB7zMs7QK6dF6M1Q4MbfjvwgrYbhMMBiJsm/D75eoeoijBdX1kWfbyKVeSKhnMYrG4gyxLVLwpv5jBsixYplncl9KnebTDKnZpDs8Pjw6LRRTPsNk+vNibtfksRkBkRJ6GkCiI/RE/RcccwLUVpGlW/kiK0DPhTUS+zriA8pGnwCc6X+c7dB0DWN9gFfbws/UGw+4J7b2PtIgyXKONzWbLwfUmQUz6nGXrNm2f4eV7pIs+QvsKy+V9ISS2ganToXkBV2/QFjmHN27hzr+EOjijoqKG2+QXJnqPNjjljBbnWDLOkNtYrdaF0BqrcNQvCGivhWYTgdkox9/R7374Q6iJTYTjb3S9yRnWnxHlJKG+F97Op7QmfZgsR/tkc6p8jSR5KJ+eDK6jU04o2DJZPY2R+MjVqjcM65bDZPOHzXvIpNn+DcW434SvcyGdFtuuAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="b418ca51 f005 4510 b7ad f092eb6aeb24"\n        title=""\n        src="/static/b418ca51-f005-4510-b7ad-f092eb6aeb24-ef4cb70b1a8b8360d703a28766b35014-49b3a.png"\n        srcset="/static/b418ca51-f005-4510-b7ad-f092eb6aeb24-ef4cb70b1a8b8360d703a28766b35014-6cc38.png 200w,\n/static/b418ca51-f005-4510-b7ad-f092eb6aeb24-ef4cb70b1a8b8360d703a28766b35014-49b3a.png 326w"\n        sizes="(max-width: 326px) 100vw, 326px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="实现关系-realization"><a href="#%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB-realization" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现关系 (Realization)</h2>\n<p>用来实现一个接口，在 Java 中使用 implement 关键字。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/27cd6f0c-f581-45da-b8c9-fed026830560-a6b1e410d757f76a6d400fd1f03004dc-3091a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 361px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 78.67036011080333%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB6UlEQVQ4y51UiW7aQBDl//+klVoliipVaptAFEoIsTHhqDhsDuPFJY6P9YWx8evYJJQWsEpXGu3I+/T2zczzlnBkpWmKovV2fgxXOgWO4xieayMMXIQ+z/fAdyjcwktPEnrcRLP2Ea36JYTqB8ov0H64QL99t8OdpXAVOJj1byDdX6JeeY9R5wt6whVURcBmkyPPI/Q9C5ZWw3JahTYsw2YPMKZ3YBMRyf8QZv1jEwFs/IgX1sbPWRPqqIap/EQK0/MI34C6vkS704Xr+rAsB6IowTSt4h7uW2A/smWaJhaM5fmGGrdYMFLunsRne6nIAmEYHrQi+5YWePMPhRk4CHxEUQTOnVzher3+rYBUcs5hGAY2SYLVagXf93PMTuFuCJ4LfSqAL1tgyj1mw2qeq4pIl2yV2pYBTa7B1iVI9U+YU24xATO5dUjokqIX7REJ75BVvkMdlJF6XahynVRt+2abz/lZwrvkzXfQRreITAmTQQM5zT6h49hk3q+YD68pbijK5L9r9KRv4K6XY4znBX6IV0RUhq7cgskVTHqf0ZUqhwrDMKDyWphTieprzMci5EFzV7LLbSj9BrSxRGVmmCamowaUYfv4lJMkpYHEiNbJNqIEMf0W+9aI/8ZQJK+Ygymffq7+/Vn7BYVv0DEhHw75AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="27cd6f0c f581 45da b8c9 fed026830560"\n        title=""\n        src="/static/27cd6f0c-f581-45da-b8c9-fed026830560-a6b1e410d757f76a6d400fd1f03004dc-3091a.png"\n        srcset="/static/27cd6f0c-f581-45da-b8c9-fed026830560-a6b1e410d757f76a6d400fd1f03004dc-07e05.png 200w,\n/static/27cd6f0c-f581-45da-b8c9-fed026830560-a6b1e410d757f76a6d400fd1f03004dc-3091a.png 361w"\n        sizes="(max-width: 361px) 100vw, 361px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="聚合关系-aggregation"><a href="#%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB-aggregation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>聚合关系 (Aggregation)</h2>\n<p>表示整体由部分组成，但是整体和部分不是强依赖的，整体不存在了部分还是会存在。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/aa42f9c6-ad7a-48f4-8e8b-f3b6de3feaec-dc136807f748d699c6045a9f68acfe2e-a64ad.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 450px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABnElEQVQoz31SiU7CQBDt//+F/2AMHvHAgKBEjHJYCk1Lt6hle29v2ufuRghRcJJN29c3b+bNjoJf0TSNPCISFsF1TNAvA767QlVVO86xUA6JbRNCzwaZXeO2dQKyeABj7E/Ro4JbgnjWdS3f7aWKxagFfXyO6csFfD+Q+Pb/oW6V/a72KwdBiLk2xWzyCNsc43XYhabNURTFHzf7RznUdhzHoJRyiwlWqy9sNoBFbBRlCdd1d9YPWt5wdsWJTVPL6r7v8+6Cn0thCPi3CMaLbPEg8OF5HvI8R8lzaq5RSg3eIYvWmI/v8Nw7A9EHSLMcaUxhqh28Dlqg9huyvJS3rI1usJi0ob/3wZIUzocBZznAZHiFT+tNiiqBS2BOL6EOT2HN2txeA59asNQrqC+n+DR6iFkq12c5vZBcbXTNCxeIPALHuJMXZ/MtSNMMCnUskHkHlAygjdsoqw0EZi+6EjNmD0iSDO6aYKV3eUePMLU+T845bwlLu8faeoKu9pBlXFAsq5ibmImYkZhDVZU7LAxDiQk7/2FRFMp1+gZ5FfkWqSJuuAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="aa42f9c6 ad7a 48f4 8e8b f3b6de3feaec"\n        title=""\n        src="/static/aa42f9c6-ad7a-48f4-8e8b-f3b6de3feaec-dc136807f748d699c6045a9f68acfe2e-a64ad.png"\n        srcset="/static/aa42f9c6-ad7a-48f4-8e8b-f3b6de3feaec-dc136807f748d699c6045a9f68acfe2e-a484f.png 200w,\n/static/aa42f9c6-ad7a-48f4-8e8b-f3b6de3feaec-dc136807f748d699c6045a9f68acfe2e-d7c5d.png 400w,\n/static/aa42f9c6-ad7a-48f4-8e8b-f3b6de3feaec-dc136807f748d699c6045a9f68acfe2e-a64ad.png 450w"\n        sizes="(max-width: 450px) 100vw, 450px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="82002075674869970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Computer\n    private KeyBoard keyboard;\n    private Mouse mouse;\n\n    public void Running()\n    {\n        keyboard.running();\n        mouse.running();\n    }\n} `, `82002075674869970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Computer</span>\n    <span class="token keyword">private</span> KeyBoard keyboard<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> Mouse mouse<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Running</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        keyboard<span class="token punctuation">.</span><span class="token function">running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        mouse<span class="token punctuation">.</span><span class="token function">running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span> </code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="组合关系-composition"><a href="#%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB-composition" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合关系 (Composition)</h2>\n<p>和聚合不同，组合中整体和部分是强依赖的，整体不存在了部分也不存在了。比如公司和部门，公司没了部门就不存在了。但是公司和员工就属于聚合关系了，因为公司没了员工还在。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/0e34263d-7287-4ffe-a716-37c53d1a2526-21f1edcd11fc74e57aa63b784835d6c6-6db8f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 383px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 63.44647519582245%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABy0lEQVQ4y52TW2+iUBSF/f+PfZlJH5r5B02mZh7aWrUXm6kXhGqrDCKColyqCKi0Amv2QWukoZf0JCcb2Itvr8Pe5LC34jhO4nq9hm0ZeLINODMbs6kF09CxWPgpXdbKZQF9bw7P5OFbHHrtc4zlazzPBJi6tNO9B80Eeq6DSf8W5uAGvdYZ1G4JtnoDTXn4HtBxpuTsgoAVDB4L0HtXGIpFSF1uq4u+DnwV1qsVHP48wEvg4rJ0il9HPxCsFoi2mneB8Z6A7TAMk0S1WkOt1kiuXdfHyUkeYRSlCu+DX2Muq4rnefD9TUfDcL17btt2pqt9tzm6I4BPLlwsl8skyrJMI7JIuYjInaYNYRgTrFarROs482TEUg6D4BnWqAVTvcNj8xxSuwRj8BfG8IHVShrA1tQeYz7hIQoFiPcX6PIFPI0aNKvjNJBVM9UGdKkE4e43OtwfTOQytF6dvlm8A1qGBkenopRv1/Pgbo9plCoYj5Rd5zfAICBnNBpSkcbjknYZaucMLa6YcsheFHlW7Iq0ZZjKNRXPQxtIaSDrqqZ00Zd49P8JFAXIYhOK3NkCN0dx5zPK80meRYWi1GFHNj/v8tvuffTvvs3/B5/x4RqoCEmjAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="0e34263d 7287 4ffe a716 37c53d1a2526"\n        title=""\n        src="/static/0e34263d-7287-4ffe-a716-37c53d1a2526-21f1edcd11fc74e57aa63b784835d6c6-6db8f.png"\n        srcset="/static/0e34263d-7287-4ffe-a716-37c53d1a2526-21f1edcd11fc74e57aa63b784835d6c6-89fca.png 200w,\n/static/0e34263d-7287-4ffe-a716-37c53d1a2526-21f1edcd11fc74e57aa63b784835d6c6-6db8f.png 383w"\n        sizes="(max-width: 383px) 100vw, 383px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="36965086327264120000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Company\n{\n    private DepartmentA departmentA;\n    private DepartmentB departmentB;\n    public Company()\n    {\n        departmentA = new DepartmentA();\n        departmentB = new DepartmentB();\n    }\n}  `, `36965086327264120000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Company</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> DepartmentA departmentA<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> DepartmentB departmentB<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Company</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        departmentA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">DepartmentA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        departmentB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">DepartmentB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>  </code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="关联关系-association"><a href="#%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB-association" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>关联关系 (Association)</h2>\n<p>表示不同类对象之间有关联，这是一种静态关系，与运行过程的状态无关，在最开始就可以确定。因此也可以用 1 对 1、多对 1、多对多这种关联关系来表示。比如学生和学校就是一种关联关系，一个学校可以有很多学生，但是一个学生只属于一个学校，因此这是一种多对一的关系，在运行开始之前就可以确定。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2017511e-22f0-4d74-873d-1261b71cf5a4-a61ee12f3e78feae17b5f903655dd4b9-960c5.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 229px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 138.42794759825327%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACY0lEQVRIx6VWaW/aQBDl//+Jqt+q9kOrNKoUtSTEDleAgOOAwTdgmyMkQLgD5nXWqQkQjkVd6TG7o923M8vMkyP4N5bL5cryYv1cOCK7COkXx8Z2AB8I1zf5ZOZzH/MFwzKYv4ZrsmR2BLEnwtlsBlOT4FgFgoSaUYBXldFySqibElyal+UEer1nvpRfXgZoVTPAqwqMFajSL2TFr7i++Ixx547CN9GyBLiOfTjl0DkYDNGws8BIgT9Q0LTieMic4/f5J3Q9umimwzME1KomJ+FwBKVwSUQiXF1Ew7xBu5pEp5aitUDzBKT0D9iWzh+hKsfw7CTxSIdDtO14gB5FWcr95CccjcYo5q9QrcRglmKwlBiM4iVqqkg+IbDZ+Hd+Qmb7/T48z4Prumg0Gkgmk5AkCbIso9lswnEcymTwodz21uH2sG07ILYsC8f2Rw61nu+/VbCu66sDzLfdensjXCdf32gYBhaLxc5LD6a8r1/XCfeJwsmEPG999A1DH3tD9sfU6/XVu54oX5vDNA10Op2glLYJmdQdly/Sr1CqmEtVNYRnmH/hL/nLZjKZQiul4Zi3qBsZWJUkKvI1bDWFmpaGZ+fwcBfFU6d9inxl3+RrUkYxe4Z7EoN07Av1ZYlC1KmnRTh160T5GpfhD5VAaR5JaRxNwLQrA1ONFEjkl6/hhnwJgXw1GaybgJRdIKVOlq8rdF0WWWITVZKvxi3J1xkRanyE48kE+UwUcu4C9xlC9h0SrYv5PxCj36gujWOE76RzajOWOot2J4ZDTKdTvl4+1FaH2pO79Y59OXCpzf98jvwF0/1zuRIm3g4AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2017511e 22f0 4d74 873d 1261b71cf5a4"\n        title=""\n        src="/static/2017511e-22f0-4d74-873d-1261b71cf5a4-a61ee12f3e78feae17b5f903655dd4b9-960c5.png"\n        srcset="/static/2017511e-22f0-4d74-873d-1261b71cf5a4-a61ee12f3e78feae17b5f903655dd4b9-6f066.png 200w,\n/static/2017511e-22f0-4d74-873d-1261b71cf5a4-a61ee12f3e78feae17b5f903655dd4b9-960c5.png 229w"\n        sizes="(max-width: 229px) 100vw, 229px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="71028461302368040000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class School\n{\n    private Student[] students;\n\n    public void GoToSchool()\n    {\n        students.study();\n    }\n}`, `71028461302368040000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">School</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> Student<span class="token punctuation">[</span><span class="token punctuation">]</span> students<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">GoToSchool</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        students<span class="token punctuation">.</span><span class="token function">study</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="依赖关系-dependency"><a href="#%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB-dependency" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>依赖关系 (Dependency)</h2>\n<p>和关联关系不同的是，依赖关系是在运行过程中起作用的。A 类和 B 类是依赖关系主要有三种形式：</p>\n<ol>\n<li>A 类是 B 类中的（某中方法的）局部变量；</li>\n<li>A 类是 B 类方法当中的一个参数；</li>\n<li>A 类向 B 类发送消息，从而影响 B 类发生变化；</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/c7d4956c-9988-4a10-a704-28fdae7f3d28-194efdf2696397cd87be1d887dc1bc29-95c58.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 477px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 49.05660377358491%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABcElEQVQoz42Se0/CMBTF+f5fxsQQ/8JXiAiKcb6mbupwm3ODMdiLR7fxswyIEFG8yVnb9fbcc9tTYRmz2YxdscqZLefbUNlIlONkMmU6FRRFgcgyhMjKf0XxnfNX8Q3C8TglcB/o2Qqqcoypt3CMNgP3njgKVjrLbxIP6LodfM+i55kEvkMmBVTWK6ZJhG+18M0G6lUVWz/BfavTt87xPk1yqXJ+KIpTdLWFflNFae7xrFSx9DpJEq8Ii5JwlEYY6iHmUw1bO+Zdjp+vp2jKAa7zXhIKMWU0nuCYj+h3Ndpn+2i3NYynM9I0WbW8aGZ+V7Zxy4vaxHi+pKNdYL225brBcOBv3JUQgjiOpIhEth+VyPOcSlHk9HoG3a5GEBhy/ob98YjjGFLRotgCm6/566NkmcD3W/T7dcKwKStdMBw2sO0j2UK41S78ZZs5oefdEEV3kmiBMLyXRa4ZjeIfVtmpcL6ZlX4TpefWsU7y3/gCFgAAw5nMK9YAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="c7d4956c 9988 4a10 a704 28fdae7f3d28"\n        title=""\n        src="/static/c7d4956c-9988-4a10-a704-28fdae7f3d28-194efdf2696397cd87be1d887dc1bc29-95c58.png"\n        srcset="/static/c7d4956c-9988-4a10-a704-28fdae7f3d28-194efdf2696397cd87be1d887dc1bc29-9ffd2.png 200w,\n/static/c7d4956c-9988-4a10-a704-28fdae7f3d28-194efdf2696397cd87be1d887dc1bc29-bef37.png 400w,\n/static/c7d4956c-9988-4a10-a704-28fdae7f3d28-194efdf2696397cd87be1d887dc1bc29-95c58.png 477w"\n        sizes="(max-width: 477px) 100vw, 477px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85806232919185850000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Transport\n{\n    public void Run\n    {\n    }\n    // way 代表行驶方式\n    public void Fly(Way way)\n    {\n        way.fly();\n    }\n}`, `85806232919185850000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Transport</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> Run\n    <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// way 代表行驶方式</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Fly</span><span class="token punctuation">(</span>Way way<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        way<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="参考资料"><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考资料</h1>\n<ul>\n<li>Java 编程思想</li>\n<li>敏捷软件开发：原则、模式与实践</li>\n<li><a href="http://www.cnblogs.com/shanyou/archive/2009/09/21/1570716.html" target="_blank" rel="nofollow noreferrer noopener">面向对象设计的 SOLID 原则</a></li>\n<li><a href="http://design-patterns.readthedocs.io/zh_CN/latest/read_uml.html#generalization" target="_blank" rel="nofollow noreferrer noopener">看懂 UML 类图和时序图</a></li>\n<li><a href="http://www.cnblogs.com/wolf-sun/p/UML-Sequence-diagram.html" target="_blank" rel="nofollow noreferrer noopener">UML 系列——时序图（顺序图）sequence diagram</a></li>\n<li><a href="http://blog.csdn.net/jianyuerensheng/article/details/51602015" target="_blank" rel="nofollow noreferrer noopener">面向对象编程三大特性 ------ 封装、继承、多态</a></li>\n</ul>',
excerpt:"一、设计原则 S.O.L.I.D 简写 全拼 中文翻译 SRP The Single Responsibility Principle 单一责任原则 OCP The Open Closed Principle 开放封闭原则 LSP The Liskov Substitution…",timeToRead:7,tableOfContents:'<ul>\n<li>\n<p><a href="/object-oriented-thinking/#%E4%B8%80%E3%80%81%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99">一、设计原则</a></p>\n<ul>\n<li>\n<p><a href="/object-oriented-thinking/#solid">S.O.L.I.D</a></p>\n<ul>\n<li><a href="/object-oriented-thinking/#1-%E5%8D%95%E4%B8%80%E8%B4%A3%E4%BB%BB%E5%8E%9F%E5%88%99">1. 单一责任原则</a></li>\n<li><a href="/object-oriented-thinking/#2-%E5%BC%80%E6%94%BE%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99">2. 开放封闭原则</a></li>\n<li><a href="/object-oriented-thinking/#3-%E9%87%8C%E6%B0%8F%E6%9B%BF%E6%8D%A2%E5%8E%9F%E5%88%99">3. 里氏替换原则</a></li>\n<li><a href="/object-oriented-thinking/#4-%E6%8E%A5%E5%8F%A3%E5%88%86%E7%A6%BB%E5%8E%9F%E5%88%99">4. 接口分离原则</a></li>\n<li><a href="/object-oriented-thinking/#5-%E4%BE%9D%E8%B5%96%E5%80%92%E7%BD%AE%E5%8E%9F%E5%88%99">5. 依赖倒置原则</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/object-oriented-thinking/#%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E5%8E%9F%E5%88%99">其他常见原则</a></p>\n<ul>\n<li><a href="/object-oriented-thinking/#1-%E8%BF%AA%E7%B1%B3%E7%89%B9%E6%B3%95%E5%88%99">1. 迪米特法则</a></li>\n<li><a href="/object-oriented-thinking/#2-%E5%90%88%E6%88%90%E5%A4%8D%E7%94%A8%E5%8E%9F%E5%88%99">2. 合成复用原则</a></li>\n<li><a href="/object-oriented-thinking/#3-%E5%85%B1%E5%90%8C%E5%B0%81%E9%97%AD%E5%8E%9F%E5%88%99">3. 共同封闭原则</a></li>\n<li><a href="/object-oriented-thinking/#4-%E7%A8%B3%E5%AE%9A%E6%8A%BD%E8%B1%A1%E5%8E%9F%E5%88%99">4. 稳定抽象原则</a></li>\n<li><a href="/object-oriented-thinking/#5-%E7%A8%B3%E5%AE%9A%E4%BE%9D%E8%B5%96%E5%8E%9F%E5%88%99">5. 稳定依赖原则</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href="/object-oriented-thinking/#%E4%BA%8C%E3%80%81%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7">二、三大特性</a></p>\n<ul>\n<li><a href="/object-oriented-thinking/#%E5%B0%81%E8%A3%85">封装</a></li>\n<li><a href="/object-oriented-thinking/#%E7%BB%A7%E6%89%BF">继承</a></li>\n<li><a href="/object-oriented-thinking/#%E5%A4%9A%E6%80%81">多态</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/object-oriented-thinking/#%E4%B8%89%E3%80%81%E7%B1%BB%E5%9B%BE">三、类图</a></p>\n<ul>\n<li><a href="/object-oriented-thinking/#%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB-generalization">泛化关系 (Generalization)</a></li>\n<li><a href="/object-oriented-thinking/#%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB-realization">实现关系 (Realization)</a></li>\n<li><a href="/object-oriented-thinking/#%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB-aggregation">聚合关系 (Aggregation)</a></li>\n<li><a href="/object-oriented-thinking/#%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB-composition">组合关系 (Composition)</a></li>\n<li><a href="/object-oriented-thinking/#%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB-association">关联关系 (Association)</a></li>\n<li><a href="/object-oriented-thinking/#%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB-dependency">依赖关系 (Dependency)</a></li>\n</ul>\n</li>\n<li><a href="/object-oriented-thinking/#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>\n</ul>',wordCount:{words:314},frontmatter:{date:"2018-04-02 17:54:51",path:"/object-oriented-thinking/",tags:"面试, 面向对象",title:"面向对象思想",draft:null,catalog_number:null}},nextPost:{html:'<p>以下是 sql 常用语句整理：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="18900017352558000000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`drop database  if exists Student_Course_Database ;\ncreate database Student_Course_Database;\nalter database Student_Course_Database character set utf8;\nuse Student_Course_Database;\ncreate table student\n(sno char(9) primary key,\n sname char(20) unique,\n ssex char(2),\n sage smallint,\n sdept char(20)\n);\ncreate table course\n(cno char(4) primary key,\n cname char(40),\n cpno char(4),\n ccredit smallint,\n foreign key (cpno) references course(cno)\n);\ncreate table sc\n(sno char(9),\ncno char(4),\ngrade smallint ,\nprimary key (sno,cno),\nforeign key (sno) references student(sno),\nforeign key (cno) references course(cno)\n);\ninsert into student values(\'200215121\',\'李勇\',\'男\',20,\'CS\');\ninsert into student values(\'200215122\',\'刘晨\',\'女\',19,\'CS\');\ninsert into student values(\'200215123\',\'王敏\',\'女\',18,\'MA\');\ninsert into student values(\'200215125\',\'张立\',\'男\',19,\'IS\');\ninsert into student values(\'200215124\',\'刘武汉\',\'男\',21,\'PE\');\ninsert into student values(\'200215126\',\'李四\',\'男\',16,\'MA\');\ninsert into student values(\'200215128\',\'欧阳雨\',\'女\',17,\'CS\');\ninsert into student values(\'200215127\',\'欧阳杰\',\'男\',14,\'PY\');\n\ninsert into course(Cno,Cname,Ccredit) values(\'6\',\'数据处理\',2);\ninsert into course(Cno,Cname,Ccredit) values(\'2\',\'数学\',2);\ninsert into course values(\'8\',\'数字系统设计\',\'2\',5);\ninsert into course values(\'7\',\'PASCAL语言\',\'6\',4);\ninsert into course values(\'5\',\'数据结构\',\'7\',4);\ninsert into course values(\'4\',\'操作系统\',\'6\',3);\ninsert into course values(\'1\',\'数据库\',\'5\',4);\ninsert into course values(\'3\',\'信息系统\',\'1\',4);\ninsert into course values(\'9\',\'DB_Design\',\'1\',2);\n\n\ninsert into sc values(\'200215121\',\'1\',92);\ninsert into sc values(\'200215121\',\'2\',85);\ninsert into sc values(\'200215121\',\'3\',30);\ninsert into sc values(\'200215121\',\'4\',97);\ninsert into sc values(\'200215121\',\'6\',59);\ninsert into sc values(\'200215121\',\'5\',54);\ninsert into sc values(\'200215122\',\'2\',90);\ninsert into sc values(\'200215122\',\'4\',96);\ninsert into sc values(\'200215122\',\'3\',80);\ninsert into sc values(\'200215123\',\'6\',65);\ninsert into sc values(\'200215123\',\'5\',10);\ninsert into sc(sno,cno) values(\'200215127\',\'2\');\n\n#1\t查询全体学生的学号与姓名\nselect sno,sname from student;\n#2\t查询全体学生的学号与姓名与所在系\nselect sname,sno,sdept from student;\n#3\t查询全体学生的详细记录\nselect *from student;\n#4\t查询全体学生的姓名及出生年份\nselect sname,2004-sage from student;\n#5\t查询全体学生的姓名，出生年份和所在的院系，要求用小写字母表示所有系名\nselect sname,\'Year of Birth:\',2004-sage,lower(sdept) from student;\nselect sname NAME,\'Year of Birth:\' BIRTH,2004-sage BIRTHDAY,lower(sdept) DEPARTMENT from student;\n#6\t查询选修了课程的学生学号\nselect all sno from sc;\nselect distinct sno from sc;\n#7\t查询计算机科学系全体学生的名单\nselect sname from student where sdept=\'CS\';\n#8\t查询所有年龄在20岁以下的学生姓名及年龄\nselect sname,sage from student where sage<20;\n#9\t查询考试成绩有不及格的学生学号\nselect distinct sno from sc where grade <60;\n#10\t查询年龄在20~23岁之间的学生姓名，系别和年龄\nselect sname,sdept,sage from student where sage between 20 and 23;\n#11\t查询年龄不在20~23之间的学生姓名，系别和年龄\nselect sname,sdept,sage from student where sage not between 20 and 23;\n#12\t查询计算机科学系，数学系，信息系学生的姓名与性别\nselect sname,ssex,sdept from student where sdept in(\'CS\',\'MA\',\'IS\');\nselect sname,ssex,sdept from student where sdept =\'CS\' or sdept=\'MA\' or sdept=\'IS\';\n#13\t查询既不是计算机系，数学系，也不是信息系的学生姓名与性别\nselect sname,ssex,sdept from student where sdept not in (\'CS\',\'MA\',\'IS\');\n#14\t查询学号为200215121的学生的详细情况\nselect *from student where sno like \'200215121\';\n#15\t查询所有姓刘的学生的学生姓名，学号，性别\nselect sname,sno,ssex from student where sname like \'刘%\';\n#16\t查询姓“欧阳”且全名为3个汉字的学生姓名\nselect sname from student where sname like \'欧阳_\';\n#17\t查询名字中第二个字为“阳”字的学生姓名与学号\nselect sname,sno from student where sname like \'_阳%\';\n#18\t查询所有不姓刘的学生姓名，学号，性别\nselect sname,sno,ssex from student where sname not like \'刘%\';\n#19\t查询DB_Design课程的课程号和学分\nselect cno,ccredit from course where cname like \'DB@_Design\' escape \'@\';\nselect cno,ccredit from course where cname = \'DB_Design\' ;\n#20\t查询以“DB_”开头，且倒数第三个字符为i的详细情况\nselect *from course where cname like \'DB@_%i__\'escape \'@\';\n#21\t查询缺少成绩的学生学号和相应的课程号\nselect sno,cno from sc where grade is null;\n#22\t查询所有有成绩的学生学号和课程号\nselect sno,cno from sc where grade is not null;\n#23\t查询计算机系年龄在20岁以下的学生姓名\nselect sname,sdept,sage from student where sdept=\'CS\' and sage<20;\n#24\t查询选修了2号课程的学生学号及其成绩，查询结果按分数降序排列\nselect sno,grade from sc where cno=\'2\' order by grade desc;\n#25\t查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列\nselect *from student order by sdept,sage desc;\n#26\t查询学生总人数\nselect count(*) from student;\n#27\t查询选修了课程的学生人数\nselect count(distinct sno)from sc;\n#28\t计算3号课程的学生平均成绩\nselect avg(grade) from sc where cno=\'3\';\n#29\t计算3号课程的学生最高成绩\nselect max(grade)from sc where cno=\'3\';\n#30\t查询学生200215122选修课程的总学分数\nselect sum(ccredit) from sc,course where sno=\'200215122\' and sc.cno=course.cno;\n#31\t求各个课程及相应的选课人数\nselect cno,count(sno) from sc group by cno;\n#32\t查询选修了3门以上课程的学生学号\nselect sno from sc group by sno having count(*)>3;\n#33\t查询每个学生及其选修课程的情况\nselect student.*,sc.* from student,sc where student.sno=sc.sno;\n#34\t对例33用自然连接完成\nselect student.sno,sname,ssex,sage,sdept,cno,grade from student,sc where student.sno=sc.sno;\n#35\t查询每一门课的间接先行课\nselect first.cno,second.cpno from course first,course second where first.cpno=second.cno;\nselect first.cno,second.cpno from course first,course second where first.cpno=second.cno and second.cpno is not null;\n#36\t对例33的改写\nselect student.sno,sname,ssex,sage,sdept,cno,grade from student left join sc on(student.sno=sc.sno);\nselect student.sno,sname,ssex,sage,sdept,cno,grade from student left join sc using(sno);\nselect student.sno,sname,ssex,sage,sdept,cno,grade from student right join sc on(student.sno=sc.sno);\n#37\t查询选修了1号课程且平均成绩在90分以上的所有学生\nselect student.sno,sname from student,sc where student.sno=sc.sno and cno=\'1\' and grade>90;\n#38\t查询每个学生的学号，姓名，选修的课程名及成绩\nselect student.sno,sname,cname,grade from student,sc,course where student.sno=sc.sno and sc.cno=course.cno;\n#39\t查询与刘晨在同一系学习的学生\nselect sname,sname,sdept from student where sdept in (select sdept from student where sname=\'刘晨\');\nselect s1.sno,s1.sname,s1.sdept from student s1,student s2 where s1.sdept=s2.sdept and s2.sname=\'刘晨\';\nselect sno,sname,sdept from student s1 where exists ( select* from student s2 where s2.sdept=s1.sdept and s2.sname=\'刘晨\');\n#40\t查询选修了课程名为信息系统的学生学号与姓名\nselect sno,sname from student where sno in (select sno from sc where cno in(select cno from course where cname=\'信息系统\'));\nselect student.sno,sname from student,sc,course where student.sno=sc.sno and sc.cno=course.cno and cname=\'信息系统\';\n#41\t找出每个学生超过他选修课程平均成绩的课程号\nselect sno,cno from sc x where grade>=(select avg(grade) from sc y where y.sno=x.sno);\nselect sc.sno,cno from sc,(select sno,avg(grade) A_G from sc group by sno) y where sc.sno=y.sno and sc.grade>=y.A_G;\n#42\t查询其他系中比计算机系某一学生年龄小的学生姓名与年龄\nselect sname,sage from student where sage<any(select sage from student where sdept=\'CS\') and sdept<>\'CS\';\nselect sname,sage from student where sage<(select max(sage) from student where sdept=\'CS\')and sdept<>\'CS\';\n#43\t查询其他系比计算机系所有学生年龄小的学生姓名及年龄\nselect sname,sage from student where sage<all(select sage from student where sdept=\'CS\')and sdept<>\'CS\';\nselect sname,sage from student where sage<(select min(sage) from student where sdept=\'CS\')and sdept<>\'CS\';\n#44\t查询所有选修了1号课程的学生姓名\nselect sname from student where exists(select * from sc where sno=student.sno and cno=\'1\');\n#45\t查询没有选修1号课程的学生姓名\nselect sname from student where not exists (select * from sc where sno=student.sno and cno=\'1\');\n#46\n#查询选修了全部课程的学生姓名\nselect sname from student where not exists ( select * from course where not exists( select * from sc where sno=student.sno and cno=course.cno));\n#查询选修了全部已开课程的学生姓名\nselect sname from student where not exists( select * from sc x where not exists( select * from sc y where sno=student.sno and x.cno=y.cno));\n#47\n#查询至少选修了学生200215122选修的全部课程的学生号码\nselect distinct sno from sc scx where not exists( select * from sc scy where sno=\'200215122\' and not exists( select * from sc scz where scz.sno=scx.sno and scz.cno=scy.cno));\n#48\t查询计算机系学生及年龄不大于19岁的学生\n select * from student where sdept=\'CS\' union select * from student where sage<=19;\n #49\t查询选修了课程1或2号的学生\n select sno from sc where cno=\'1\' union select sno from sc where cno=\'2\';\n #50\t查询计算机学生与年龄不大于19岁的学生的交集\n #select * from student where sdept=\'CS\' intersect select * from student where sage<=19;\nselect s1.* from student s1 left join(student s2) on(s1.sno=s2.sno) where s1.sdept=\'CS\' and s1.sage<=19;\n select * from student where sdept=\'CS\' and sage<=19;\n #51\t查询既选修了课程1又选修了课程2的学生\n #select sno from sc where cno=\'1\' intersect select sno from sc where cno=\'2\';\n select sno from sc where cno=\'1\' and sno in (select sno from sc where cno=\'2\');\n select scx.sno from sc scx,sc scy where scx.sno=scy.sno and scx.cno=\'1\' and scy.cno=\'2\';\n #52\t查询计算机系的学生与年龄不大于19岁学生的差集\n #select * from student where sdept=\'CS\' except select * from student where sage<=19;\n select * from student where sdept=\'CS\' and sage>19;\n #53\t将一个新学生元组插入到student表中\n insert into student (sno,sname,ssex,sdept,sage) values (\'200215129\',\'陈东\',\'男\',\'IS\',18);\n #54\t将学生张成民的信息插入到student表中\n insert into student values (\'200215130\',\'张成民\',\'男\',18,\'CS\');\n#55\t插入一条选课记录\ninsert into sc (sno,cno) values (\'200215128\',\'1\');\ninsert into sc values (\'200215129\',\'1\',null);\n#56\t对每一个系，求学生的平均年龄，并把结果存入数据库\ncreate table  dept_age\n( sdept char(15) primary  key ,\navg_age smallint\n);\ninsert into dept_age (sdept,avg_age) select sdept,avg(sage) from student group by sdept;\nselect *from dept_age;\n#57\t将学生200215121的年龄改为22岁\nupdate student set sage=22 where sno=\'200215121\';\n#58\t将所有学生的年龄加1岁\nupdate student set sage=sage+1;\n#59\t将计算机系的全体学生的成绩置0\nupdate sc set  grade=0 where \'CS\'=( select sdept from  student where student.sno=sc.sno);\nupdate sc set  grade=100 where sno in  (select sno from  student where sdept=\'CS\');\n#60\t建立计算机系学生的视图\ncreate view CS_Student as select sno,sname,sage from student where sdept=\'CS\';\n#61\t建立计算机系学生的视图，并按要求进行修改和插入时仍需保证该视图只有计算机系的学生\ncreate view CS_Student_Check as select sno,sname,sage from student where sdept=\'CS\' with check option;\n#62\t建立计算机系选修了1号课程的学生的视图\ncreate view CS_S1(sno,sname,grade) as select student.sno,sname,grade  from student,sc where sdept=\'CS\' and student.sno=sc.sno and sc.cno=\'1\';\n#63\t建立计算机系选修了1号课程且成绩在90分以上的学生的视图\ncreate view CS_S2 as select sno,sname,grade from CS_S1 where grade>=90;\n#64\t定义一个反映学生出生年份的视图\ncreate view BT_S(sno,sname,sbirth) as select sno,sname,2004-sage from student ;\n#65 将学生的学号及他的平均成绩定义为一个视图\ncreate view S_G(sno,gavg) as select sno,avg(grade) from sc group  by sno;\n#66\t将student表中的所有女生记录定义为一个视图\ncreate view F_Student as select * from student where ssex=\'女\';\n#67\t在计算机系学生的视图中找出年龄小于20岁的学生\nselect sno,sage from CS_Student where sage<=20;\n#68\t查询选修了1号课程的计算机系的学生\nselect CS_Student.sno,sname from CS_Student,sc where CS_Student.sno=sc.sno and sc.cno=\'1\';\n#69\t在S_G视图中查询平均成绩在90分以上的学生学号和平均成绩\nselect * from S_G where gavg>=90;\nselect sno,avg( grade) from sc group  by sno having avg( grade)>=90;\n#70\t将计算机系学生视图CS_Student中学号为200215122的学生姓名改为刘辰\nupdate CS_Student set sname=\'刘辰\' where sno=\'200215122\';\nupdate student set sname=\'刘辰\' where sno=\'200215122\' and sdept=\'CS\';\n#71\t向计算机系的学生视图CS_Student中插入一个新的学生记录，其中学号为200215129，姓名为赵新，年龄为20岁\ninsert into CS_Student values ( \'200215131\',\'赵新\',20);#不能自动插入系名\'CS\'\ninsert into student(sno,sname,sage,sdept) values ( \'200215131\',\'赵新\',20,\'CS\');\n#72\t删除计算机学生视图CS_Student中学号为200215129的记录\ndelete from CS_Student where sno=\'200215131\';#不能删除此人\ndelete from student where sno=\'200215131\' and sdept=\'CS\';#去掉sdept=\'CS\'可删除此人\n#73\t删除学号为200215128的学生记录\ndelete from sc where sno=\'200215128\';\ndelete from student where sno=\'200215128\';\n#74\t删除计算机系所有学生的选课记录\ndelete from sc where \'CS\'=(select sdept from  student where student.sno=sc.sno);\n#75\t删除所有学生的选课记录\ndelete from sc;\n#76 删除视图\ndrop view\tBT_S;\ndrop view  CS_S1 cascade;`, `18900017352558000000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span>  <span class="token keyword">if</span> <span class="token keyword">exists</span> Student_Course_Database <span class="token punctuation">;</span>\n<span class="token keyword">create</span> <span class="token keyword">database</span> Student_Course_Database<span class="token punctuation">;</span>\n<span class="token keyword">alter</span> <span class="token keyword">database</span> Student_Course_Database <span class="token keyword">character</span> <span class="token keyword">set</span> utf8<span class="token punctuation">;</span>\n<span class="token keyword">use</span> Student_Course_Database<span class="token punctuation">;</span>\n<span class="token keyword">create</span> <span class="token keyword">table</span> student\n<span class="token punctuation">(</span>sno <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>\n sname <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>\n ssex <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n sage <span class="token keyword">smallint</span><span class="token punctuation">,</span>\n sdept <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">create</span> <span class="token keyword">table</span> course\n<span class="token punctuation">(</span>cno <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>\n cname <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n cpno <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n ccredit <span class="token keyword">smallint</span><span class="token punctuation">,</span>\n <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>cpno<span class="token punctuation">)</span> <span class="token keyword">references</span> course<span class="token punctuation">(</span>cno<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">create</span> <span class="token keyword">table</span> sc\n<span class="token punctuation">(</span>sno <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\ncno <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\ngrade <span class="token keyword">smallint</span> <span class="token punctuation">,</span>\n<span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>sno<span class="token punctuation">,</span>cno<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>sno<span class="token punctuation">)</span> <span class="token keyword">references</span> student<span class="token punctuation">(</span>sno<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>cno<span class="token punctuation">)</span> <span class="token keyword">references</span> course<span class="token punctuation">(</span>cno<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'李勇\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215122\'</span><span class="token punctuation">,</span><span class="token string">\'刘晨\'</span><span class="token punctuation">,</span><span class="token string">\'女\'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215123\'</span><span class="token punctuation">,</span><span class="token string">\'王敏\'</span><span class="token punctuation">,</span><span class="token string">\'女\'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">\'MA\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215125\'</span><span class="token punctuation">,</span><span class="token string">\'张立\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">\'IS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215124\'</span><span class="token punctuation">,</span><span class="token string">\'刘武汉\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">\'PE\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215126\'</span><span class="token punctuation">,</span><span class="token string">\'李四\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token string">\'MA\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215128\'</span><span class="token punctuation">,</span><span class="token string">\'欧阳雨\'</span><span class="token punctuation">,</span><span class="token string">\'女\'</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215127\'</span><span class="token punctuation">,</span><span class="token string">\'欧阳杰\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token string">\'PY\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'6\'</span><span class="token punctuation">,</span><span class="token string">\'数据处理\'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course<span class="token punctuation">(</span>Cno<span class="token punctuation">,</span>Cname<span class="token punctuation">,</span>Ccredit<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'2\'</span><span class="token punctuation">,</span><span class="token string">\'数学\'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'8\'</span><span class="token punctuation">,</span><span class="token string">\'数字系统设计\'</span><span class="token punctuation">,</span><span class="token string">\'2\'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'7\'</span><span class="token punctuation">,</span><span class="token string">\'PASCAL语言\'</span><span class="token punctuation">,</span><span class="token string">\'6\'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'5\'</span><span class="token punctuation">,</span><span class="token string">\'数据结构\'</span><span class="token punctuation">,</span><span class="token string">\'7\'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'4\'</span><span class="token punctuation">,</span><span class="token string">\'操作系统\'</span><span class="token punctuation">,</span><span class="token string">\'6\'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'1\'</span><span class="token punctuation">,</span><span class="token string">\'数据库\'</span><span class="token punctuation">,</span><span class="token string">\'5\'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'3\'</span><span class="token punctuation">,</span><span class="token string">\'信息系统\'</span><span class="token punctuation">,</span><span class="token string">\'1\'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'9\'</span><span class="token punctuation">,</span><span class="token string">\'DB_Design\'</span><span class="token punctuation">,</span><span class="token string">\'1\'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'1\'</span><span class="token punctuation">,</span><span class="token number">92</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'2\'</span><span class="token punctuation">,</span><span class="token number">85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'3\'</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'4\'</span><span class="token punctuation">,</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'6\'</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215121\'</span><span class="token punctuation">,</span><span class="token string">\'5\'</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215122\'</span><span class="token punctuation">,</span><span class="token string">\'2\'</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215122\'</span><span class="token punctuation">,</span><span class="token string">\'4\'</span><span class="token punctuation">,</span><span class="token number">96</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215122\'</span><span class="token punctuation">,</span><span class="token string">\'3\'</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215123\'</span><span class="token punctuation">,</span><span class="token string">\'6\'</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215123\'</span><span class="token punctuation">,</span><span class="token string">\'5\'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc<span class="token punctuation">(</span>sno<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">\'200215127\'</span><span class="token punctuation">,</span><span class="token string">\'2\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">#1\t查询全体学生的学号与姓名</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#2\t查询全体学生的学号与姓名与所在系</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sno<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#3\t查询全体学生的详细记录</span>\n<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#4\t查询全体学生的姓名及出生年份</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span><span class="token number">2004</span><span class="token operator">-</span>sage <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#5\t查询全体学生的姓名，出生年份和所在的院系，要求用小写字母表示所有系名</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span><span class="token string">\'Year of Birth:\'</span><span class="token punctuation">,</span><span class="token number">2004</span><span class="token operator">-</span>sage<span class="token punctuation">,</span>lower<span class="token punctuation">(</span>sdept<span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token keyword">select</span> sname NAME<span class="token punctuation">,</span><span class="token string">\'Year of Birth:\'</span> BIRTH<span class="token punctuation">,</span><span class="token number">2004</span><span class="token operator">-</span>sage BIRTHDAY<span class="token punctuation">,</span>lower<span class="token punctuation">(</span>sdept<span class="token punctuation">)</span> DEPARTMENT <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#6\t查询选修了课程的学生学号</span>\n<span class="token keyword">select</span> <span class="token keyword">all</span> sno <span class="token keyword">from</span> sc<span class="token punctuation">;</span>\n<span class="token keyword">select</span> <span class="token keyword">distinct</span> sno <span class="token keyword">from</span> sc<span class="token punctuation">;</span>\n<span class="token comment">#7\t查询计算机科学系全体学生的名单</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#8\t查询所有年龄在20岁以下的学生姓名及年龄</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span>\n<span class="token comment">#9\t查询考试成绩有不及格的学生学号</span>\n<span class="token keyword">select</span> <span class="token keyword">distinct</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> grade <span class="token operator">&lt;</span><span class="token number">60</span><span class="token punctuation">;</span>\n<span class="token comment">#10\t查询年龄在20~23岁之间的学生姓名，系别和年龄</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">23</span><span class="token punctuation">;</span>\n<span class="token comment">#11\t查询年龄不在20~23之间的学生姓名，系别和年龄</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage <span class="token operator">not</span> <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">23</span><span class="token punctuation">;</span>\n<span class="token comment">#12\t查询计算机科学系，数学系，信息系学生的姓名与性别</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">\'CS\'</span><span class="token punctuation">,</span><span class="token string">\'MA\'</span><span class="token punctuation">,</span><span class="token string">\'IS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept <span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">or</span> sdept<span class="token operator">=</span><span class="token string">\'MA\'</span> <span class="token operator">or</span> sdept<span class="token operator">=</span><span class="token string">\'IS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#13\t查询既不是计算机系，数学系，也不是信息系的学生姓名与性别</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept <span class="token operator">not</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">\'CS\'</span><span class="token punctuation">,</span><span class="token string">\'MA\'</span><span class="token punctuation">,</span><span class="token string">\'IS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#14\t查询学号为200215121的学生的详细情况</span>\n<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> sno <span class="token operator">like</span> <span class="token string">\'200215121\'</span><span class="token punctuation">;</span>\n<span class="token comment">#15\t查询所有姓刘的学生的学生姓名，学号，性别</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sno<span class="token punctuation">,</span>ssex <span class="token keyword">from</span> student <span class="token keyword">where</span> sname <span class="token operator">like</span> <span class="token string">\'刘%\'</span><span class="token punctuation">;</span>\n<span class="token comment">#16\t查询姓“欧阳”且全名为3个汉字的学生姓名</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> sname <span class="token operator">like</span> <span class="token string">\'欧阳_\'</span><span class="token punctuation">;</span>\n<span class="token comment">#17\t查询名字中第二个字为“阳”字的学生姓名与学号</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sno <span class="token keyword">from</span> student <span class="token keyword">where</span> sname <span class="token operator">like</span> <span class="token string">\'_阳%\'</span><span class="token punctuation">;</span>\n<span class="token comment">#18\t查询所有不姓刘的学生姓名，学号，性别</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sno<span class="token punctuation">,</span>ssex <span class="token keyword">from</span> student <span class="token keyword">where</span> sname <span class="token operator">not</span> <span class="token operator">like</span> <span class="token string">\'刘%\'</span><span class="token punctuation">;</span>\n<span class="token comment">#19\t查询DB_Design课程的课程号和学分</span>\n<span class="token keyword">select</span> cno<span class="token punctuation">,</span>ccredit <span class="token keyword">from</span> course <span class="token keyword">where</span> cname <span class="token operator">like</span> <span class="token string">\'DB@_Design\'</span> <span class="token keyword">escape</span> <span class="token string">\'@\'</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> cno<span class="token punctuation">,</span>ccredit <span class="token keyword">from</span> course <span class="token keyword">where</span> cname <span class="token operator">=</span> <span class="token string">\'DB_Design\'</span> <span class="token punctuation">;</span>\n<span class="token comment">#20\t查询以“DB_”开头，且倒数第三个字符为i的详细情况</span>\n<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> course <span class="token keyword">where</span> cname <span class="token operator">like</span> <span class="token string">\'DB@_%i__\'</span><span class="token keyword">escape</span> <span class="token string">\'@\'</span><span class="token punctuation">;</span>\n<span class="token comment">#21\t查询缺少成绩的学生学号和相应的课程号</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>cno <span class="token keyword">from</span> sc <span class="token keyword">where</span> grade <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>\n#<span class="token number">22</span>\t查询所有有成绩的学生学号和课程号\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>cno <span class="token keyword">from</span> sc <span class="token keyword">where</span> grade <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>\n#<span class="token number">23</span>\t查询计算机系年龄在<span class="token number">20</span>岁以下的学生姓名\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">and</span> sage<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span>\n<span class="token comment">#24\t查询选修了2号课程的学生学号及其成绩，查询结果按分数降序排列</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>grade <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'2\'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> grade <span class="token keyword">desc</span><span class="token punctuation">;</span>\n<span class="token comment">#25\t查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列</span>\n<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">order</span> <span class="token keyword">by</span> sdept<span class="token punctuation">,</span>sage <span class="token keyword">desc</span><span class="token punctuation">;</span>\n<span class="token comment">#26\t查询学生总人数</span>\n<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> student<span class="token punctuation">;</span>\n<span class="token comment">#27\t查询选修了课程的学生人数</span>\n<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">distinct</span> sno<span class="token punctuation">)</span><span class="token keyword">from</span> sc<span class="token punctuation">;</span>\n<span class="token comment">#28\t计算3号课程的学生平均成绩</span>\n<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'3\'</span><span class="token punctuation">;</span>\n<span class="token comment">#29\t计算3号课程的学生最高成绩</span>\n<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span><span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'3\'</span><span class="token punctuation">;</span>\n<span class="token comment">#30\t查询学生200215122选修课程的总学分数</span>\n<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>ccredit<span class="token punctuation">)</span> <span class="token keyword">from</span> sc<span class="token punctuation">,</span>course <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215122\'</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>cno<span class="token operator">=</span>course<span class="token punctuation">.</span>cno<span class="token punctuation">;</span>\n<span class="token comment">#31\t求各个课程及相应的选课人数</span>\n<span class="token keyword">select</span> cno<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>sno<span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">group</span> <span class="token keyword">by</span> cno<span class="token punctuation">;</span>\n<span class="token comment">#32\t查询选修了3门以上课程的学生学号</span>\n<span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">group</span> <span class="token keyword">by</span> sno <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">;</span>\n<span class="token comment">#33\t查询每个学生及其选修课程的情况</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>sc<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">;</span>\n<span class="token comment">#34\t对例33用自然连接完成</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sage<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>cno<span class="token punctuation">,</span>grade <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">;</span>\n<span class="token comment">#35\t查询每一门课的间接先行课</span>\n<span class="token keyword">select</span> <span class="token keyword">first</span><span class="token punctuation">.</span>cno<span class="token punctuation">,</span><span class="token keyword">second</span><span class="token punctuation">.</span>cpno <span class="token keyword">from</span> course <span class="token keyword">first</span><span class="token punctuation">,</span>course <span class="token keyword">second</span> <span class="token keyword">where</span> <span class="token keyword">first</span><span class="token punctuation">.</span>cpno<span class="token operator">=</span><span class="token keyword">second</span><span class="token punctuation">.</span>cno<span class="token punctuation">;</span>\n<span class="token keyword">select</span> <span class="token keyword">first</span><span class="token punctuation">.</span>cno<span class="token punctuation">,</span><span class="token keyword">second</span><span class="token punctuation">.</span>cpno <span class="token keyword">from</span> course <span class="token keyword">first</span><span class="token punctuation">,</span>course <span class="token keyword">second</span> <span class="token keyword">where</span> <span class="token keyword">first</span><span class="token punctuation">.</span>cpno<span class="token operator">=</span><span class="token keyword">second</span><span class="token punctuation">.</span>cno <span class="token operator">and</span> <span class="token keyword">second</span><span class="token punctuation">.</span>cpno <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>\n<span class="token comment">#36\t对例33的改写</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sage<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>cno<span class="token punctuation">,</span>grade <span class="token keyword">from</span> student <span class="token keyword">left</span> <span class="token keyword">join</span> sc <span class="token keyword">on</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sage<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>cno<span class="token punctuation">,</span>grade <span class="token keyword">from</span> student <span class="token keyword">left</span> <span class="token keyword">join</span> sc <span class="token keyword">using</span><span class="token punctuation">(</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sage<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>cno<span class="token punctuation">,</span>grade <span class="token keyword">from</span> student <span class="token keyword">right</span> <span class="token keyword">join</span> sc <span class="token keyword">on</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#37\t查询选修了1号课程且平均成绩在90分以上的所有学生</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno <span class="token operator">and</span> cno<span class="token operator">=</span><span class="token string">\'1\'</span> <span class="token operator">and</span> grade<span class="token operator">></span><span class="token number">90</span><span class="token punctuation">;</span>\n<span class="token comment">#38\t查询每个学生的学号，姓名，选修的课程名及成绩</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>cname<span class="token punctuation">,</span>grade <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc<span class="token punctuation">,</span>course <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno <span class="token operator">and</span> sc<span class="token punctuation">.</span>cno<span class="token operator">=</span>course<span class="token punctuation">.</span>cno<span class="token punctuation">;</span>\n<span class="token comment">#39\t查询与刘晨在同一系学习的学生</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sdept <span class="token keyword">from</span> student <span class="token keyword">where</span> sname<span class="token operator">=</span><span class="token string">\'刘晨\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> s1<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>s1<span class="token punctuation">.</span>sname<span class="token punctuation">,</span>s1<span class="token punctuation">.</span>sdept <span class="token keyword">from</span> student s1<span class="token punctuation">,</span>student s2 <span class="token keyword">where</span> s1<span class="token punctuation">.</span>sdept<span class="token operator">=</span>s2<span class="token punctuation">.</span>sdept <span class="token operator">and</span> s2<span class="token punctuation">.</span>sname<span class="token operator">=</span><span class="token string">\'刘晨\'</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sdept <span class="token keyword">from</span> student s1 <span class="token keyword">where</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span> <span class="token keyword">select</span><span class="token operator">*</span> <span class="token keyword">from</span> student s2 <span class="token keyword">where</span> s2<span class="token punctuation">.</span>sdept<span class="token operator">=</span>s1<span class="token punctuation">.</span>sdept <span class="token operator">and</span> s2<span class="token punctuation">.</span>sname<span class="token operator">=</span><span class="token string">\'刘晨\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#40\t查询选修了课程名为信息系统的学生学号与姓名</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname <span class="token keyword">from</span> student <span class="token keyword">where</span> sno <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno <span class="token operator">in</span><span class="token punctuation">(</span><span class="token keyword">select</span> cno <span class="token keyword">from</span> course <span class="token keyword">where</span> cname<span class="token operator">=</span><span class="token string">\'信息系统\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc<span class="token punctuation">,</span>course <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno <span class="token operator">and</span> sc<span class="token punctuation">.</span>cno<span class="token operator">=</span>course<span class="token punctuation">.</span>cno <span class="token operator">and</span> cname<span class="token operator">=</span><span class="token string">\'信息系统\'</span><span class="token punctuation">;</span>\n<span class="token comment">#41\t找出每个学生超过他选修课程平均成绩的课程号</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>cno <span class="token keyword">from</span> sc x <span class="token keyword">where</span> grade<span class="token operator">>=</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">from</span> sc y <span class="token keyword">where</span> y<span class="token punctuation">.</span>sno<span class="token operator">=</span>x<span class="token punctuation">.</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sc<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>cno <span class="token keyword">from</span> sc<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> sno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> A_G <span class="token keyword">from</span> sc <span class="token keyword">group</span> <span class="token keyword">by</span> sno<span class="token punctuation">)</span> y <span class="token keyword">where</span> sc<span class="token punctuation">.</span>sno<span class="token operator">=</span>y<span class="token punctuation">.</span>sno <span class="token operator">and</span> sc<span class="token punctuation">.</span>grade<span class="token operator">>=</span>y<span class="token punctuation">.</span>A_G<span class="token punctuation">;</span>\n<span class="token comment">#42\t查询其他系中比计算机系某一学生年龄小的学生姓名与年龄</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;</span><span class="token keyword">any</span><span class="token punctuation">(</span><span class="token keyword">select</span> sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span> <span class="token operator">and</span> sdept<span class="token operator">&lt;></span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sage<span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token operator">and</span> sdept<span class="token operator">&lt;></span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#43\t查询其他系比计算机系所有学生年龄小的学生姓名及年龄</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;</span><span class="token keyword">all</span><span class="token punctuation">(</span><span class="token keyword">select</span> sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token operator">and</span> sdept<span class="token operator">&lt;></span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>sage<span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token operator">and</span> sdept<span class="token operator">&lt;></span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#44\t查询所有选修了1号课程的学生姓名</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> sno<span class="token operator">=</span>student<span class="token punctuation">.</span>sno <span class="token operator">and</span> cno<span class="token operator">=</span><span class="token string">\'1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#45\t查询没有选修1号课程的学生姓名</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> sno<span class="token operator">=</span>student<span class="token punctuation">.</span>sno <span class="token operator">and</span> cno<span class="token operator">=</span><span class="token string">\'1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#46</span>\n<span class="token comment">#查询选修了全部课程的学生姓名</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> course <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> sno<span class="token operator">=</span>student<span class="token punctuation">.</span>sno <span class="token operator">and</span> cno<span class="token operator">=</span>course<span class="token punctuation">.</span>cno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#查询选修了全部已开课程的学生姓名</span>\n<span class="token keyword">select</span> sname <span class="token keyword">from</span> student <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc x <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc y <span class="token keyword">where</span> sno<span class="token operator">=</span>student<span class="token punctuation">.</span>sno <span class="token operator">and</span> x<span class="token punctuation">.</span>cno<span class="token operator">=</span>y<span class="token punctuation">.</span>cno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#47</span>\n<span class="token comment">#查询至少选修了学生200215122选修的全部课程的学生号码</span>\n<span class="token keyword">select</span> <span class="token keyword">distinct</span> sno <span class="token keyword">from</span> sc scx <span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc scy <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215122\'</span> <span class="token operator">and</span> <span class="token operator">not</span> <span class="token keyword">exists</span><span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> sc scz <span class="token keyword">where</span> scz<span class="token punctuation">.</span>sno<span class="token operator">=</span>scx<span class="token punctuation">.</span>sno <span class="token operator">and</span> scz<span class="token punctuation">.</span>cno<span class="token operator">=</span>scy<span class="token punctuation">.</span>cno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#48\t查询计算机系学生及年龄不大于19岁的学生</span>\n <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sage<span class="token operator">&lt;=</span><span class="token number">19</span><span class="token punctuation">;</span>\n <span class="token comment">#49\t查询选修了课程1或2号的学生</span>\n <span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'1\'</span> <span class="token keyword">union</span> <span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'2\'</span><span class="token punctuation">;</span>\n <span class="token comment">#50\t查询计算机学生与年龄不大于19岁的学生的交集</span>\n <span class="token comment">#select * from student where sdept=\'CS\' intersect select * from student where sage&lt;=19;</span>\n<span class="token keyword">select</span> s1<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> student s1 <span class="token keyword">left</span> <span class="token keyword">join</span><span class="token punctuation">(</span>student s2<span class="token punctuation">)</span> <span class="token keyword">on</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>sno<span class="token operator">=</span>s2<span class="token punctuation">.</span>sno<span class="token punctuation">)</span> <span class="token keyword">where</span> s1<span class="token punctuation">.</span>sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">and</span> s1<span class="token punctuation">.</span>sage<span class="token operator">&lt;=</span><span class="token number">19</span><span class="token punctuation">;</span>\n <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">and</span> sage<span class="token operator">&lt;=</span><span class="token number">19</span><span class="token punctuation">;</span>\n <span class="token comment">#51\t查询既选修了课程1又选修了课程2的学生</span>\n <span class="token comment">#select sno from sc where cno=\'1\' intersect select sno from sc where cno=\'2\';</span>\n <span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'1\'</span> <span class="token operator">and</span> sno <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sno <span class="token keyword">from</span> sc <span class="token keyword">where</span> cno<span class="token operator">=</span><span class="token string">\'2\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token keyword">select</span> scx<span class="token punctuation">.</span>sno <span class="token keyword">from</span> sc scx<span class="token punctuation">,</span>sc scy <span class="token keyword">where</span> scx<span class="token punctuation">.</span>sno<span class="token operator">=</span>scy<span class="token punctuation">.</span>sno <span class="token operator">and</span> scx<span class="token punctuation">.</span>cno<span class="token operator">=</span><span class="token string">\'1\'</span> <span class="token operator">and</span> scy<span class="token punctuation">.</span>cno<span class="token operator">=</span><span class="token string">\'2\'</span><span class="token punctuation">;</span>\n <span class="token comment">#52\t查询计算机系的学生与年龄不大于19岁学生的差集</span>\n <span class="token comment">#select * from student where sdept=\'CS\' except select * from student where sage&lt;=19;</span>\n <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">and</span> sage<span class="token operator">></span><span class="token number">19</span><span class="token punctuation">;</span>\n <span class="token comment">#53\t将一个新学生元组插入到student表中</span>\n <span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token punctuation">(</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>ssex<span class="token punctuation">,</span>sdept<span class="token punctuation">,</span>sage<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">\'200215129\'</span><span class="token punctuation">,</span><span class="token string">\'陈东\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token string">\'IS\'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token comment">#54\t将学生张成民的信息插入到student表中</span>\n <span class="token keyword">insert</span> <span class="token keyword">into</span> student <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">\'200215130\'</span><span class="token punctuation">,</span><span class="token string">\'张成民\'</span><span class="token punctuation">,</span><span class="token string">\'男\'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#55\t插入一条选课记录</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token punctuation">(</span>sno<span class="token punctuation">,</span>cno<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">\'200215128\'</span><span class="token punctuation">,</span><span class="token string">\'1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> sc <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">\'200215129\'</span><span class="token punctuation">,</span><span class="token string">\'1\'</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#56\t对每一个系，求学生的平均年龄，并把结果存入数据库</span>\n<span class="token keyword">create</span> <span class="token keyword">table</span>  dept_age\n<span class="token punctuation">(</span> sdept <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token keyword">primary</span>  <span class="token keyword">key</span> <span class="token punctuation">,</span>\navg_age <span class="token keyword">smallint</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> dept_age <span class="token punctuation">(</span>sdept<span class="token punctuation">,</span>avg_age<span class="token punctuation">)</span> <span class="token keyword">select</span> sdept<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sage<span class="token punctuation">)</span> <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sdept<span class="token punctuation">;</span>\n<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> dept_age<span class="token punctuation">;</span>\n<span class="token comment">#57\t将学生200215121的年龄改为22岁</span>\n<span class="token keyword">update</span> student <span class="token keyword">set</span> sage<span class="token operator">=</span><span class="token number">22</span> <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215121\'</span><span class="token punctuation">;</span>\n<span class="token comment">#58\t将所有学生的年龄加1岁</span>\n<span class="token keyword">update</span> student <span class="token keyword">set</span> sage<span class="token operator">=</span>sage<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token comment">#59\t将计算机系的全体学生的成绩置0</span>\n<span class="token keyword">update</span> sc <span class="token keyword">set</span>  grade<span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">where</span> <span class="token string">\'CS\'</span><span class="token operator">=</span><span class="token punctuation">(</span> <span class="token keyword">select</span> sdept <span class="token keyword">from</span>  student <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">update</span> sc <span class="token keyword">set</span>  grade<span class="token operator">=</span><span class="token number">100</span> <span class="token keyword">where</span> sno <span class="token operator">in</span>  <span class="token punctuation">(</span><span class="token keyword">select</span> sno <span class="token keyword">from</span>  student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#60\t建立计算机系学生的视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> CS_Student <span class="token keyword">as</span> <span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#61\t建立计算机系学生的视图，并按要求进行修改和插入时仍需保证该视图只有计算机系的学生</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> CS_Student_Check <span class="token keyword">as</span> <span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sage <span class="token keyword">from</span> student <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token keyword">with</span> <span class="token keyword">check</span> <span class="token keyword">option</span><span class="token punctuation">;</span>\n<span class="token comment">#62\t建立计算机系选修了1号课程的学生的视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> CS_S1<span class="token punctuation">(</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>grade<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">select</span> student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>grade  <span class="token keyword">from</span> student<span class="token punctuation">,</span>sc <span class="token keyword">where</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span> <span class="token operator">and</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno <span class="token operator">and</span> sc<span class="token punctuation">.</span>cno<span class="token operator">=</span><span class="token string">\'1\'</span><span class="token punctuation">;</span>\n<span class="token comment">#63\t建立计算机系选修了1号课程且成绩在90分以上的学生的视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> CS_S2 <span class="token keyword">as</span> <span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>grade <span class="token keyword">from</span> CS_S1 <span class="token keyword">where</span> grade<span class="token operator">>=</span><span class="token number">90</span><span class="token punctuation">;</span>\n<span class="token comment">#64\t定义一个反映学生出生年份的视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> BT_S<span class="token punctuation">(</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sbirth<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">select</span> sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span><span class="token number">2004</span><span class="token operator">-</span>sage <span class="token keyword">from</span> student <span class="token punctuation">;</span>\n<span class="token comment">#65 将学生的学号及他的平均成绩定义为一个视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> S_G<span class="token punctuation">(</span>sno<span class="token punctuation">,</span>gavg<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">select</span> sno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>grade<span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">group</span>  <span class="token keyword">by</span> sno<span class="token punctuation">;</span>\n<span class="token comment">#66\t将student表中的所有女生记录定义为一个视图</span>\n<span class="token keyword">create</span> <span class="token keyword">view</span> F_Student <span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> ssex<span class="token operator">=</span><span class="token string">\'女\'</span><span class="token punctuation">;</span>\n<span class="token comment">#67\t在计算机系学生的视图中找出年龄小于20岁的学生</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span>sage <span class="token keyword">from</span> CS_Student <span class="token keyword">where</span> sage<span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span>\n<span class="token comment">#68\t查询选修了1号课程的计算机系的学生</span>\n<span class="token keyword">select</span> CS_Student<span class="token punctuation">.</span>sno<span class="token punctuation">,</span>sname <span class="token keyword">from</span> CS_Student<span class="token punctuation">,</span>sc <span class="token keyword">where</span> CS_Student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno <span class="token operator">and</span> sc<span class="token punctuation">.</span>cno<span class="token operator">=</span><span class="token string">\'1\'</span><span class="token punctuation">;</span>\n<span class="token comment">#69\t在S_G视图中查询平均成绩在90分以上的学生学号和平均成绩</span>\n<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> S_G <span class="token keyword">where</span> gavg<span class="token operator">>=</span><span class="token number">90</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> sno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span> grade<span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">group</span>  <span class="token keyword">by</span> sno <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span> grade<span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">90</span><span class="token punctuation">;</span>\n<span class="token comment">#70\t将计算机系学生视图CS_Student中学号为200215122的学生姓名改为刘辰</span>\n<span class="token keyword">update</span> CS_Student <span class="token keyword">set</span> sname<span class="token operator">=</span><span class="token string">\'刘辰\'</span> <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215122\'</span><span class="token punctuation">;</span>\n<span class="token keyword">update</span> student <span class="token keyword">set</span> sname<span class="token operator">=</span><span class="token string">\'刘辰\'</span> <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215122\'</span> <span class="token operator">and</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">;</span>\n<span class="token comment">#71\t向计算机系的学生视图CS_Student中插入一个新的学生记录，其中学号为200215129，姓名为赵新，年龄为20岁</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> CS_Student <span class="token keyword">values</span> <span class="token punctuation">(</span> <span class="token string">\'200215131\'</span><span class="token punctuation">,</span><span class="token string">\'赵新\'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#不能自动插入系名\'CS\'</span>\n<span class="token keyword">insert</span> <span class="token keyword">into</span> student<span class="token punctuation">(</span>sno<span class="token punctuation">,</span>sname<span class="token punctuation">,</span>sage<span class="token punctuation">,</span>sdept<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span> <span class="token string">\'200215131\'</span><span class="token punctuation">,</span><span class="token string">\'赵新\'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">\'CS\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#72\t删除计算机学生视图CS_Student中学号为200215129的记录</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> CS_Student <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215131\'</span><span class="token punctuation">;</span><span class="token comment">#不能删除此人</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215131\'</span> <span class="token operator">and</span> sdept<span class="token operator">=</span><span class="token string">\'CS\'</span><span class="token punctuation">;</span><span class="token comment">#去掉sdept=\'CS\'可删除此人</span>\n<span class="token comment">#73\t删除学号为200215128的学生记录</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215128\'</span><span class="token punctuation">;</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> student <span class="token keyword">where</span> sno<span class="token operator">=</span><span class="token string">\'200215128\'</span><span class="token punctuation">;</span>\n<span class="token comment">#74\t删除计算机系所有学生的选课记录</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> sc <span class="token keyword">where</span> <span class="token string">\'CS\'</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> sdept <span class="token keyword">from</span>  student <span class="token keyword">where</span> student<span class="token punctuation">.</span>sno<span class="token operator">=</span>sc<span class="token punctuation">.</span>sno<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">#75\t删除所有学生的选课记录</span>\n<span class="token keyword">delete</span> <span class="token keyword">from</span> sc<span class="token punctuation">;</span>\n<span class="token comment">#76 删除视图</span>\n<span class="token keyword">drop</span> <span class="token keyword">view</span>\tBT_S<span class="token punctuation">;</span>\n<span class="token keyword">drop</span> <span class="token keyword">view</span>  CS_S1 <span class="token keyword">cascade</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>',
excerpt:"以下是 sql 常用语句整理：",frontmatter:{date:"2018-04-02 17:45:38",path:"/database-commonly-used-statements/",tags:"面试, 数据库",title:"数据库常用语句",draft:null}},prePost:{html:'<h1 id="一、事务"><a href="#%E4%B8%80%E3%80%81%E4%BA%8B%E5%8A%A1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一、事务</h1>\n<h2 id="概念"><a href="#%E6%A6%82%E5%BF%B5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>概念</h2>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/185b9c49-4c13-4241-a848-fbff85c03a64-1593ee610d4d693b24ead2d9b9472d75-1857e.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 448px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 97.54464285714285%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACp0lEQVQ4y5VUW08aQRT2/7/VxyZN0/RBmya9GMsDRERUwFSEQhWEvSDX3YW9X5DL7tczs4CrlERPcjKTmZNvvu9cZg8Ji6IIr7VdsXsvA8IwhOdZ8H0LQWBjOnXIbb5nZ75v8xgWn/Q1xhag41gYTzK4b33FZeED6n8PkM+/R7H0EaqWortTetDdyXgL0PMcaOM8MSlCUbM4O/uEi4vP0A12VsBkUoRhGMQ4oFiP3OeMdzJkK2Og62OYlgHXZVJdApnwNQim6A/KGI4y5Fk8dNOw7fFzwCQYs+VySR7yl9nKbD6fb+T1+leQO98hiD8gSj9hWeo2YBTFiY6L4vGA2WxG/sj3TOJiseB73/coBRrJV+DYBp3PnwBflp+xW58lWSX3cVy4uyhqT4JQycMyDcrLCPV6HY1GgyruoNfroVqtQpIkaJrG94IgwHFddMQWxEoOxuSFZOn2N+7PvkAW27i5qSCTTqNQKHCQk5MTnJ/nUS5f4/LyArncKUqlIgS6y2WO0cofYiC3YkBK117cew72999BVTWqrg5ZlqmZpxs5jO18HkuUpAequLO5c2yHp2krh9XqH2SzWS6LFYPljBWn3x9gpPRg2SK1h0jVvaZVgmkK1FZtIqM+z2GyKJ1Oh6SV0Ww2V97AeGxgMLhFq32I27sD6rsf1IdHq/Ub5fwKMcFoxXCNnphl0zS5dF2fUGsYkOQaOg/HJPcXMUzRA2kMhhkCTGE0qiAelOj5pCzC3T9NGC75p/D46PLPIghiZ2fTqY+nXl4B9sU7NIspSrDJL4fDIbrdLhRF2ST8tV9ZDNiuQSwdwTZ1sCvWe6xlWE6TFdzlWwwVRUWlUiVJs1g+jdh6zN768XLAWq22aRlmbFJYtZns5OuvBmT9NqKR+1++3sKO2T8QGvk3ERwtgwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="185b9c49 4c13 4241 a848 fbff85c03a64"\n        title=""\n        src="/static/185b9c49-4c13-4241-a848-fbff85c03a64-1593ee610d4d693b24ead2d9b9472d75-1857e.png"\n        srcset="/static/185b9c49-4c13-4241-a848-fbff85c03a64-1593ee610d4d693b24ead2d9b9472d75-15195.png 200w,\n/static/185b9c49-4c13-4241-a848-fbff85c03a64-1593ee610d4d693b24ead2d9b9472d75-82e6d.png 400w,\n/static/185b9c49-4c13-4241-a848-fbff85c03a64-1593ee610d4d693b24ead2d9b9472d75-1857e.png 448w"\n        sizes="(max-width: 448px) 100vw, 448px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>事务指的是满足 ACID 特性的一系列操作。在数据库中，可以通过 Commit 提交一个事务，也可以使用 Rollback 进行回滚。</p>\n<h2 id="四大特性"><a href="#%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>四大特性</h2>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/09e6e8d4-4d83-4949-b908-6d6b4c2fd064-84169f9332e0d89e63ce04b06efa8338-4b0e9.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 571px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 38.00350262697023%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABhElEQVQoz21S71OiUBTt//9r+rT1xdUgtS1rlDLgPRAIHgIiiIChNZ69D5ad2llmztx7frxzv3Bx+vjEe3PqcDyhOX20s9ca2o9S+yfTfM0QP5/PkN/Fmz5DYk6x4feIzTuw2QCRMUXCfrUQr2OwhwE2tEtfajIT6pP2TUpwFgrKfdEVpuYEiCg4vwLEHeL5D+L3qNlPHFcKEEw7jbwDHwLxw1+eatf4dFVUbIgiT7tCT6N2doPMuEHBFLDxJXJjhEwfEVexWQ5gklbZY+z5LUqugk0usdWHhBFpKt4er7DL/hQ6KxtRGMDUl1gLH8sXDVmawPccrCxGngA3dXiODW3+hE28xuvLM9b0xuYGhO/BsS3sdnlXmGU54iTBbPYIIUKk2y2qqgZjHJr2jKLYE6/geh4URW29PN9hm2VYLDTohkFlBcqy7Ap936drIUJCEATgnLdT6oKm67pwHAdRFNFBgTiOYVlWm5FcQvryaFvYNA3qum5xOBy+7T167X/oM/1v8xuGZE32f9SFxAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="09e6e8d4 4d83 4949 b908 6d6b4c2fd064"\n        title=""\n        src="/static/09e6e8d4-4d83-4949-b908-6d6b4c2fd064-84169f9332e0d89e63ce04b06efa8338-4b0e9.png"\n        srcset="/static/09e6e8d4-4d83-4949-b908-6d6b4c2fd064-84169f9332e0d89e63ce04b06efa8338-b8aee.png 200w,\n/static/09e6e8d4-4d83-4949-b908-6d6b4c2fd064-84169f9332e0d89e63ce04b06efa8338-fe23d.png 400w,\n/static/09e6e8d4-4d83-4949-b908-6d6b4c2fd064-84169f9332e0d89e63ce04b06efa8338-4b0e9.png 571w"\n        sizes="(max-width: 571px) 100vw, 571px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="1-原子性（atomicity）"><a href="#1-%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%88atomicity%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 原子性（Atomicity）</h3>\n<p>事务被视为不可分割的最小单元，要么全部提交成功，要么全部失败回滚。</p>\n<h3 id="2-一致性（consistency）"><a href="#2-%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%88consistency%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 一致性（Consistency）</h3>\n<p>事务执行前后都保持一致性状态。在一致性状态下，所有事务对一个数据的读取结果都是相同的。</p>\n<h3 id="3-隔离性（isolation）"><a href="#3-%E9%9A%94%E7%A6%BB%E6%80%A7%EF%BC%88isolation%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 隔离性（Isolation）</h3>\n<p>一个事务所做的修改在最终提交以前，对其它事务是不可见的。</p>\n<h3 id="4-持久性（durability）"><a href="#4-%E6%8C%81%E4%B9%85%E6%80%A7%EF%BC%88durability%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 持久性（Durability）</h3>\n<p>一旦事务提交，则其所做的修改将会永远保存到数据库中。即使系统发生崩溃，事务执行的结果也不能丢失。可以通过数据库备份和恢复来保证持久性。</p>\n<h1 id="二、并发一致性问题"><a href="#%E4%BA%8C%E3%80%81%E5%B9%B6%E5%8F%91%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>二、并发一致性问题</h1>\n<p>在并发环境下，一个事务如果受到另一个事务的影响，那么事务操作就无法满足一致性条件。</p>\n<h2 id="问题"><a href="#%E9%97%AE%E9%A2%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>问题</h2>\n<h3 id="1-丢失修改"><a href="#1-%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 丢失修改</h3>\n<p>T<sub>1</sub> 和 T<sub>2</sub> 两个事务都对一个数据进行修改，T<sub>1</sub> 先修改，T<sub>2</sub> 随后修改，T<sub>2</sub> 的修改覆盖了 T<sub>1</sub> 的修改。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/88ff46b3-028a-4dbb-a572-1f062b8b96d3-5a79cd6225b81f7bb28610f322457a11-5751a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 447px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 126.62192393736018%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADAUlEQVQ4y5VViW7aQBDN//9EpVY9pDYNbUrSiIjgQgKh3IQAscPhC2xOm9sHr+sNdrBNonQla8ezu7Nv3szOHIGM7XZLP2fM53Os12sE9e7Y102nUxiG4emdcbS/0RmapmG5XPp0weHqFUXBZrMJG3R/nMVqtQqO4zzdIYTuxaVSCZIk+Q06s/uzWCxwfXODcrkMy7Ke9AG3XXk4HIJhGLAsG0ToHHhG0O20MZ/pIQOHOHQ8sW07iPBJkGQFrU4PsXgS2TxxuyUS0vVX3RZFMbROObTMNdJFAeeZMS7SCqJJCZErAc3HHt3koggi5Hk+xPURnbY27poCUvkumAyL63wHiQwHUR7sDG7/w+BOsMwNttYa1XIBstiBba7IJhtPF259B92P5wXf/3Pa2BYqdQHM3y4iv3OIpZpIZNvgRdWHMMglz3dD3FKDtrVBMsvh468aPp0W8T32QOUGJ3ocegiJ3OsPIPWGOL+Ik+AJJKCql+Cey4PhmGwaoVpjSbQlgk7BbL4I8aZrE1ymu/jJSCR4Io5jHL5dNNFXR+GXQg2rCkxzE0oRd16tlsgUWpSWWKqBeJpDLHmPyS7FPIRuasiyTF/MIWNBDuu1Cjlo+Dl8q0FXXq+XuC0+0rT6EvmDKzIzt+wzwuDNKnHZMF52eaZPcRqv491xEe9PcvgcreFDpIi+MvK77FQPTV8gncmi3njAZKIRvlYhhDZJsR45LMojlCoNCPKQBtCLsps2mWIHJ5csvp6VEWVaVObavVfzUJbEw3m4tU3kqzyiCRY/YhXErls4Y1i0ecUzuO+6vUPc7fJ0zd5/KV46LBckGHN0Oh1a62a6BjNQ3oO8BovrwaDkcjkIgvCmnhKPx6Hrerg4eBWbvIxUMolioUCKhRkysC+rqopEIoFms+lb8yE0yXxXv0eLlCVv0wsNysmASqVC6dnP4yOvbzgGByNYY9Ia5T4MdXAQIS11pN84CCeTCa2Js9nM/1LcjcZgCFPTsemrMEbjVw06LdTp4U4b2G+7/wC8iIINCOrKcAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="88ff46b3 028a 4dbb a572 1f062b8b96d3"\n        title=""\n        src="/static/88ff46b3-028a-4dbb-a572-1f062b8b96d3-5a79cd6225b81f7bb28610f322457a11-5751a.png"\n        srcset="/static/88ff46b3-028a-4dbb-a572-1f062b8b96d3-5a79cd6225b81f7bb28610f322457a11-a742c.png 200w,\n/static/88ff46b3-028a-4dbb-a572-1f062b8b96d3-5a79cd6225b81f7bb28610f322457a11-4517e.png 400w,\n/static/88ff46b3-028a-4dbb-a572-1f062b8b96d3-5a79cd6225b81f7bb28610f322457a11-5751a.png 447w"\n        sizes="(max-width: 447px) 100vw, 447px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="2-读脏数据"><a href="#2-%E8%AF%BB%E8%84%8F%E6%95%B0%E6%8D%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 读脏数据</h3>\n<p>T<sub>1</sub> 修改一个数据，T<sub>2</sub> 随后读取这个数据。如果 T<sub>1</sub> 撤销了这次修改，那么 T<sub>2</sub> 读取的数据是脏数据。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/dd782132-d830-4c55-9884-cfac0a541b8e-bda57d5228f69ce8752268817a4003b4-9c82e.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 495px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 115.55555555555554%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACsklEQVQ4y5VViXLaMBDl/7+jM+1MSdK0zdGGlCPkIuEoGBowro2x8Qk2DZcN5lVyMPUBnWRnNFpp1k/7VvvkFDa2Xq/9QW2xWGA2myX24+vpdOrHhvdTCFkQSMHG43FkbxfgaDTCZDKJxKXCQcEmwzRRLlfgOG4CJJhd10WpVEKn04lmGAej9pvrgmnUE5mHfTpXq1WIorif8nw+R6+volxronBdIr5GqD/vBVVVNVJDn7KiKNA0DQNZwkAd4uCCw4eTJo6zAj5lJbS5QSKzMCBNIpLharUCHXTxPJmi8SSh3ODx+JMjvgxzaL8acHspgVHg6XSCbpdFrVbzfddx/kt5J2CwUDQTn7McTgo9HGXaOMywYHnlbYDU8TaL4WiM7B2HH7ddZMm4vOXQl423Zxg3a6ijL/LB53iJfWUNaadTCdmWhYGi4yz/hPTpIxllnF91wYtqAsjzvJcSKWpEoj4glQ+VmWHoECUFRxdNpM9qOM60cPj9FzhB2YL45dmAUTMMw1dMuBQRyjSYUtB0A5Ik+374g8AoI8uyUXp4RLvDEk1bfodsLyUuvfDjEOhW13WYpgllIKHFKvj4rY30OYMveQGZeyoOPdk2K5IhzVKWJCL6tu8vycl0pofMZnOS9QwCkeTlDYvL6ycUHnjcVkVYtp0EHBkaWvkDVDPv8XD2Du2rNAY9NkHZ8yi9FTlYxPMfm6zdaA0DQHtkonN/jtbNCZjiV7D3p9Dl3ibYSzxztASO6+5XSnCDQq+HBsNs5OjF2ubfTdfrdb91djZ2+ORKpYLrYhHL5XLvw0AvKpfLoVGvJ99DfxHRtEreQvFFGzGa25kMXhCgE9phjFRcn958AUfowxFluOZwb4aOqmGpGVh0ebjGMNnY249o65B/iUcorTfNugvQc5fwSElobDjuL0IV7InW+ZOXAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="dd782132 d830 4c55 9884 cfac0a541b8e"\n        title=""\n        src="/static/dd782132-d830-4c55-9884-cfac0a541b8e-bda57d5228f69ce8752268817a4003b4-9c82e.png"\n        srcset="/static/dd782132-d830-4c55-9884-cfac0a541b8e-bda57d5228f69ce8752268817a4003b4-84a0c.png 200w,\n/static/dd782132-d830-4c55-9884-cfac0a541b8e-bda57d5228f69ce8752268817a4003b4-afbfd.png 400w,\n/static/dd782132-d830-4c55-9884-cfac0a541b8e-bda57d5228f69ce8752268817a4003b4-9c82e.png 495w"\n        sizes="(max-width: 495px) 100vw, 495px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="3-不可重复读"><a href="#3-%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 不可重复读</h3>\n<p>T<sub>2</sub> 读取一个数据，T<sub>1</sub> 对该数据做了修改。如果 T<sub>2</sub> 再次读取这个数据，此时读取的结果和和第一次读取的结果不同。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/c8d18ca9-0b09-441a-9a0c-fb063630d708-09ff5455ff3b7713436373dd3a4ea61e-a3fce.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 515px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 113.7864077669903%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACyElEQVQ4y4VVa3OaQBT1//+KTj8kM+0kmSZ1OrHNJI5JbOL7VaMGASG80aCAguIpi6JQN/bOMLvA2bP3cfZuBhRbr9fU+f8wZMzQQGR0XRdBEFAXx++LxQKO46QwGRoZMV3X4fs+9V882rYd4ZIbZeJJcmfLslCtVjFk2eg96en+ARhmiFqtDs/zj4ccztBs1KCp8p4IW+8S+BHPovT8O7V+52EQbKCG+Q5BniD/UEGnx0OUzZ2HwWpFVsENQ+3031Cs9JG7K6PRFaHq400OCViSJKiqisnYQLXF49NFE58vyvhy/Yrz6zY83wNCsvlIxEpWITU7+PEo4jTbwVWex9kvDn1W3RAS71YheOPFGrppYcDpqDQGaPUEcKKxz+E2tGWIF99UMKyIRqsLXpAxndnpKsdmzyxYYxXlp3uMhj1MJ8YuHcnCEVutfOiaSs9hDBy9VKFULiFXs+CKZ2CesqHePKpsiA5lWU4p4YDQUEQoTANs5xn8nxKkYSdKCY3Q8zwoikIXdmzufAHL9vBUroMdSbBd70NhUwmJq4ZhRGKWJRG1NofT702cfCvhPNfD1U0nWrhblIiGCFpVtW3I633IhMwJz67jzPDKyrgtDvCz0MbNwwseywMsl8tdlZPCXsxtiAKXLgo+sPeJCd+b74nCSMgTugLXcdF9lVAsdZG7fUbrRYRuvB8WZXNiNtXSNB2zrbai8FQdi1DU/pCHMhgiez/CyVULl3ccvuYY9IbKYVGS1SZdhHST3ffYw9BIFxLeNDCchEa7D05QYE1nxwlN00wR7jCJLAbBMiyofjyHcciiKKY9jDdLbOqEueT5UVrYNO+IkPP5fAjmD/4l5wzDoFAopBssrR8Sz+r1OgRBSO3+LyEbNmCCSzZgqofkntA0LToFH10DRJvj8Tg6y0THRwkJ2XQ6jfI4n8+phOQSI0ogxUsev7/hMe6vsu2iCQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="c8d18ca9 0b09 441a 9a0c fb063630d708"\n        title=""\n        src="/static/c8d18ca9-0b09-441a-9a0c-fb063630d708-09ff5455ff3b7713436373dd3a4ea61e-a3fce.png"\n        srcset="/static/c8d18ca9-0b09-441a-9a0c-fb063630d708-09ff5455ff3b7713436373dd3a4ea61e-96d1c.png 200w,\n/static/c8d18ca9-0b09-441a-9a0c-fb063630d708-09ff5455ff3b7713436373dd3a4ea61e-2b9d0.png 400w,\n/static/c8d18ca9-0b09-441a-9a0c-fb063630d708-09ff5455ff3b7713436373dd3a4ea61e-a3fce.png 515w"\n        sizes="(max-width: 515px) 100vw, 515px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="4-幻影读"><a href="#4-%E5%B9%BB%E5%BD%B1%E8%AF%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 幻影读</h3>\n<p>T<sub>1</sub> 读取某个范围的数据，T<sub>2</sub> 在这个范围内插入新的数据，T<sub>1</sub> 再次读取这个范围的数据，此时读取的结果和和第一次读取的结果不同。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/688dacfe-1057-412f-b3a1-86abb5b0f914-f2283e443153dce590f8d847cc601df5-6dd13.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 459px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 124.61873638344227%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC6klEQVQ4y5VVDVuiQBD2//+PfkB1dZ2ZX2GSqehpXVqoKAKLomCo+AHv7RKY+HXdPs84u+Pyzs7Mu7MxBMPzPF+vViuMx+OIbXeEdtM0Ydv2xsYktrtpvV5jMBhs1odAQxtzvOt8D7DT6YDjOCiKchAwXDuOg1KphGKxCNd1N//tARqGAZ7n/XBOATL98vKCWq0WDTmcMAk9SZKEbftu+KGeTCYghERDPpR2VVWO5m3bwS7gZ8j0ZzS2QHQD+nAEVRvgNpGCSgYY0LVGhjT8SeSjkydcLhyk+TckCjqSBQ23vIKbXBeJRxXJJ4JfeRXc0zvd6jLf/wZcODNkChJ+ZGVkBAsXqTYuM2zdpbqDy2wfD4IMz13thTybTjEcDqMhr5YL5GtdcLURuKoOTiBIFWTcl7XP+ZOCR6G1c8LPvMp9FWKrEwDii4ej2jOGrw0YVD4sE43GKw3Hgv0x8bXjzP3NIQvUXgut6j2E+2uUs1foPeeprR1UmUKvTQuePYM3mwee+wer7AWA8lsFzfQZfifOID2eQy+fQ2pU4IWA+7RRDwOGV240hNIVIb3/wWtdgErn5tj4CtmZzzG1PzCfzWDRG5LLcZhObSpTXy+Xyz1QNuzpjFLLiDiNLXzaNJEtE2SKfaSf+viZfUe2pPpFSfA9FKtikMOA3EHoE4vyl2iR/MZYwuOciOucilTJxHlSxJVPGUYdCRcZGXylGwU8xUMGeMeLSJUNpAUDyaKOO0pwRupUkeDmQQFfFr8PyI5POl3021RaEi2/gkq15l9BotPkqzpM6z+unrdaY/HWgqsRuPqAZRpE077VHFi3Zs14r2N7gfgdm55YECqbEN0D7SssQJ/ytd1uR4uyCSPshR0J8Xg80toPnY4BFAoF5PP5029Kr9fz27pFKXGqY7PHrF6v+7I9Yrv5YXlhp2O5YR8dyx8jOysK27ftPALINomi6L8nzWbTf4iOAbLryR4yJrIsH3+kjlX3u7a/3eR+6ZR27yUAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="688dacfe 1057 412f b3a1 86abb5b0f914"\n        title=""\n        src="/static/688dacfe-1057-412f-b3a1-86abb5b0f914-f2283e443153dce590f8d847cc601df5-6dd13.png"\n        srcset="/static/688dacfe-1057-412f-b3a1-86abb5b0f914-f2283e443153dce590f8d847cc601df5-fad05.png 200w,\n/static/688dacfe-1057-412f-b3a1-86abb5b0f914-f2283e443153dce590f8d847cc601df5-a671c.png 400w,\n/static/688dacfe-1057-412f-b3a1-86abb5b0f914-f2283e443153dce590f8d847cc601df5-6dd13.png 459w"\n        sizes="(max-width: 459px) 100vw, 459px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="解决方法"><a href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>解决方法</h2>\n<p>产生并发不一致性问题主要原因是破坏了事务的隔离性，解决方法是通过并发控制来保证隔离性。</p>\n<p>在没有并发的情况下，事务以串行的方式执行，互不干扰，因此可以保证隔离性。在并发的情况下，如果能通过并发控制，让事务的执行结果和某一个串行执行的结果相同，就认为事务的执行结果满足隔离性要求，也就是说是正确的。把这种事务执行方式称为 <strong>可串行化调度</strong> 。</p>\n<p><strong>并发控制可以通过封锁来实现，但是封锁操作需要用户自己控制，相当复杂。数据库管理系统提供了事务的隔离级别，让用户以一种更轻松的方式处理并发一致性问题。</strong></p>\n<h1 id="三、封锁"><a href="#%E4%B8%89%E3%80%81%E5%B0%81%E9%94%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>三、封锁</h1>\n<h2 id="封锁粒度"><a href="#%E5%B0%81%E9%94%81%E7%B2%92%E5%BA%A6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>封锁粒度</h2>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/1a851e90-0d5c-4d4f-ac54-34c20ecfb903-52bf098a69c66740636507d9638776ca-cba36.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 432px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 80.0925925925926%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAezU0mgH/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAIBERID/9oACAEBAAEFAujZFuYH0LdH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAABARITEi/9oACAEBAAY/Askxclr/xAAbEAEAAwADAQAAAAAAAAAAAAABABEhEDFBYf/aAAgBAQABPyFAJo1EFaL5KmXW/ssz3j//2gAMAwEAAgADAAAAEHDP/8QAFhEAAwAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/EKx//8QAFhEAAwAAAAAAAAAAAAAAAAAAEBEh/9oACAECAQE/EIh//8QAHRABAAICAgMAAAAAAAAAAAAAAREhADEQUXGR4f/aAAgBAQABPxCVGodV4xyhBW6wAVPvI5sTsGz5vIdGthpeP//Z\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="1a851e90 0d5c 4d4f ac54 34c20ecfb903"\n        title=""\n        src="/static/1a851e90-0d5c-4d4f-ac54-34c20ecfb903-52bf098a69c66740636507d9638776ca-cba36.jpg"\n        srcset="/static/1a851e90-0d5c-4d4f-ac54-34c20ecfb903-52bf098a69c66740636507d9638776ca-d4ced.jpg 200w,\n/static/1a851e90-0d5c-4d4f-ac54-34c20ecfb903-52bf098a69c66740636507d9638776ca-88845.jpg 400w,\n/static/1a851e90-0d5c-4d4f-ac54-34c20ecfb903-52bf098a69c66740636507d9638776ca-cba36.jpg 432w"\n        sizes="(max-width: 432px) 100vw, 432px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>应该尽量只锁定需要修改的那部分数据，而不是所有的资源。锁定的数据量越少，发生锁争用的可能就越小，系统的并发程度就越高。</p>\n<p>但是加锁需要消耗资源，锁的各种操作，包括获取锁，检查锁是否已经解除、释放锁，都会增加系统开销。因此封锁粒度越小，系统开销就越大。需要在锁开销以及数据安全性之间做一个权衡。</p>\n<p>MySQL 中提供了两种封锁粒度：行级锁以及表级锁。</p>\n<h2 id="封锁类型"><a href="#%E5%B0%81%E9%94%81%E7%B1%BB%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>封锁类型</h2>\n<h3 id="1-排它锁与共享锁"><a href="#1-%E6%8E%92%E5%AE%83%E9%94%81%E4%B8%8E%E5%85%B1%E4%BA%AB%E9%94%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 排它锁与共享锁</h3>\n<ul>\n<li>排它锁（Exclusive），简写为 X 锁，又称写锁。</li>\n<li>共享锁（Shared），简写为 S 锁，又称读锁。</li>\n</ul>\n<p>有以下两个规定：</p>\n<ol>\n<li>一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其它事务不能对 A 加任何锁。</li>\n<li>一个事务对数据对象 A 加了 S 锁，可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。</li>\n</ol>\n<p>锁的兼容关系如下：</p>\n<table>\n<thead>\n<tr>\n<th align="center">-</th>\n<th align="center">X</th>\n<th align="center">S</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">X</td>\n<td align="center">No</td>\n<td align="center">No</td>\n</tr>\n<tr>\n<td align="center">S</td>\n<td align="center">No</td>\n<td align="center">Yes</td>\n</tr>\n</tbody>\n</table>\n<h3 id="2-意向锁"><a href="#2-%E6%84%8F%E5%90%91%E9%94%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 意向锁</h3>\n<p>意向锁（Intention Locks）可以支持多粒度封锁。它本身是一个表锁，通过在原来的 X/S 锁之上引入了 IX/IS，用来表示一个事务想要在某个数据行上加 X 锁或 S 锁。</p>\n<p>有以下两个规定：</p>\n<ol>\n<li>一个事务在获得某个数据行对象的 S 锁之前，必须先获得 IS 锁或者更强的锁；</li>\n<li>一个事务在获得某个数据行对象的 X 锁之前，必须先获得 IX 锁。</li>\n</ol>\n<p>各种锁的兼容关系如下：</p>\n<table>\n<thead>\n<tr>\n<th align="center">-</th>\n<th align="center">X</th>\n<th align="center">IX</th>\n<th align="center">S</th>\n<th align="center">IS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">X</td>\n<td align="center">No</td>\n<td align="center">No</td>\n<td align="center">No</td>\n<td align="center">No</td>\n</tr>\n<tr>\n<td align="center">IX</td>\n<td align="center">No</td>\n<td align="center">Yes</td>\n<td align="center">No</td>\n<td align="center">Yes</td>\n</tr>\n<tr>\n<td align="center">S</td>\n<td align="center">No</td>\n<td align="center">No</td>\n<td align="center">Yes</td>\n<td align="center">Yes</td>\n</tr>\n<tr>\n<td align="center">IS</td>\n<td align="center">No</td>\n<td align="center">Yes</td>\n<td align="center">Yes</td>\n<td align="center">Yes</td>\n</tr>\n</tbody>\n</table>\n<h2 id="封锁协议"><a href="#%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>封锁协议</h2>\n<h3 id="1-三级封锁协议"><a href="#1-%E4%B8%89%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 三级封锁协议</h3>\n<p><strong>一级封锁协议</strong></p>\n<p>事务 T 要修改数据 A 时必须加 X 锁，直到 T 结束才释放锁。</p>\n<p>可以解决丢失修改问题，因为不能同时有两个事务对同一个数据进行修改，那么一个事务的修改就不会被覆盖。</p>\n<table>\n<thead>\n<tr>\n<th align="center">T\n<sub>\n1\n</sub></th>\n<th align="center">T\n<sub>\n1\n</sub></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">lock-x(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">read A=20</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">lock-x(A)</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">wait</td>\n</tr>\n<tr>\n<td align="center">write A=19</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">commit</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">unlock-x(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">obtain</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">read A=19</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">write A=21</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">commit</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">unlock-x(A)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>二级封锁协议</strong></p>\n<p>在一级的基础上，要求读取数据 A 时必须加 S 锁，读取完马上释放 S 锁。</p>\n<p>可以解决读脏数据问题，因为如果一个事务在对数据 A 进行修改，根据 1 级封锁协议，会加 X 锁，那么就不能再加 S 锁了，也就是不会读入数据。</p>\n<table>\n<thead>\n<tr>\n<th align="center">T\n<sub>\n1\n</sub></th>\n<th align="center">T\n<sub>\n1\n</sub></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">lock-x(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">read A=20</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">write A=19</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">lock-s(A)</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">wait</td>\n</tr>\n<tr>\n<td align="center">rollback</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">A=20</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">unlock-x(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">obtain</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">read A=20</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">commit</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">unlock-s(A)</td>\n</tr>\n</tbody>\n</table>\n<p><strong>三级封锁协议</strong></p>\n<p>在二级的基础上，要求读取数据 A 时必须加 S 锁，直到事务结束了才能释放 S 锁。</p>\n<p>可以解决不可重复读的问题，因为读 A 时，其它事务不能对 A 加 X 锁，从而避免了在读的期间数据发生改变。</p>\n<table>\n<thead>\n<tr>\n<th align="center">T\n<sub>\n1\n</sub></th>\n<th align="center">T\n<sub>\n1\n</sub></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">lock-s(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">read A=20</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">lock-x(A)</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">wait</td>\n</tr>\n<tr>\n<td align="center">read A=20</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">commit</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center">unlock-s(A)</td>\n<td align="center"></td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">obtain</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">read A=20</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">write A=19</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">commit</td>\n</tr>\n<tr>\n<td align="center"></td>\n<td align="center">unlock-X(A)</td>\n</tr>\n</tbody>\n</table>\n<h3 id="2-两段锁协议"><a href="#2-%E4%B8%A4%E6%AE%B5%E9%94%81%E5%8D%8F%E8%AE%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 两段锁协议</h3>\n<p>加锁和解锁分为两个阶段进行，事务 T 对数据 A 进行读或者写操作之前，必须先获得对 A 的封锁，并且在释放一个封锁之后，T 不能再获得任何的其它锁。</p>\n<p>事务遵循两段锁协议是保证并发操作可串行化调度的充分条件。例如以下操作满足两段锁协议，它是可串行化调度。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="92886057136626900000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`lock-x(A)...lock-s(B)...lock-s(c)...unlock(A)...unlock(C)...unlock(B)`, `92886057136626900000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html">lock-x(A)...lock-s(B)...lock-s(c)...unlock(A)...unlock(C)...unlock(B)</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>但不是必要条件，例如以下操作不满足两段锁协议，但是它还是可串行化调度。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5510137821506444000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`lock-x(A)...unlock(A)...lock-s(B)...unlock(B)...lock-s(c)...unlock(C)...`, `5510137821506444000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html">lock-x(A)...unlock(A)...lock-s(B)...unlock(B)...lock-s(c)...unlock(C)...</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h1 id="四、隔离级别"><a href="#%E5%9B%9B%E3%80%81%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>四、隔离级别</h1>\n<p><font size=4> <strong>1. 未提交读（READ UNCOMMITTED）</strong> </font> </br></p>\n<p>事务中的修改，即使没有提交，对其它事务也是可见的。</p>\n<p><font size=4> <strong>2. 提交读（READ COMMITTED）</strong> </font> </br></p>\n<p>一个事务只能读取已经提交的事务所做的修改。换句话说，一个事务所做的修改在提交之前对其它事务是不可见的。</p>\n<p><font size=4> <strong>3. 可重复读（REPEATABLE READ）</strong> </font> </br></p>\n<p>保证在同一个事务中多次读取同样数据的结果是一样的。</p>\n<p><font size=4> <strong>4. 可串行化（SERIALIXABLE）</strong> </font> </br></p>\n<p>强制事务串行执行。</p>\n<p><font size=4> <strong>四个隔离级别的对比</strong> </font> </br></p>\n<table>\n<thead>\n<tr>\n<th align="center">隔离级别</th>\n<th align="center">脏读</th>\n<th align="center">不可重复读</th>\n<th align="center">幻影读</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">未提交读</td>\n<td align="center">YES</td>\n<td align="center">YES</td>\n<td align="center">YES</td>\n</tr>\n<tr>\n<td align="center">提交读</td>\n<td align="center">NO</td>\n<td align="center">YES</td>\n<td align="center">YES</td>\n</tr>\n<tr>\n<td align="center">可重复读</td>\n<td align="center">NO</td>\n<td align="center">NO</td>\n<td align="center">YES</td>\n</tr>\n<tr>\n<td align="center">可串行化</td>\n<td align="center">NO</td>\n<td align="center">NO</td>\n<td align="center">NO</td>\n</tr>\n</tbody>\n</table>\n<h1 id="五、多版本并发控制"><a href="#%E4%BA%94%E3%80%81%E5%A4%9A%E7%89%88%E6%9C%AC%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>五、多版本并发控制</h1>\n<p>（Multi-Version Concurrency Control, MVCC）是 MySQL 的 InnoDB 存储引擎实现隔离级别的一种具体方式，用于实现提交读和可重复读这两种隔离级别。而未提交读隔离级别总是读取最新的数据行，无需使用 MVCC；可串行化隔离级别需要对所有读取的行都加锁，单纯使用 MVCC 无法实现。</p>\n<h2 id="版本号"><a href="#%E7%89%88%E6%9C%AC%E5%8F%B7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>版本号</h2>\n<ul>\n<li>系统版本号：是一个递增的数字，每开始一个新的事务，系统版本号就会自动递增。</li>\n<li>事务版本号：事务开始时的系统版本号。</li>\n</ul>\n<p>InooDB 的 MVCC 在每行记录后面都保存着两个隐藏的列，用来存储两个版本号：</p>\n<ul>\n<li>创建版本号：指示创建一个数据行的快照时的系统版本号；</li>\n<li>删除版本号：如果该快照的删除版本号大于当前事务版本号表示该快照有效，否则表示该快照已经被删除了。</li>\n</ul>\n<h2 id="undo-日志"><a href="#undo-%E6%97%A5%E5%BF%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Undo 日志</h2>\n<p>InnoDB 的 MVCC 使用到的快照存储在 Undo 日志中，该日志通过回滚指针把一个数据行（Record）的所有快照连接起来。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/e41405a8-7c05-4f70-8092-e961e28d3112-e4fb40fe4b5144998bf1b1179d8da315-6ce5d.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 536px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 36.38059701492538%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3QUD/8QAFRABAQAAAAAAAAAAAAAAAAAAEDH/2gAIAQEAAQUCj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABkQAAIDAQAAAAAAAAAAAAAAAAABESFRYf/aAAgBAQABPyG+iXgj/9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQADAAMAAAAAAAAAAAAAAAEAETEhQZH/2gAIAQEAAT8QSxNPc58exKWlT//Z\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="e41405a8 7c05 4f70 8092 e961e28d3112"\n        title=""\n        src="/static/e41405a8-7c05-4f70-8092-e961e28d3112-e4fb40fe4b5144998bf1b1179d8da315-6ce5d.jpg"\n        srcset="/static/e41405a8-7c05-4f70-8092-e961e28d3112-e4fb40fe4b5144998bf1b1179d8da315-60771.jpg 200w,\n/static/e41405a8-7c05-4f70-8092-e961e28d3112-e4fb40fe4b5144998bf1b1179d8da315-bb403.jpg 400w,\n/static/e41405a8-7c05-4f70-8092-e961e28d3112-e4fb40fe4b5144998bf1b1179d8da315-6ce5d.jpg 536w"\n        sizes="(max-width: 536px) 100vw, 536px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="实现过程"><a href="#%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>实现过程</h2>\n<p>以下过程针对可重复读隔离级别。</p>\n<h3 id="1-select"><a href="#1-select" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. SELECT</h3>\n<p>该操作必须保证多个事务读取到同一个数据行的快照，这个快照是最近的一个有效快照。但是也有例外，如果有一个事务正在修改该数据行，那么它可以读取事务本身所做的修改，而不用和其它事务的读取结果一致。</p>\n<p>当开始新一个事务时，该事务的版本号肯定会大于当前所有数据行快照的创建版本号，理解这一点很关键。</p>\n<p>把没对一个数据行做修改的事务称为 T，T 所要读取的数据行快照的创建版本号必须小于 T 的版本号，因为如果大于或者等于 T 的版本号，那么表示该数据行快照是其它事务的最新修改，因此不能去读取它。</p>\n<p>除了上面的要求，T 所要读取的数据行快照的删除版本号必须大于 T 的版本号，因为如果小于等于 T 的版本号，那么表示该数据行快照是已经被删除的，不应该去读取它。</p>\n<h3 id="2-insert"><a href="#2-insert" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. INSERT</h3>\n<p>将系统版本号作为数据行快照的创建版本号。</p>\n<h3 id="3-delete"><a href="#3-delete" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. DELETE</h3>\n<p>将系统版本号作为数据行快照的删除版本号。</p>\n<h3 id="4-update"><a href="#4-update" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. UPDATE</h3>\n<p>将系统版本号作为更新后的数据行快照的创建版本号，同时将系统版本号作为作为更新前的数据行快照的删除版本号。可以理解为先执行 DELETE 后执行 INSERT。</p>\n<h2 id="快照读与当前读"><a href="#%E5%BF%AB%E7%85%A7%E8%AF%BB%E4%B8%8E%E5%BD%93%E5%89%8D%E8%AF%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>快照读与当前读</h2>\n<h3 id="1-当前读"><a href="#1-%E5%BD%93%E5%89%8D%E8%AF%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 当前读</h3>\n<p>读取最新的数据。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="9039484105325690000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`select * from table ....;`, `9039484105325690000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h3 id="2-快照读"><a href="#2-%E5%BF%AB%E7%85%A7%E8%AF%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 快照读</h3>\n<p>读取快照中的数据。</p>\n<p>引入快照读的目的主要是为了免去加锁操作带来的性能开销，但是当前读需要加锁。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="34784421896430960000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`select * from table where ? lock in share mode;\nselect * from table where ? for update;\ninsert;\nupdate ;\ndelete;`, `34784421896430960000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ? <span class="token keyword">lock</span> <span class="token operator">in</span> <span class="token keyword">share</span> <span class="token keyword">mode</span><span class="token punctuation">;</span>\n<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ? <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span>\n<span class="token keyword">insert</span><span class="token punctuation">;</span>\n<span class="token keyword">update</span> <span class="token punctuation">;</span>\n<span class="token keyword">delete</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="六、next-key-locks"><a href="#%E5%85%AD%E3%80%81next-key-locks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>六、Next-Key Locks</h1>\n<p>Next-Key Locks 也是 MySQL 的 InnoDB 存储引擎的一种锁实现。MVCC 不能解决幻读的问题，Next-Key Locks 就是为了解决这个问题而存在的。在可重复读隔离级别下，MVCC + Next-Key Locks，就可以防止幻读的出现。</p>\n<h2 id="record-locks"><a href="#record-locks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Record Locks</h2>\n<p>锁定的对象是索引，而不是数据。如果表没有设置索引，InnoDB 会自动在主键上创建隐藏的聚集索引，因此 Record Locks 依然可以使用。</p>\n<h2 id="grap-locks"><a href="#grap-locks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Grap Locks</h2>\n<p>锁定一个范围内的索引，例如当一个事务执行以下语句，其它事务就不能在 t.c 中插入 15。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="95848175127416320000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`SELECT c FROM t WHERE c BETWEEN 10 and 20 FOR UPDATE;`, `95848175127416320000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token keyword">SELECT</span> c <span class="token keyword">FROM</span> t <span class="token keyword">WHERE</span> c <span class="token operator">BETWEEN</span> <span class="token number">10</span> <span class="token operator">and</span> <span class="token number">20</span> <span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h2 id="next-key-locks"><a href="#next-key-locks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next-Key Locks</h2>\n<p>它是 Record Locks 和 Gap Locks 的结合。在 user 中有以下记录：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="20191781063228700000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`|   id | last_name   | first_name   |   age |\n|------|-------------|--------------|-------|\n|    4 | stark       | tony         |    21 |\n|    1 | tom         | hiddleston   |    30 |\n|    3 | morgan      | freeman      |    40 |\n|    5 | jeff        | dean         |    50 |\n|    2 | donald      | trump        |    80 |\n+------|-------------|--------------|-------+`, `20191781063228700000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token operator">|</span>   id <span class="token operator">|</span> last_name   <span class="token operator">|</span> first_name   <span class="token operator">|</span>   age <span class="token operator">|</span>\n<span class="token operator">|</span><span class="token comment">------|-------------|--------------|-------|</span>\n<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> stark       <span class="token operator">|</span> tony         <span class="token operator">|</span>    <span class="token number">21</span> <span class="token operator">|</span>\n<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> tom         <span class="token operator">|</span> hiddleston   <span class="token operator">|</span>    <span class="token number">30</span> <span class="token operator">|</span>\n<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> morgan      <span class="token operator">|</span> freeman      <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>\n<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> jeff        <span class="token operator">|</span> dean         <span class="token operator">|</span>    <span class="token number">50</span> <span class="token operator">|</span>\n<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> donald      <span class="token operator">|</span> trump        <span class="token operator">|</span>    <span class="token number">80</span> <span class="token operator">|</span>\n<span class="token operator">+</span><span class="token comment">------|-------------|--------------|-------+</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么就需要锁定以下范围：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="39592284133333870000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`(-∞, 21]\n(21, 30]\n(30, 40]\n(40, 50]\n(50, 80]\n(80, ∞)`, `39592284133333870000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="sql"><pre style="counter-reset: linenumber NaN" class="language-sql line-numbers"><code class="language-sql"><span class="token punctuation">(</span><span class="token operator">-</span>∞<span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">]</span>\n<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>\n<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span>\n<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span>\n<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">]</span>\n<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> ∞<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="七、关系数据库设计理论"><a href="#%E4%B8%83%E3%80%81%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E7%90%86%E8%AE%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>七、关系数据库设计理论</h1>\n<h2 id="函数依赖"><a href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>函数依赖</h2>\n<p>记 A->B 表示 A 函数决定 B，也可以说 B 函数依赖于 A。</p>\n<p>如果 {A1，A2，… ，An} 是关系的一个或多个属性的集合，该集合决定了关系的其它所有属性并且是最小的，那么该集合就称为键码。</p>\n<p>对于 W->A，如果能找到 W 的真子集 W’，使得 W’-> A，那么 W->A 就是部分函数依赖，否则就是完全函数依赖；</p>\n<h2 id="异常"><a href="#%E5%BC%82%E5%B8%B8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>异常</h2>\n<p>以下的学生课程关系的函数依赖为 Sno, Cname -> Sname, Sdept, Mname, Grade，键码为 {Sno, Cname}。也就是说，确定学生和课程之后，就能确定其它信息。</p>\n<table>\n<thead>\n<tr>\n<th align="center">Sno</th>\n<th align="center">Sname</th>\n<th align="center">Sdept</th>\n<th align="center">Mname</th>\n<th align="center">Cname</th>\n<th align="center">Grade</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">1</td>\n<td align="center">学生-1</td>\n<td align="center">学院-1</td>\n<td align="center">院长-1</td>\n<td align="center">课程-1</td>\n<td align="center">90</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n<td align="center">课程-2</td>\n<td align="center">80</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n<td align="center">课程-1</td>\n<td align="center">100</td>\n</tr>\n</tbody>\n</table>\n<p>不符合范式的关系，会产生很多异常，主要有以下四种异常：</p>\n<ol>\n<li>冗余数据，例如学生-2 出现了两次。</li>\n<li>修改异常，修改了一个记录中的信息，但是另一个记录中相同的信息却没有被修改。</li>\n<li>删除异常，删除一个信息，那么也会丢失其它信息。例如如果删除了课程-1，需要删除第二行和第三行，那么学生-1 的信息就会丢失。</li>\n<li>插入异常，例如想要插入一个学生的信息，如果这个学生还没选课，那么就无法插入。</li>\n</ol>\n<h2 id="范式"><a href="#%E8%8C%83%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>范式</h2>\n<p>范式理论是为了解决以上提到四种异常。高级别范式的依赖于低级别的范式。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/c2d343f7-604c-4856-9a3c-c71d6f67fecc-1589066cae8d56b32413e5a67016f2da-1c0b9.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 472px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 83.68644067796612%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB7klEQVQ4y4WU147CQAxF8/+/xANCPACigwBRRRW99+rVsdZRJmG1I0XT7Otjz0w8+W2fz0fCjbX7/S6Xy0W2262cz2e53W7yfr8l7Ge9x8AmOO52O3m9XnI8HlWE73Q6qQj7+/1eNpuN2oXF6B3BVqsl8XhcjZ/Pp0/B+Hq9Ki3f4/HQ+Wq10rFDGI4AQbValVwup3TMCQAl1IfDQeeskz60QVGHcL1eKwFC7XZbCUiffUsXMUQRR8xK49SQRgps0BCZTqeafr1eVzoOxGwhCtICQkBHkGjUijlkjBFKJBKSSqUkmUzKeDzWNYQQIAgQy+XSh/GC6dLMgUZ0nOj7/b5/MNTOUqUMi8VCRcnMIWSMGA6kxRoNUQJmMhnpdrt+WaBkHbvRaBQV5K4ZugljxB59p9PRmlJfiLChPBAOh0P1jwiSCqmROj1CFgSiRqMhsVhMZrOZBkScQPRODTEmIjWiNyGjZk4tCZLP5yWbzUqv19NUK5WK1jLy9EiD0zUBu7QIEQh6yNLptBSLRT39UqmkL8y/2MGXghiiOCNmL8EuO3SQcOLlclmFeVGRlxIW5eRwpODQ2fWAjrs4GAykUCgo3b9v2Xp7WvP5XOtEvbgyzWZTarWaTCaTr78w76//Go0DgYCU7VIbkdmG/X4Atn0a//WMfsMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="c2d343f7 604c 4856 9a3c c71d6f67fecc"\n        title=""\n        src="/static/c2d343f7-604c-4856-9a3c-c71d6f67fecc-1589066cae8d56b32413e5a67016f2da-1c0b9.png"\n        srcset="/static/c2d343f7-604c-4856-9a3c-c71d6f67fecc-1589066cae8d56b32413e5a67016f2da-689e7.png 200w,\n/static/c2d343f7-604c-4856-9a3c-c71d6f67fecc-1589066cae8d56b32413e5a67016f2da-d007c.png 400w,\n/static/c2d343f7-604c-4856-9a3c-c71d6f67fecc-1589066cae8d56b32413e5a67016f2da-1c0b9.png 472w"\n        sizes="(max-width: 472px) 100vw, 472px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="1-第一范式-1nf"><a href="#1-%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F-1nf" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 第一范式 (1NF)</h3>\n<p>属性不可分；</p>\n<h3 id="2-第二范式-2nf"><a href="#2-%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F-2nf" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 第二范式 (2NF)</h3>\n<p>每个非主属性完全函数依赖于键码。</p>\n<p>可以通过分解来满足。</p>\n<p><font size=4> <strong>分解前</strong> </font><br></p>\n<table>\n<thead>\n<tr>\n<th align="center">Sno</th>\n<th align="center">Sname</th>\n<th align="center">Sdept</th>\n<th align="center">Mname</th>\n<th align="center">Cname</th>\n<th align="center">Grade</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">1</td>\n<td align="center">学生-1</td>\n<td align="center">学院-1</td>\n<td align="center">院长-1</td>\n<td align="center">课程-1</td>\n<td align="center">90</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n<td align="center">课程-2</td>\n<td align="center">80</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n<td align="center">课程-1</td>\n<td align="center">100</td>\n</tr>\n</tbody>\n</table>\n<p>以上学生课程关系中，{Sno, Cname} 为键码，有如下函数依赖：</p>\n<ul>\n<li>Sno, Cname -> Sname, Sdept, Mname</li>\n<li>Sno -> Sname, Sdept</li>\n<li>Sdept -> Mname</li>\n<li>Sno -> Manme</li>\n<li>Sno, Cname-> Grade</li>\n</ul>\n<p>Grade 完全函数依赖于键码，它没有任何冗余数据，每个学生的每门课都有特定的成绩。</p>\n<p>Sname, Sdept 和 Manme 都函数依赖于 Sno，而部分依赖于键码。当一个学生选修了多门课时，这些数据就会出现多次，造成大量冗余数据。</p>\n<p><font size=4> <strong>分解后</strong> </font><br></p>\n<p>关系-1</p>\n<table>\n<thead>\n<tr>\n<th align="center">Sno</th>\n<th align="center">Sname</th>\n<th align="center">Sdept</th>\n<th align="center">Mname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">1</td>\n<td align="center">学生-1</td>\n<td align="center">学院-1</td>\n<td align="center">院长-1</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n</tr>\n</tbody>\n</table>\n<p>有以下函数依赖：</p>\n<ul>\n<li>Sno -> Sname, Sdept, Mname</li>\n<li>Sdept -> Mname</li>\n</ul>\n<p>关系-2</p>\n<table>\n<thead>\n<tr>\n<th align="center">Sno</th>\n<th align="center">Cname</th>\n<th align="center">Grade</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">1</td>\n<td align="center">课程-1</td>\n<td align="center">90</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">课程-2</td>\n<td align="center">80</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">课程-1</td>\n<td align="center">100</td>\n</tr>\n</tbody>\n</table>\n<p>有以下函数依赖：</p>\n<ul>\n<li>Sno, Cname -> Grade</li>\n</ul>\n<h3 id="3-第三范式-3nf"><a href="#3-%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F-3nf" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 第三范式 (3NF)</h3>\n<p>非主属性不传递依赖于键码。</p>\n<p>上面的关系-1 中存在以下传递依赖：Sno -> Sdept -> Mname，可以进行以下分解：</p>\n<p>关系-11</p>\n<table>\n<thead>\n<tr>\n<th align="center">Sno</th>\n<th align="center">Sname</th>\n<th align="center">Sdept</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">1</td>\n<td align="center">学生-1</td>\n<td align="center">学院-1</td>\n</tr>\n<tr>\n<td align="center">2</td>\n<td align="center">学生-2</td>\n<td align="center">学院-2</td>\n</tr>\n</tbody>\n</table>\n<p>关系-12</p>\n<table>\n<thead>\n<tr>\n<th align="center">Sdept</th>\n<th align="center">Mname</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">学院-1</td>\n<td align="center">院长-1</td>\n</tr>\n<tr>\n<td align="center">学院-2</td>\n<td align="center">院长-2</td>\n</tr>\n</tbody>\n</table>\n<h3 id="4-bc-范式（bcnf）"><a href="#4-bc-%E8%8C%83%E5%BC%8F%EF%BC%88bcnf%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. BC 范式（BCNF）</h3>\n<p>所有属性不传递依赖于键码。</p>\n<p>关系 STC(Sname, Tname, Cname, Grade) 的四个属性分别为学生姓名、教师姓名、课程名和成绩，它的键码为 (Sname, Cname, Tname)，有以下函数依赖：</p>\n<ul>\n<li>Sname, Cname -> Tname</li>\n<li>Sname, Cname -> Grade</li>\n<li>Sname, Tname -> Cname</li>\n<li>Sname, Tname -> Grade</li>\n<li>Tname -> Cname</li>\n</ul>\n<p>存在着以下函数传递依赖：</p>\n<ul>\n<li>Sname -> Tname -> Cname</li>\n</ul>\n<p>可以分解成 SC(Sname, Cname, Grade) 和 ST(Sname, Tname)，对于 ST，属性之间是多对多关系，无函数依赖。</p>\n<h1 id="八、数据库系统概述"><a href="#%E5%85%AB%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>八、数据库系统概述</h1>\n<h2 id="基本术语"><a href="#%E5%9F%BA%E6%9C%AC%E6%9C%AF%E8%AF%AD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本术语</h2>\n<h3 id="1-数据模型"><a href="#1-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 数据模型</h3>\n<p>由数据结构、数据操作和完整性三个要素组成。</p>\n<h3 id="2-数据库系统"><a href="#2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 数据库系统</h3>\n<p>数据库系统包含所有与数据库相关的内容，包括数据库、数据库管理系统、应用程序以及数据库管理员和用户，还包括相关的硬件和软件。</p>\n<h2 id="数据库的三层模式和两层映像"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%B8%89%E5%B1%82%E6%A8%A1%E5%BC%8F%E5%92%8C%E4%B8%A4%E5%B1%82%E6%98%A0%E5%83%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>数据库的三层模式和两层映像</h2>\n<ul>\n<li>外模式：局部逻辑结构</li>\n<li>模式：全局逻辑结构</li>\n<li>内模式：物理结构</li>\n</ul>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-b5415.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 95.72446555819477%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB1klEQVQ4y4XT2Y4aUQwEUP7/13hBQgSJtdl3EEuzQ3JoM81MK1H8MGPqXruq7Nul31mcz+f1en273Z7P52q1Oh6PwP1+v9lsINfrFXg6nYCubbdboLwU/5zVarX5fJ6mabPZbLVaj8djMBgAIbvdTjIcDoGNRqPdbnc6ncPh8C7G0O12o+t0Ou31elTolSTJIYt+vw+/3++SyWTiAjmlkH25XGazmWK98oR4ub5qxuMxFzqORiO9cADfxbIwybyz+BnBKtxtiaaUO4W8PMeNmAE9lUqFYQyBh6nlcgmv1+uULxYLAzKFT7FO+qHlMw6+B/1qQpGbJJjiZ9rhR6LYkDGYh59EGjKfRMkhueEfzFGsq00YUq4ZZ5L00vQADE7Iu9g8mUQYjSPcC/3r9Wq5XOjrtgs4SIilvoptrFwu0xY8MXllxNfrv4xqMhkfvwLueVSrVdt+rYoHDmMH+YRRwYGcwyEeAsF68e9vPNui5+DHwJh7FEl2WUQviUZRVZx2/uAw2yc2R2kW8PhCco4ic3imCq2PwVXm87UxzGPO8ZdiXb0WCG92E5USgoG55k+xyu+riseg+JaFV2HU+TqKxYXQyAp92FaqS6Hvf4qR8OY9xFP7V/wB4yxC5vYZ92AAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="20150928140509757"\n        title=""\n        src="/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-fee1c.png"\n        srcset="/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-a67b7.png 200w,\n/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-0b187.png 400w,\n/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-fee1c.png 800w,\n/static/20150928140509757-59885160d78d971e00c05f3efd44ab88-b5415.png 842w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="1-外模式"><a href="#1-%E5%A4%96%E6%A8%A1%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 外模式</h3>\n<p>又称用户模式，是用户和数据库系统的接口，特定的用户只能访问数据库系统提供给他的外模式中的数据。例如不同的用户创建了不同数据库，那么一个用户只能访问他有权限访问的数据库。</p>\n<p>一个数据库可以有多个外模式，一个用户只能有一个外模式，但是一个外模式可以给多个用户使用。</p>\n<h3 id="2-模式"><a href="#2-%E6%A8%A1%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 模式</h3>\n<p>可以分为概念模式和逻辑模式，概念模式可以用概念-关系来描述；逻辑模式使用特定的数据模式（比如关系模型）来描述数据的逻辑结构，这种逻辑结构包括数据的组成、数据项的名称、类型、取值范围。不仅如此，逻辑模式还要描述数据之间的关系、数据的完整性与安全性要求。</p>\n<h3 id="3-内模式"><a href="#3-%E5%86%85%E6%A8%A1%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 内模式</h3>\n<p>又称为存储模式，描述记录的存储方式，例如索引的组织方式、数据是否压缩以及是否加密等等。</p>\n<h3 id="4-外模式模式映像"><a href="#4-%E5%A4%96%E6%A8%A1%E5%BC%8F%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 外模式/模式映像</h3>\n<p>把外模式的局部逻辑结构和模式的全局逻辑结构联系起来。该映像可以保证数据和应用程序的逻辑独立性。</p>\n<h3 id="5-模式内模式映像"><a href="#5-%E6%A8%A1%E5%BC%8F%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 模式/内模式映像</h3>\n<p>把模式的全局逻辑结构和内模式的物理结构联系起来，该映像可以保证数据和应用程序的物理独立性。</p>\n<h1 id="九、关系数据库建模"><a href="#%E4%B9%9D%E3%80%81%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BB%BA%E6%A8%A1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>九、关系数据库建模</h1>\n<h2 id="er-图"><a href="#er-%E5%9B%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ER 图</h2>\n<p>Entity-Relationship，有三个组成部分：实体、属性、联系。</p>\n<h3 id="1-实体的三种联系"><a href="#1-%E5%AE%9E%E4%BD%93%E7%9A%84%E4%B8%89%E7%A7%8D%E8%81%94%E7%B3%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 实体的三种联系</h3>\n<p>联系包含一对一，一对多，多对多三种。</p>\n<p>如果 A 到 B 是一对多关系，那么画个带箭头的线段指向 B；如果是一对一，画两个带箭头的线段；如果是多对多，画两个不带箭头的线段。下图的 Course 和 Student 是一对多的关系。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/292b4a35-4507-4256-84ff-c218f108ee31-bbd0031829e7578e92a5f8222b8fffb1-763cb.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 413px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 14.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3AWD/8QAFhABAQEAAAAAAAAAAAAAAAAAAAFB/9oACAEBAAEFAmR//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAEP/aAAgBAQAGPwJ//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERMSGR8P/aAAgBAQABPyGMO9kdZQ//2gAMAwEAAgADAAAAEAAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGhABAAIDAQAAAAAAAAAAAAAAAQAxESFRkf/aAAgBAQABPxADt9IFs31Bgz//2Q==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="292b4a35 4507 4256 84ff c218f108ee31"\n        title=""\n        src="/static/292b4a35-4507-4256-84ff-c218f108ee31-bbd0031829e7578e92a5f8222b8fffb1-763cb.jpg"\n        srcset="/static/292b4a35-4507-4256-84ff-c218f108ee31-bbd0031829e7578e92a5f8222b8fffb1-819b6.jpg 200w,\n/static/292b4a35-4507-4256-84ff-c218f108ee31-bbd0031829e7578e92a5f8222b8fffb1-a059c.jpg 400w,\n/static/292b4a35-4507-4256-84ff-c218f108ee31-bbd0031829e7578e92a5f8222b8fffb1-763cb.jpg 413w"\n        sizes="(max-width: 413px) 100vw, 413px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="2-表示出现多次的关系"><a href="#2-%E8%A1%A8%E7%A4%BA%E5%87%BA%E7%8E%B0%E5%A4%9A%E6%AC%A1%E7%9A%84%E5%85%B3%E7%B3%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 表示出现多次的关系</h3>\n<p>一个实体在联系出现几次，就要用几条线连接。下图表示一个课程的先修关系，先修关系出现两个 Course 实体，第一个是先修课程，后一个是后修课程，因此需要用两条线来表示这种关系。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/8b798007-e0fb-420c-b981-ead215692417-7153f449cde16ea60d36fd8e4e2a6192-ce34b.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 309px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.689320388349515%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdxUmUGH/8QAFxAAAwEAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAQABBQKnEn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAhACD/2gAIAQEABj8CSM//xAAbEAACAwADAAAAAAAAAAAAAAABEQAhMRBBgf/aAAgBAQABPyFk1RMPf1wNWFNJg8f/2gAMAwEAAgADAAAAEAAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHhAAAgEDBQAAAAAAAAAAAAAAAREAECExUWGhscH/2gAIAQEAAT8QeIbGQfY8zfAyZjRucAzq0//Z\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="8b798007 e0fb 420c b981 ead215692417"\n        title=""\n        src="/static/8b798007-e0fb-420c-b981-ead215692417-7153f449cde16ea60d36fd8e4e2a6192-ce34b.jpg"\n        srcset="/static/8b798007-e0fb-420c-b981-ead215692417-7153f449cde16ea60d36fd8e4e2a6192-767ab.jpg 200w,\n/static/8b798007-e0fb-420c-b981-ead215692417-7153f449cde16ea60d36fd8e4e2a6192-ce34b.jpg 309w"\n        sizes="(max-width: 309px) 100vw, 309px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="3-联系的多向性"><a href="#3-%E8%81%94%E7%B3%BB%E7%9A%84%E5%A4%9A%E5%90%91%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 联系的多向性</h3>\n<p>虽然老师可以开设多门课，并且可以教授多名学生，但是对于特定的学生和课程，只有一个老师教授，这就构成了一个三元联系。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/423f2a40-bee1-488e-b460-8e76c48ee560-5f658bcb0080609b788bff1bc60d9289-24d05.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 436px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 25.688073394495415%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAv0lEQVQY04WQ2QqDQAxF/f9PU/RJUNz3BxfEGRRxu+WmKBRKG7jMJCEni3GeJ9q2Rd/38i7Lgl92Xdejbzlj33fYtg3TNEVhGGIcR8zzLHCttTRTSmHbtg8Aaxmj+KcZpLJomiYBMUnfcRxYliUNyrJEHMdwXVd8Nui6Tnzf9+F5HqqqegNJZvBWXdcYhkEAQRAgTVMURYE8zyXGHKfnxFmWIYoiJEki5xIgJ2JXFlNN02Bd12et4zgEcK/0774vexF751si7eQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="423f2a40 bee1 488e b460 8e76c48ee560"\n        title=""\n        src="/static/423f2a40-bee1-488e-b460-8e76c48ee560-5f658bcb0080609b788bff1bc60d9289-24d05.png"\n        srcset="/static/423f2a40-bee1-488e-b460-8e76c48ee560-5f658bcb0080609b788bff1bc60d9289-7ab77.png 200w,\n/static/423f2a40-bee1-488e-b460-8e76c48ee560-5f658bcb0080609b788bff1bc60d9289-a60d7.png 400w,\n/static/423f2a40-bee1-488e-b460-8e76c48ee560-5f658bcb0080609b788bff1bc60d9289-24d05.png 436w"\n        sizes="(max-width: 436px) 100vw, 436px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>一般只使用二元联系，可以把多元关系转换为二元关系。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/de9b9ea0-1327-4865-93e5-6f805c48bc9e-e39b524fd68912ef582338d1bf6d8de2-c347e.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 555px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 35.67567567567567%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA8ElEQVQoz42R52qFQBSEff8nE/wliPXaOzYsqNgmmQXl5hJCBo4re8ruNyvhW77vQ1EUqKqKPM9xHAeWZcE4jtj3nSW4rgvneYr1r5BY3Pc9yrJEXdfoug6e58EwDFiWJYK5/0ri1E9xb5omtG2LdV3xer2gaRrCMBRRFMVzYx4WBAHSNBVk0jvOjfQpNtAO13Wh6zqyLHtypmlClmVRQ3t+veE8zwK/aRrhaVVVT45N3GOeg1nzA5kfPsAwDAKT4TiOOJk34j99vUm2bUMURbBtWwR7KdI9A+M4FkjESZJEeMFG+ncT3K94i/l3z+/1C4RTGgNbubvMAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="de9b9ea0 1327 4865 93e5 6f805c48bc9e"\n        title=""\n        src="/static/de9b9ea0-1327-4865-93e5-6f805c48bc9e-e39b524fd68912ef582338d1bf6d8de2-c347e.png"\n        srcset="/static/de9b9ea0-1327-4865-93e5-6f805c48bc9e-e39b524fd68912ef582338d1bf6d8de2-58c7f.png 200w,\n/static/de9b9ea0-1327-4865-93e5-6f805c48bc9e-e39b524fd68912ef582338d1bf6d8de2-5d49f.png 400w,\n/static/de9b9ea0-1327-4865-93e5-6f805c48bc9e-e39b524fd68912ef582338d1bf6d8de2-c347e.png 555w"\n        sizes="(max-width: 555px) 100vw, 555px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="4-表示子类"><a href="#4-%E8%A1%A8%E7%A4%BA%E5%AD%90%E7%B1%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 表示子类</h3>\n<p>用一个三角形和两条线来连接类和子类，与子类有关的属性和联系都连到子类上，而与父类和子类都有关的连到父类上。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/7ec9d619-fa60-4a2b-95aa-bf1a62aad408-59a43cdcd46a0629465eff0144fbcbb1-1c373.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 501px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.31337325349301%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd1azGAP/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAExEBH/2gAIAQEAAQUC6MUxT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABsQAAEFAQEAAAAAAAAAAAAAABEAARBBUSEx/9oACAEBAAE/IXA7SDviwh7g/9oADAMBAAIAAwAAABBTz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAAMAAQUAAAAAAAAAAAAAAAABEUEQMWFxsf/aAAgBAQABPxB8nOhmI2ea2iYpTh3T3No//9k=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="7ec9d619 fa60 4a2b 95aa bf1a62aad408"\n        title=""\n        src="/static/7ec9d619-fa60-4a2b-95aa-bf1a62aad408-59a43cdcd46a0629465eff0144fbcbb1-1c373.jpg"\n        srcset="/static/7ec9d619-fa60-4a2b-95aa-bf1a62aad408-59a43cdcd46a0629465eff0144fbcbb1-145e4.jpg 200w,\n/static/7ec9d619-fa60-4a2b-95aa-bf1a62aad408-59a43cdcd46a0629465eff0144fbcbb1-9ffa4.jpg 400w,\n/static/7ec9d619-fa60-4a2b-95aa-bf1a62aad408-59a43cdcd46a0629465eff0144fbcbb1-1c373.jpg 501w"\n        sizes="(max-width: 501px) 100vw, 501px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="十、约束"><a href="#%E5%8D%81%E3%80%81%E7%BA%A6%E6%9D%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>十、约束</h1>\n<h2 id="1-键码"><a href="#1-%E9%94%AE%E7%A0%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 键码</h2>\n<p>用于唯一表示一个实体。</p>\n<p>键码可以由多个属性构成，每个构成键码的属性称为码。</p>\n<h2 id="2-单值约束"><a href="#2-%E5%8D%95%E5%80%BC%E7%BA%A6%E6%9D%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 单值约束</h2>\n<p>某个属性的值是唯一的。</p>\n<h2 id="3-引用完整性约束"><a href="#3-%E5%BC%95%E7%94%A8%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 引用完整性约束</h2>\n<p>一个实体的属性引用的值在另一个实体的某个属性中存在。</p>\n<h2 id="4-域约束"><a href="#4-%E5%9F%9F%E7%BA%A6%E6%9D%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 域约束</h2>\n<p>某个属性的值在特定范围之内。</p>\n<h2 id="5-一般约束"><a href="#5-%E4%B8%80%E8%88%AC%E7%BA%A6%E6%9D%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 一般约束</h2>\n<p>比如大小约束，数量约束。</p>\n<h1 id="参考资料"><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考资料</h1>\n<ul>\n<li>史嘉权. 数据库系统概论[M]. 清华大学出版社有限公司, 2006.</li>\n<li>施瓦茨. 高性能 MYSQL(第 3 版) [M]. 电子工业出版社, 2013.</li>\n<li><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-storage-engine.html" target="_blank" rel="nofollow noreferrer noopener">The InnoDB Storage Engine</a></li>\n<li><a href="https://www.slideshare.net/ErnestoHernandezRodriguez/transaction-isolation-levels" target="_blank" rel="nofollow noreferrer noopener">Transaction isolation levels</a></li>\n<li><a href="http://scanftree.com/dbms/2-phase-locking-protocol" target="_blank" rel="nofollow noreferrer noopener">Concurrency Control</a></li>\n<li><a href="https://www.slideshare.net/brshristov/the-nightmare-of-locking-blocking-and-isolation-levels-46391666" target="_blank" rel="nofollow noreferrer noopener">The Nightmare of Locking, Blocking and Isolation Levels!</a></li>\n<li><a href="http://blog.csdn.net/d2457638978/article/details/48783923" target="_blank" rel="nofollow noreferrer noopener">三级模式与两级映像</a></li>\n<li><a href="https://aksakalli.github.io/2012/03/12/database-normalization-and-normal-forms-with-an-example.html" target="_blank" rel="nofollow noreferrer noopener">Database Normalization and Normal Forms with an Example</a></li>\n<li><a href="https://blog.jcole.us/2014/04/16/the-basics-of-the-innodb-undo-logging-and-history-system/" target="_blank" rel="nofollow noreferrer noopener">The basics of the InnoDB undo logging and history system</a></li>\n<li><a href="https://www.brightbox.com/blog/2013/10/31/on-mysql-locks/" target="_blank" rel="nofollow noreferrer noopener">MySQL locking for the busy web developer</a></li>\n<li><a href="https://draveness.me/mysql-innodb" target="_blank" rel="nofollow noreferrer noopener">浅入浅出 MySQL 和 InnoDB</a></li>\n<li><a href="https://tech.meituan.com/innodb-lock.html" target="_blank" rel="nofollow noreferrer noopener">fd945daf-4a6c-4f20-b9c2-5390f5955ce5.jpg</a></li>\n</ul>',
excerpt:"一、事务 概念 事务指的是满足 ACID 特性的一系列操作。在数据库中，可以通过 Commit 提交一个事务，也可以使用 Rollback 进行回滚。 四大特性 1. 原子性（Atomicity） 事务被视为不可分割的最小单元，要么全部提交成功，要么全部失败回滚。…",frontmatter:{date:"2018-04-03 15:09:47",path:"/database-principle/",tags:"面试, 数据库",title:"数据库系统原理",draft:null}}},pathContext:{mainPostPath:"/object-oriented-thinking/",nextPostPath:"/database-commonly-used-statements/",prePostPath:"/database-principle/"}}}});