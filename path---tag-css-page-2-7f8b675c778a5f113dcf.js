webpackJsonp([36482110888888],{1270:function(n,a){n.exports={data:{site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}}},pathContext:{posts:[{excerpt:"line-height 的另外一个朋友 font-size 第 5 章介绍过 line-height 和 vertical-align 的好朋友关系，实际上，font-size 也和 line-height 是好朋友，同样也无处不在，并且纸面上 line-height 的数值属性值和百分比值属性值都是相对于 font-size 计算的，其关系可谓不言而喻。 font-size 和 vertical-align 的隐秘故事 line-height 的部分类别属性值是相对于 font-size…",html:'<h1 id="line-height-的另外一个朋友-font-size"><a href="#line-height-%E7%9A%84%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E6%9C%8B%E5%8F%8B-font-size" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>line-height 的另外一个朋友 font-size</h1>\n<p>第 5 章介绍过 line-height 和 vertical-align 的好朋友关系，实际上，font-size 也和 line-height 是好朋友，同样也无处不在，并且纸面上 line-height 的数值属性值和百分比值属性值都是相对于 font-size 计算的，其关系可谓不言而喻。</p>\n<h2 id="font-size-和-vertical-align-的隐秘故事"><a href="#font-size-%E5%92%8C-vertical-align-%E7%9A%84%E9%9A%90%E7%A7%98%E6%95%85%E4%BA%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font-size 和 vertical-align 的隐秘故事</h2>\n<p>line-height 的部分类别属性值是相对于 font-size 计算的，vertical-align 百分比值属性值又是相对于 line-height 计算的，于是，看上去八辈子都搭不上边的 vertical-align 和 font-size 属性背后其实也有有着关联的。</p>\n<p>例如，下面的 CSS 代码组合：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="2150023587636562400"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p {\n  font-size: 16px;\n  line-height: 1.5;\n}\n\np > img {\n  vertical-align: -25%;\n}`, `2150023587636562400`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">p > img</span> <span class="token punctuation">{</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> -25%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时，p > img 选择器对应元素的 vertical-align 计算值应该是：</p>\n<p>16px _ 1.5 _ -25% = -6px</p>\n<p>也就是上面的 CSS 代码等同于：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="99220155003051600000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p {\n  font-size: 16px;\n  line-height: 1.5;\n}\n\np > img {\n  vertical-align: -6px;\n}`, `99220155003051600000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n  <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">p > img</span> <span class="token punctuation">{</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> -6px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>但是两者又有所不同，很显然，-25% 是一个相对计算属性值，如果此时元素的 font-size 发生变化，则图片会自动进行垂直位置调整。我们可以看一个无论 font-size 如何变化、后面图标都垂直居中对齐的例子，无论文字字号是大还是小，后面的图标都非常良好地垂直居中对齐，如图 8-1 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-53-07-3208124dde519a5bafaf5d48ad1e27f8-70b68.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 266px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 44.73684210526316%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHElEQVQoz31QyWqEUBD0/z/Dk8tVwVs04CHBiyDEiSiucd8Vd5NCySQRMnV49Fbd9Yr4/Iu2bauqquu6KIo0TeM4LoqyaZqyLLuuuwwTv5N1XcHBu+97FH7cbu/i84vvh2gNw4gWArT+JePIPM94z0rXdigi2LYNch5dBizLEgSB4zhFUWRZJkmS53l8ZFnWPM8fXV6WZRgGXdefRLEoSwQMw9A0DS2vivqmG1fy/o2z4TiOJEkURamqmmUZy7Ke543j2DQt/Dv13+d/Lp85XIU8TIdhCOdt256mCXL6vkfx+md4aBhGFEXjgfQAOKgEQRAfQOz7PoqapkEItkMg1hHw0HXdOxkxPMOodwCLID5JEghByzRN0DB8kr8ASzb47oSoYsoAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 53 07"\n        title=""\n        src="/static/2020-01-10-11-53-07-3208124dde519a5bafaf5d48ad1e27f8-70b68.png"\n        srcset="/static/2020-01-10-11-53-07-3208124dde519a5bafaf5d48ad1e27f8-74086.png 200w,\n/static/2020-01-10-11-53-07-3208124dde519a5bafaf5d48ad1e27f8-70b68.png 266w"\n        sizes="(max-width: 266px) 100vw, 266px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>核心 CSS 代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32627208602431760000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`p > img {\n  width: 16px;\n  height: 16px;\n  vertical-align: 25%;\n  position: relative;\n  top: 8px;\n}`, `32627208602431760000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">p > img</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> 25%<span class="token punctuation">;</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>原理如下：内联元素默认基线对齐，图片的基线可以看成是图片的下边缘，文字内容的基线是字符 x 下边缘，因此，本例中，图片下边缘默认和“中文”两个汉字字形底边缘往上一点的位置对齐。然后，我们通过 vertical-align:25% 声明让图片的下边缘和中文汉字的中心线对齐。此时，图标和文字的状态应该如图 8-2 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-55-22-4db3934c01441825536d7fc055211bc5-3a985.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 186px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 55.91397849462365%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtklEQVQoz41SXU/iUBDln/sH1ifdkBiicfXBNUYM0dAtihtM1UAIWL6kQFugQO9tb1v7hSkFPGuNiRsenId7JzPnzJw7c1Pr9Xq1WuEMgsB1XaLr8mAA37Ft3/eHw6GqKL7nMcYopYyZYRh+UlKfnqZpV/n82fn5XibD8fxjuXyRy2X29w8OD+HIqgqQNFB0Xd9AdiyrfHsrXF9TTcseHc1N8+n+/o7jfqXTAs9HjuMSY+dHuvssAbxcLr+QKSGrOP57eXm8+9MHlNKHfP7P6en21lYxm2WyvPYDpqgGIRs6z2azJ1FMpBZubqaEeGGYzeUKxeJrFAXvT53P5yZjG8iGYXAcNx6Pfd8r8LwoihZjv09Out2u+/JCYLo+0TQM9Qv5P0sS37GU4zilUklV1X6/j8UgNBqNBEFotVq2bSuKghSaI1Kv16vVKl4HdZIkeZ6XwjIRxZ4Amkwm/yZHabvdhkxsG+tF6vndEEQtZEGeTqdRFH3IjuMYTBCAbjQa8NEfNPSEnCRlWZZpmlC0WCw+ZCcXygCEwhAPIbVaDcLgN5tNTK7T6fR6PVnG3xtUKhXMPBnNG6PDT0wrES4WAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 55 22"\n        title=""\n        src="/static/2020-01-10-11-55-22-4db3934c01441825536d7fc055211bc5-3a985.png"\n        srcset="/static/2020-01-10-11-55-22-4db3934c01441825536d7fc055211bc5-3a985.png 186w"\n        sizes="(max-width: 186px) 100vw, 186px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>图 8-2 完全就是实例效果注释 top:8px 后的截图标注，没有任何加工。看上去似乎上面小，实际上是视觉误差，分隔线上下完全均等，1 像素不差。</p>\n<p>由于我们这里的图标是固定的像素尺寸，因此，通过偏移自身 1/2 高度来实现真正的居中，可以使用 CSS3 transform 位移，我这里为了兼容性，使用了 relative 相对定位。</p>\n<p>其居中原理本质上和绝对定位元素 50% 定位加偏移自身 1/2 尺寸实现居中是一样的，只不过这里的偏移使用的是 vertical-align 百分比值。</p>\n<p>这么一看，vertical-align 百分比属性值似乎还是有点用的！如果再联想到 vertical-align:middle 实现垂直居中效果经常不尽如人意，说不定还能找到一块更好的宝。但我要告诉你，其实还有更好的实现，那就是使用单位 ex。例如，将前面例子中的 vertical-align:25% 改成 vertical-align:.6ex，效果基本上就是一样的，并且还多了一个优点，就是使用 vertical-align:.6ex 实现的垂直居中效果不会受 line-height 变化影响，而使用 vertical-align:25%，line-height 一旦变化，就必须改变原来的 vertical-align 大小、重新调整垂直位置，这容错性明显就降了一个层次。</p>\n<p>因此，虽然例子演示的是 vertical-align 百分比值，实际上是推荐使用与 font-size 有着密切关系的 ex 单位。</p>\n<p>说到这里，忍不住想介绍另外一些和 font-size 有着密切的关系的东西。</p>\n<h2 id="理解-font-size-与-ex、em-和-rem-的关系"><a href="#%E7%90%86%E8%A7%A3-font-size-%E4%B8%8E-ex%E3%80%81em-%E5%92%8C-rem-%E7%9A%84%E5%85%B3%E7%B3%BB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解 font-size 与 ex、em 和 rem 的关系</h2>\n<p>ex 是字符 x 高度，显然和 font-size 关系密切，font-size 值越大，自然 ex 对应的大小也就大，对此本书前面已经有介绍，这里不赘述。</p>\n<p>下面来看看单位 em。如果说 ex 是字符 x 高度，那是不是 em 就是字符 m 的高度？</p>\n<p>我的回答是“不是的”，但是 em 和字符 m 确实有关。em 在传统排版中指一个字模的高度（可以脑补下活字印刷的字模）。</p>\n<p>例如，浏览器默认 font-size 大小是 16px，假设一个<code class="language-text">&lt;div&gt;</code>宽度是 160px，则正好可以放下 10 个汉字不换行；如果是 159px 像素，第十个汉字就会掉下来；如果再同时设置 line-height:1 和一个背景色，代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="14914754777296290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  width: 160px;\n  line-height: 1;\n  background-color: #eee;\n}`, `14914754777296290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>\n  <span class="token property">line-height</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我们就会发现中文汉字的尺寸就可以看作 em 单位的代名词，尤其在高度这一块，简直分毫不差，如图 8-3 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-13-15-12-20-cd457c7152b263d477b5f42ceac93839-2ee65.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 220px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 50.45454545454545%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYUlEQVQoz12SSY+CQBCF+f+/wquJwZNLMC6IEg7GJZG4IBAFI6gn9wWG+aBniDOVUKl6/V7X0khxHLuuu1qt5vM53rZty7IWi4WdmQCx5XIJSOA4jmmavu8nSSKdz+dCoVCtViuVSqPRKBaLnU6n2WzKsgxYq9Xa7TZgvV5XFKVUKrVarXK5DCcVPx4PSLA1TQOCpOt6v9+HCk/LDIKqqoCckkI2DCMVJ5l9/Vry1z6RPM4DiSiKIiYXaB6IODeR/isgMTodsqTRaLTf79nK7XbjIAxDgYzHYzY6nU49z9tutzBBmIJ5UzErQdPtdvEIhBher9c7Ho8sPAgC9Hj04gmY/H6/S/T82UmU2fv95gr89Xp9vV68yPP5JMZfLheQn7b5SA6HA6U4phpbnUwms9lst9uR0j/Pxik1N5vNYDAYDodiL6n4dDqxeiaBJ7qif8T0zP+AgCvwENbrNTGjCfE3ZQcQuGbvSLQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 13 15 12 20"\n        title=""\n        src="/static/2020-01-13-15-12-20-cd457c7152b263d477b5f42ceac93839-2ee65.png"\n        srcset="/static/2020-01-13-15-12-20-cd457c7152b263d477b5f42ceac93839-6af5a.png 200w,\n/static/2020-01-13-15-12-20-cd457c7152b263d477b5f42ceac93839-2ee65.png 220w"\n        sizes="(max-width: 220px) 100vw, 220px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>也就是说，em 就是’中’等汉字的高度！于是，我们对 em 的理解就更加简单了，直接看一个很容易理解错误的题目，在 Chrome 浏览器下，<code class="language-text">&lt;h1&gt;</code>元素有如下的默认 CSS：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="89943935952557210000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`h1 {\n  font-size: 2em;\n  -webkit-margin-before: 0.67em;\n  -webkit-margin-after: 0.67em;\n}`, `89943935952557210000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n  <span class="token property">-webkit-margin-before</span><span class="token punctuation">:</span> 0.67em<span class="token punctuation">;</span>\n  <span class="token property">-webkit-margin-after</span><span class="token punctuation">:</span> 0.67em<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么，假设页面没有任何 CSS 重置，根元素 font-size 就是默认的 16px，请问：此时<code class="language-text">&lt;h1&gt;</code>元素 margin-before 的像素计算值是多少？</p>\n<p>如果对 em 了解不够，很容易认为 1em 大小就是 16px，于是计算值是 16px×0.67 = 10.72px，实际上这是错误的。</p>\n<p>我们可以这样想，假设<code class="language-text">&lt;h1&gt;</code>里面有汉字，此时汉字的高度是多少？这个高度就是此时 1em 大小。<code class="language-text">&lt;h1&gt;</code>元素此时 font-size 是 2em，算一下就是 32px，因此，此时里面汉字的高度应该是 32px，也就是说，此时<code class="language-text">&lt;h1&gt;</code>元素的 1em 应该是 32px，于是 margin-before 的像素计算值为 32px×0.67 = 21.44px，和浏览器自己的计算值一样，如图 8-4 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-13-15-15-42-1b0a576bb31b4d6099beed0680cf4bfd-4c7f3.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 384px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 41.92708333333333%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIUlEQVQY001RgZKCIBT0/3/OqRwZkhwpo2Q6CBVJTuX2oGbaGXXxvd19T7N+GCalXFVNdT133UTpdDrNUlpKf5XaQtjWdftASnm73Tjn3vsQQqaNUderORyelPacP3e7JyED56YsDWMW1h9Ya9u2bZqGEGKMgT5D8ijlSIitayfEUJaWMZCpaRbvl2VZ13WJAEGm1jodMUimtP5p2xRomkbluS6K/nJR+30vhHXOfoBwSun9fn+9XuM4zvOcwQCWuMKGBcOGBO8j+7/F55sknrBGZKl2Pp+rquq6ru975xzGE0JchVBKoXQ8HrEqYwyrpobk9RZDhjL6Ho8HRkpe0LQRIOkoI9DwFn/PBld0FEWhIvBt4IVV8XvwMs9zWHwv8gfSJL/7/jhcRgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 13 15 15 42"\n        title=""\n        src="/static/2020-01-13-15-15-42-1b0a576bb31b4d6099beed0680cf4bfd-4c7f3.png"\n        srcset="/static/2020-01-13-15-15-42-1b0a576bb31b4d6099beed0680cf4bfd-370ca.png 200w,\n/static/2020-01-13-15-15-42-1b0a576bb31b4d6099beed0680cf4bfd-4c7f3.png 384w"\n        sizes="(max-width: 384px) 100vw, 384px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>乍一看，似乎出现了死循环悖论：font-size:2em，于是 1em 变成 32px，那此时的 2em 不又是 64px，然后又……</p>\n<p>正如前面提到过的一样，CSS 世界的渲染是一次渲染，是不会有死循环的。这里是先计算 font-size，然后再计算给其他使用 em 单位的属性值大小。</p>\n<p>总结如下：在 CSS 中，1em 的计算值等同于当前元素所在的 font-size 计算值，可以将其想象成当前元素中（如果有）汉字的高度。</p>\n<p>所有相对单位的好处都是一样的，样式表现更具有弹性。例如，理论上，有一个布局，希望小屏时整体缩小，大屏时再弹性扩大，此时就可以让所有元素宽高尺寸等都使用 em，于是，最后只要改变布局祖先元素的 font-size 大小就可以实现整体的弹性变化。</p>\n<p>这种策略很棒，也确实可行，但是有一个比较麻烦的事情，它和上面<code class="language-text">&lt;h1&gt;</code>元素计算一样的麻烦，em 是根据当前 font-size 大小计算的，一旦布局中出现标题这种跟基础 font-size 大小不一样的场景的时候，标题里面所有元素 em 都要重新计算一遍，甚为麻烦，最终的成品维护成本就比较高了。</p>\n<p>正是由于这种局限性，另外一个和 font-size 密切相关的单位出现了，就是 rem，即 root em，顾名思义，就是根元素 em 大小。em 相对于当前元素，rem 相对于根元素，本质差别在于当前元素是多变的，根元素是固定的，也就是说，如果使用 rem，我们的计算值不会受当前元素 font-size 大小的影响，假设<code class="language-text">&lt;h1&gt;</code>的默认 CSS 是这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25649255431156970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`h1 {\n  font-size: 2em;\n  -webkit-margin-before: 0.67rem;\n  -webkit-margin-after: 0.67rem;\n}`, `25649255431156970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">h1</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n  <span class="token property">-webkit-margin-before</span><span class="token punctuation">:</span> 0.67rem<span class="token punctuation">;</span>\n  <span class="token property">-webkit-margin-after</span><span class="token punctuation">:</span> 0.67rem<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>那么 2m 的 font-size 计算值会被忽略，直接使用根元素的 16px 进行计算，于是 margin-before 计算值是 16 像素 ×0.67 = 10.72 像素。</p>\n<p>因此，要想实现带有缩放性质的弹性布局，使用 rem 是最佳策略，但 rem 是 CSS3 单位，IE9 以上浏览器才支持，需要注意兼容性，我这里就不再多介绍了。</p>\n<p>回到 em 单位。em 实际上更适用于图文内容展示的场景，对此进行弹性布局。例如，<code class="language-text">&lt;h1&gt;</code>～<code class="language-text">&lt;h6&gt;</code>以及<code class="language-text">&lt;p&gt;</code>等与文本内容展示的元素的 margin 都是用 em 作为单位，这样，当用户把浏览器默认字号从“中”设置成“大”或改成“小”的时候，上下间距也能根据字号大小自动调整，使阅读更舒服。</p>\n<p>再举个适用于 em 的场景，如果我们使用 SVG 矢量图标，建议设置 SVG 宽高如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47331290103592670000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`svg {\n  width: 1em;\n  height: 1em;\n}`, `47331290103592670000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">svg</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这样，无论图标是个大号文字混在一起还是和小号文字混在一起，都能和当前文字大小保持一致，既省时又省力。</p>\n<h2 id="理解-font-size-的关键字属性值"><a href="#%E7%90%86%E8%A7%A3-font-size-%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E5%B1%9E%E6%80%A7%E5%80%BC" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解 font-size 的关键字属性值</h2>\n<p>font-size 支持长度值，如 1em，也支持百分比值，如 100%。这两点想必众所周知，但 font-size 还支持关键字属性值这一点怕是就有不少人不清楚了。</p>\n<p>font-size 的关键字属性值分以下两类。</p>\n<ol>\n<li>\n<p><strong>相对尺寸关键字。</strong>指相对于当前元素 font-size 计算，包括：</p>\n<ul>\n<li>larger：大一点，是<code class="language-text">&lt;big&gt;</code>元素的默认 font-size 属性值。</li>\n<li>smaller：小一点，是<code class="language-text">&lt;small&gt;</code>元素的默认 font-size 属性值。</li>\n</ul>\n</li>\n<li>\n<p><strong>绝对尺寸关键字。</strong>与当前元素 font-size 无关，仅受浏览器设置的字号影响。注意这里的措辞，是“浏览器设置”，而非“根元素”，两者是有区别的。</p>\n<ul>\n<li>xx-large：好大好大，和<code class="language-text">&lt;h1&gt;</code>元素计算值一样。</li>\n<li>x-large：好大，和<code class="language-text">&lt;h2&gt;</code>元素计算值一样。</li>\n<li>large：大，和<code class="language-text">&lt;h3&gt;</code>元素计算值近似</li>\n<li>medium：不上不下，是 font-size 的初始值，和<code class="language-text">&lt;h4&gt;</code>元素计算值一样。</li>\n<li>small：小，和<code class="language-text">&lt;h5&gt;</code>元素计算值近似。</li>\n<li>x-small：好小，和<code class="language-text">&lt;h6&gt;</code>元素计算值近似。</li>\n<li>xx-small：好小好小，无对应的 HTML 元素。</li>\n</ul>\n</li>\n</ol>\n<p>其中，相对尺寸关键字 larger 和 smaller 由于计算的系数在不同浏览器下差异很大，因此实用价值有限，只有类似文档页、帮助页这类对文字尺寸要求不高的场合才有用；而绝对尺寸关键字的实用性要大一些，而且在某些场合是推荐使用的关键字属性值，这个要慢慢讲。</p>\n<p>下面两个 CSS 代码有什么区别？</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="92466584909819130000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  font-size: 14px;\n}\n\nhtml {\n  font-size: 87.5%;\n}`, `92466584909819130000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 87.5%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在绝大多数场景下，两者没有差别，全都计算为 14px，但是如果用户对浏览器的字号进行了调整，例如，把默认的“中”设置成了“大”，如图 8-5 所示（截自 Chrome 浏览器），那么此时，font-size: 14px 计算值还是 14px，但 font-size: 87.5% 的计算值则大了一圈，于是差别就出现了。如果是像素单位 font-size，用户改变浏览器的默认字号后，页面会微丝不动；如果是百分比值 font-size，则字号相应放大，这就涉及用户体验和可访问性问题了。</p>\n<p>正常情况下，14 像素的文字大小是足够的，但是，如果是高度近视的用户，或者上班急急忙忙忘记戴眼镜，或者在投影仪上投影网页内容，此时就有大字号浏览网页的需求，如果使用固定的像素单位，显然对这些使用场景是不友好的。</p>\n<p>好在浏览器还提供了“网页缩放”功能，但是此功能也是有局限性的：如果网页是定宽非响应式的，则网页放大后窗体以外的内容就看不到了，在 Chrome/Firefox 浏览器下甚至连个水平滚动条都没有，说不定重要信息就会看不到。由此可见，我们是不能轻易忽视浏览器字号设置功能的。</p>\n<p>然而，现代网页设计得很精致，要想网页布局跟随字体内容缩放实在两难，要么使用 em，但 em 计算与当前 font-size 耦合，不好维护；要么使用 rem，但 IE8 不支持，桌面端使用尴尬。因此，现实的压迫导致我们只能使用 px 进行布局，尤其桌面端网页。</p>\n<p>如何权衡“易于实现维护”“视觉还原”“可访问性”这三者，我这里有两个建议。</p>\n<ol>\n<li>即使是定宽的传统桌面端网页，也需要做响应式处理，尤其是针对 1200 像素宽度设计的网页，但只需要响应到 800 像素即可，可以保证至少有 1.5 倍的缩放空间，如果做到这一步，那么是否需要响应浏览器的字号设置这一点就可以忽略。</li>\n<li>\n<p>如果因各种原因无法做响应式处理，也没有必要全局都使用相对单位，毕竟成本等现实问题摆在那里，其实只需要在图文内容为主的重要局部区域使用可缩放的 font-size 处理即可。例如，小说网站的阅读页、微信公众号文章展示区、私信对话内容区、搜索引擎的落地页、评论区等，都强烈建议摒弃 px 单位，而采用下面的实践策略。</p>\n<ul>\n<li>容器设置 font-size: medium，此时，这个局部展示区域的字号就跟着浏览器的设置走了，默认计算值是 16px。</li>\n<li>\n<p>容器内的文字字号全部使用相对单位，如百分比值或者 em 都可以，然后基于 16px 进行转换。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23428741958067302000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.article {\nfont-size: medium;\n}\n.article h1 {\nfont-size: 2em;\nmargin: 0.875em 0;\n}\n.article p {\nfont-size: 87.5%; /* 默认字号下计算值是 14px */\nmargin: 1em 0;\n}`, `23428741958067302000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.article</span> <span class="token punctuation">{</span>\n<span class="token property">font-size</span><span class="token punctuation">:</span> medium<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.article h1</span> <span class="token punctuation">{</span>\n<span class="token property">font-size</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>\n<span class="token property">margin</span><span class="token punctuation">:</span> 0.875em 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.article p</span> <span class="token punctuation">{</span>\n<span class="token property">font-size</span><span class="token punctuation">:</span> 87.5%<span class="token punctuation">;</span> <span class="token comment">/* 默认字号下计算值是 14px */</span>\n<span class="token property">margin</span><span class="token punctuation">:</span> 1em 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>同时使用自适应流体布局，间距什么的也使用相对单位，例如上面 margin 使用的是 em 单位。于是，当用户改变了浏览器的字号后，整个阅读区域的所有字样甚至布局都会跟着放大，文字一下子就看清楚了。这种局部处理的好处在于，页面的导航、侧边栏这些不需要长时间阅读的模块还是原来的像素布局，还是那么精致，丝毫不受影响。就这么很微小的变动，就可以让你的网页在可访问性这一块超越大多数的网站，何乐而不为？</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>可以看到，绝对尺寸关键字在实际项目中还有很有价值的，但有价值的仅仅是 medium，至于其他关键字，作用仅限于字面上的那点儿，大家了解一下即可。</p>\n<h2 id="font-size-0-与文本的隐藏"><a href="#font-size-0-%E4%B8%8E%E6%96%87%E6%9C%AC%E7%9A%84%E9%9A%90%E8%97%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>font-size: 0 与文本的隐藏</h2>\n<p>桌面 Chrome 浏览器下有个 12px 的字号限制，就是文字的 font-size 计算值不能小于 12px，我猜是因为中文，如宋体，要是小于 12px，就会挤成成一团，略丑，Chrome 看不下去，就直接禁用了。</p>\n<p>正是这种限制导致我们在使用 em 或 rem 进行布局的时候，不能这么处理：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="22163570377794994000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  font-size: 62.5%;\n}`, `22163570377794994000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 62.5%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>理论上，此时根字号计算值是 16px*0.625=10px，于是 width:14px 可以写成 width:1.4em，省了很多计算的麻烦。但是，在 Chrome 下由于 12px 的限制，根字号计算值实际不是 10px，而是 12px，所以，可以试试处理成这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="7011710329128662000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  font-size: 625%;\n}`, `7011710329128662000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 625%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>此时根字号计算值是 100px，既计算无忧，又没有 12px 的最小字号限制。</p>\n<p>但是我个人建议还是不要这样处理，尤其使用 em 的时候，因为 font-size 属性和 line-height 属性一样，由于继承性的存在，会影响贯穿整个网页，100px 的环境 font-size 一定会将平时不显山露水的底边对齐问题、间隙问题等放大，导致出现一些明显的样式问题，如果对 CSS 了解不是很深刻，怕是很难明白为什么会发生这样的问题。同时这样做也限制了 px 等其他单位的使用，有时候是比较要命的。</p>\n<p>因此，我的建议是仍基于浏览器默认的字号进行相对计算，也就是 medium 对应的 16px，16 这个数字是一定可以整除的，因此计算成本还行，或者使用 Sass 或 Less 之类的工具辅助计算。</p>\n<p>还是回到字号限制的问题。实际上，并不是所有小于 12px 的 font-size 都会被当作 12px 处理，有一个值例外，那就是 0，也就是说，如果 font-size:0 的字号表现就是 0，那么文字会直接被隐藏掉，并且只能是 font-size:0，哪怕设置成 font-size:0.0000001px，都还是会被当作 12px 处理的。</p>\n<p>因此，如果希望隐藏 logo 对应元素内的文字，除了 text-indent 缩进隐藏外，还可以试试下面这种方法：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4405423665772012500"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.logo {\n  font-size: 0;\n}`, `4405423665772012500`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.logo</span> <span class="token punctuation">{</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>',
id:"/github/workspace/blog/CSS世界强大文本处理能力/index.md absPath of file >>> MarkdownRemark",timeToRead:6,frontmatter:{date:"2020-01-10 11:47:48",path:"/css-world-text-processing/",tags:"前端, CSS, CSS世界",title:"CSS世界强大文本处理能力",draft:null}},{excerpt:"所谓“层叠规则”，指的是当网页中的元素发生层叠时的表现规则。 默认情况下，网页内容是没有偏移角的垂直视觉呈现，当内容发生层叠的时候，一定会有一个前后的层叠顺序产生，有点儿类似于真实世界中“论资排辈”的感觉。 z-index 只是 CSS 层叠规则中的一部分 在 CSS 世界中，z-index 属性只有和定位元素（position 不为 static 的元素）在一起的时候才有作用，可以是正数也可以是负数。理论上说，数值越大层级越高，但实际上其规则要复杂很多。 但随着 CSS3 新世界的到来，z…",html:'<p>所谓“层叠规则”，指的是当网页中的元素发生层叠时的表现规则。</p>\n<p>默认情况下，网页内容是没有偏移角的垂直视觉呈现，当内容发生层叠的时候，一定会有一个前后的层叠顺序产生，有点儿类似于真实世界中“论资排辈”的感觉。</p>\n<h1 id="z-index-只是-css-层叠规则中的一部分"><a href="#z-index-%E5%8F%AA%E6%98%AF-css-%E5%B1%82%E5%8F%A0%E8%A7%84%E5%88%99%E4%B8%AD%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>z-index 只是 CSS 层叠规则中的一部分</h1>\n<p>在 CSS 世界中，z-index 属性只有和定位元素（position 不为 static 的元素）在一起的时候才有作用，可以是正数也可以是负数。理论上说，数值越大层级越高，但实际上其规则要复杂很多。</p>\n<p>但随着 CSS3 新世界的到来，z-index 已经并非只对定位元素有效，flex 盒子的子元素也可以设置 z-index 属性。</p>\n<p>要知道，网页中绝大部分元素是非定位元素，并且影响层叠顺序的属性远不止 z-index 一个，因此大家千万不要以为 z-index 属性就可以代表 CSS 世界的层叠规则，实际上 z-index 只是 CSS 层叠规则中的一叶小舟，CSS 层叠规则的体量要比大家想象的要大得多。</p>\n<h1 id="理解-css-世界的层叠上下文和层叠水平"><a href="#%E7%90%86%E8%A7%A3-css-%E4%B8%96%E7%95%8C%E7%9A%84%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E5%92%8C%E5%B1%82%E5%8F%A0%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解 CSS 世界的层叠上下文和层叠水平</h1>\n<h2 id="什么是层叠上下文"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是层叠上下文</h2>\n<p>层叠上下文，英文称作 stacking context，是 HTML 中的一个三维的概念。如果一个元素含有层叠上下文，我们可以理解为这个元素在 z 轴上就“高人一等”。</p>\n<p>这里出现了一个名词 — z 轴，它指的是什么呢？其表示的是用户与显示器之间这条看不见的垂直线，即图 7-1 中的这条水平线。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-10-26-48-60916aa9129fcfef8a9801f4cdb819f8-27d67.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 281px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 73.66548042704626%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGElEQVQoz5WTyW6FMAxF+f+vQwKJFayYBWEuM68HLPFoSWnrBUqcHN8bJxivx1jXtaqqbdu0q8avcJZlZVmemWVZpml6w9sRWli2dl3Xti3TeZ4tyzJN86/KkEEQFEUxDAOZpmlOIwbFOJVSioFWue/7MAz55nkue5IkAdlh/DBJ05SSmF8vwRTPCFIiiiIG8DDjOMZxvMN1XZNirVAKvr0EhlFgFYwl13X5IvNxBBt2WByK8t05hsUtOxmz7X1VeEABe1LlzpOhQ5yCsVj4cs8UxgNVtbCYQkAPPwflaFh1xGnwO/zTO5E8yphvjviH8rUEJH1+grkb3tN5SKYAZO7WNLDnebxH/gc6zNuybdv3fcdxpOHX+AQF9m7wmH5TqAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 10 26 48"\n        title=""\n        src="/static/2020-01-10-10-26-48-60916aa9129fcfef8a9801f4cdb819f8-27d67.png"\n        srcset="/static/2020-01-10-10-26-48-60916aa9129fcfef8a9801f4cdb819f8-3c38b.png 200w,\n/static/2020-01-10-10-26-48-60916aa9129fcfef8a9801f4cdb819f8-27d67.png 281w"\n        sizes="(max-width: 281px) 100vw, 281px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>层叠上下文是一个概念，跟“块状格式化上下文”（BFC）类似。我们可以把层叠上下文理解为一种“层叠结界”，自成一个小世界。这个小世界中可能有其他的“层叠结界”，而自身也可能处于其他“层叠结界”中。</p>\n<h2 id="什么是层叠水平"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B1%82%E5%8F%A0%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是层叠水平</h2>\n<p>stacking level，决定了同一个层叠上下文中元素在 z 轴上的显示顺序。</p>\n<p>所有的元素都有层叠水平，包括层叠上下文元素，也包括普通元素。然而，对普通元素的层叠水平探讨只局限在当前层叠上下文元素中。为什么呢？因为不如此就没有意义。层叠上下文本身就是一个强力的“层叠结界”，而普通元素的层叠水平是无法突破这个结界和结界外的元素去较量层叠水平的。</p>\n<p>需要注意的是，诸位千万不要把层叠水平和 CSS 的 z-index 属性混为一谈。尽管某些情况下 z-index 确实可以影响层叠水平，但是只限于定位元素以及 flex 盒子的孩子元素；而层叠水平所有的元素都存在。</p>\n<h1 id="理解元素的层叠顺序"><a href="#%E7%90%86%E8%A7%A3%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>理解元素的层叠顺序</h1>\n<p>再来说说层叠顺序。层叠顺序，英文称作 stacking order，表示元素发生层叠时有着特定的垂直显示顺序。注意，这里跟上面两个不一样，上面的“层叠上下文”和“层叠水平”是概念，而这里的“层叠顺序”是规则。</p>\n<p>在 CSS 2.1 的年代，在 CSS3 新世界还没有到来的时候（注意这里的前提），层叠顺序规则如图 7-2 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-10-34-34-44d7195b285f5d49267088c47065a390-32723.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 355px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 80.56338028169014%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACoElEQVQoz31Ta0/TYBTuv/EXeIlfMF6IHwgGAYdMxQ8GQRRQlKHDCCrKNjCYmHiPCHI1AxJJiGQToczdNze6tWXQbWxs3UZZcbeyrZ29hMVN8cnb9+3bPOc8J885BZJkKuiMBKCw3xbymXGfFfcag7GtBJPLMTS7FYDZg3AFAivhhX6Dulc337X8tROckywqr6o2rXjuX8FFAPyW0NQ19bQUHJPrJhX6kcfa91JwdghSfVnze6KCWp6dSCSi0ShJkul0mgve9u1ASnRhGJJJlwe6tLK7mp52sKdtSVqvMmt8LIPm9YUUHo/HYrE4HI54PM4FC7VhKNF5Rd0tAW8/1XbIDHee6CW9hnaFueGR8ZsumE9RXLaQkiSSdl1gdm69om2pSgLWdi+Iu7/X3FeXtsyNqBAql4ynUwzDZqALDBMOmr8j3mhFMyiWzTfDH67bPzZBQ6KfLyutL04b+8cDepaQZegC5b0ecE+SSuM4pfV6Sg291SZ5h00hsfXdsw+0WHrGsNEN0rSV5FxgcoXK+TayeyC13QQNP3S+VjpvfoZbJ+Fbn6D6t7ZLfaYyQ3CGLzPLqTFMUTBXf4bOsu/+X8hzq2jQXPdjsUmzdEMPtuq1klVTX8g2GMMtPJsG/vZQqGqHCmsCE+bVN9hUFTYtWleK3DMXXFPnHGOnQiujnH42A+w3PQzvTYpYgyZKnIPlcGMjXN+AiuuQypq1i41YbXPo3fj+wbyJGWonFjISpnn0uBg5UokcPoscPAMfKocOlPgePAP+P718hhzlx1fLLqPHqtGT55ETNWhpLXy0YlP+qthtmkfeeTrLIpPdpSg8kgqGKW5FdvHIbjCcIWPAn01iJ9br9RIEwf4Abrd7gwf7BUZgF4Z5/D7E5YonEnn+bxPqMTLth1doAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 10 34 34"\n        title=""\n        src="/static/2020-01-10-10-34-34-44d7195b285f5d49267088c47065a390-32723.png"\n        srcset="/static/2020-01-10-10-34-34-44d7195b285f5d49267088c47065a390-d1052.png 200w,\n/static/2020-01-10-10-34-34-44d7195b285f5d49267088c47065a390-32723.png 355w"\n        sizes="(max-width: 355px) 100vw, 355px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>关于图 7-2 这里有一些补充说明。</p>\n<ol>\n<li>位于最下面的 background/border 特指层叠上下文元素的边框和背景色。每一个层叠顺序规则仅适用于当前层叠上下文元素的小世界。</li>\n<li>inline 水平盒子指的是包括 inline/inline-block/inline-table 元素的“层叠顺序”，它们都是同等级别的。</li>\n<li>单纯从层叠水平上看，实际上 z-index: 0 和 z-index: auto 是可以看成是一样的。注意这里的措辞 — “单纯从层叠水平上看”，实际上，两者在层叠上下文领域有着根本性的差异。</li>\n</ol>\n<p>为什么内联元素的层叠顺序要比浮动元素和块状元素都高？</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-10-37-34-c09dfd24b622ed6015653dc11ebe06d5-8e7aa.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 362px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 77.34806629834253%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACiElEQVQoz32S3U9SYRzH/VdaW7ddtGpr2VqbF62rvHAtp2wMmrlWuZxcYAxsvsRmsXRGS4YshK0LB2iK2HzjRcwpcIjD4U1EDqB4jrwcDxwO5xw6cAp8W9892/PseX6ffX+/5/drgl2HkGUXNEe8hiAwE3Tp/bu2eIUVzVA4TpMkeYIXkWOGpisX1LQ15Z0Xry9IrQtvrXNi6/fnSzalmw0sE6UCnCAyWQJB8WSSpqhLYOckYOhZ0Q5vqOSbqhHneL9dObD5eXBr2RRmnxnmXyB7qq86nE3kj0Kodsw18Nr6XuoYktqHpXapaE096Qaj6H4qT7MZM5fkXIW5bVYHKiSO3qENvswh6HcKxE6eyNnCX5V/8VfLJ0jiMF3KY0UELaTTDZipiSxRVLnc93H7doelU/lDqDd16eafamZ6zLP6gw37gY/JYXSZKmVzRRQ978zJsBIb1YA9O9qOoEIITbSDH1o98nsO2UjYWK260qi25ngW5iQC9fcdsnFAqvFJNP53X0Gxytc7Db7ZOVqsYGQBTpK5LBaPnyTgMzD3l0Buf+XIqwP7VJ52g/ul0fViZqd7eov/K6wuofFiJkWTZYYk2eZddGa4ATGGhzWeLsj8LDLHC1t40dXuyLIAMrcicVPNhj5fMyeaYSiaIhmySGQCxjbft2ZIzvPLOiBJOyh6vK8YRKYMmMt3Odzwp0oHgAq2jYaevAo8EAabOwM326BbrcCVO6lP6jMw17P6oaraPFMFAnrE815r/n29hV2+Gw+Bq3dTY+r/OJ/KgaJx+3Z+cQ37acOW1rOLa8cmSyEQ+QtzhgiCwDCM4ziGYXt7e8lkMhaLsTfBUAjOoCkciyLpNIETp0b1DwOa/ZGQzfZkAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 10 37 34"\n        title=""\n        src="/static/2020-01-10-10-37-34-c09dfd24b622ed6015653dc11ebe06d5-8e7aa.png"\n        srcset="/static/2020-01-10-10-37-34-c09dfd24b622ed6015653dc11ebe06d5-acee0.png 200w,\n/static/2020-01-10-10-37-34-c09dfd24b622ed6015653dc11ebe06d5-8e7aa.png 362w"\n        sizes="(max-width: 362px) 100vw, 362px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>background/border 为装饰属性，浮动和块状元素一般用作布局，而内联元素都是内容。网页中最重要的是什么？当然是内容了！尤其是 CSS 世界是为更好的图文展示而设计的，因此，一定要让内容的层叠顺序相当高，这样当发生层叠时，重要的文字、图片内容才可以优先显示在屏幕上。例如，文字和浮动图片重叠的时候，如图 7-4 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-10-38-33-422f4920ab4b9277b59bd3209ffb2edb-5ae8a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 214px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 50.46728971962617%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByklEQVQoz2VRy27TQBTNpyAW/AMVKrtUqEIqRWxggUTVJRIbEEJCsOm2lZoFEh/AJ5QVYkEJjkziV1pn6owTO7ZjR7GjOE5sjxub0zjQShxpZu69c859zFSKotB08uHw1VHt4OTryecvx3Xu1PcDckFIRxVFwfNGqqpSqp+127KiSLLsB4Hv+xBWsJptrvr8Tu319sHbnQd7m/XGz8V80TeMgWlcaCSKZl2qq2pHFASN0g4h2eVyOp2uxb+lH/d2br3b26h93H30YkuUBJ3S87NzlXQ81+W4+q861xJFrsGlKQM/z/NrcaP17f7u7ePDp/z3T2/ev7RsC0GWpnESs4wlMZCwLEuSOM+LEmEYrsV863T74caTx9Xq1t39/Weu66DCfDGHaAGU+9UZz1eIomg8Hq/FjDHHtt2hbZqG49hZhjIZW+FyBbgp8v11S1yJ0QClFFmnYQgGeLZtj0Yj5MZglmWZpum6Lmh4YRi4RWQwGIBQQYjn+clkgv8IgmA2mxFCdF3XNK3f70uSpCgKXLCRqNvtyrLcbDYFQUCWSvEflsul53mO4/R6PRgY0jAMVCvf+SbzWvzvArOBChn24XCI1tAFyt7klMYfakgL3mr8YxQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 10 38 33"\n        title=""\n        src="/static/2020-01-10-10-38-33-422f4920ab4b9277b59bd3209ffb2edb-5ae8a.png"\n        srcset="/static/2020-01-10-10-38-33-422f4920ab4b9277b59bd3209ffb2edb-40813.png 200w,\n/static/2020-01-10-10-38-33-422f4920ab4b9277b59bd3209ffb2edb-5ae8a.png 214w"\n        sizes="(max-width: 214px) 100vw, 214px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="务必牢记的层叠准则"><a href="#%E5%8A%A1%E5%BF%85%E7%89%A2%E8%AE%B0%E7%9A%84%E5%B1%82%E5%8F%A0%E5%87%86%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>务必牢记的层叠准则</h1>\n<p>下面这两条是层叠领域的黄金准则。当元素发生层叠的时候，其覆盖关系遵循下面两条准则：</p>\n<ol>\n<li>谁大谁上：当具有明显的层叠水平标识的时候，如生效的 z-index 属性值，在同一个层叠上下文领域，层叠水平值大的那一个覆盖小的那一个。</li>\n<li>后来居上：当元素的层叠水平一致、层叠顺序相同的时候，在 DOM 流中处于后面的元素会覆盖前面的元素。</li>\n</ol>\n<p>在 CSS 和 HTML 领域，只要元素发生了重叠，都离不开上面这两条黄金准则。因为后面会有多个实例说明，这里就到此为止。</p>\n<h1 id="深入了解层叠上下文"><a href="#%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>深入了解层叠上下文</h1>\n<h2 id="层叠上下文的特性"><a href="#%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E7%89%B9%E6%80%A7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>层叠上下文的特性</h2>\n<p>层叠上下文元素有如下特性：</p>\n<ul>\n<li>层叠上下文的层叠水平要比普通元素高（原因后面会说明）。</li>\n<li>层叠上下文可以阻断元素的混合模式。（isolation: isolate 创建一个新的层叠上下文(stacking context)。）</li>\n<li>层叠上下文可以嵌套，内部层叠上下文及其所有子元素均受制于外部的“层叠上下文”。</li>\n<li>每个层叠上下文和兄弟元素独立，也就是说，当进行层叠变化或渲染的时候，只需要考虑后代元素。</li>\n<li>每个层叠上下文是自成体系的，当元素发生层叠的时候，整个元素被认为是在父层叠上下文的层叠顺序中。</li>\n</ul>\n<h2 id="层叠上下文的创建"><a href="#%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E5%88%9B%E5%BB%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>层叠上下文的创建</h2>\n<p>和块状格式化上下文一样，层叠上下文也基本上是由一些特定的 CSS 属性创建的。我将其总结为 3 个流派。</p>\n<ol>\n<li>天生派：页面根元素天生具有层叠上下文，称为根层叠上下文。</li>\n<li>正统派：z-index 值为数值的定位元素的传统“层叠上下文”。</li>\n<li>扩招派：其他 CSS3 属性。</li>\n</ol>\n<h3 id="根层叠上下文"><a href="#%E6%A0%B9%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>根层叠上下文</h3>\n<p>根层叠上下文指的是页面根元素，可以看成是<code class="language-text">&lt;html&gt;</code>元素。因此，页面中所有的元素一定处于至少一个“层叠结界”中。</p>\n<h3 id="定位元素与传统层叠上下文"><a href="#%E5%AE%9A%E4%BD%8D%E5%85%83%E7%B4%A0%E4%B8%8E%E4%BC%A0%E7%BB%9F%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>定位元素与传统层叠上下文</h3>\n<p>对于 position 值为 relative/absolute 以及 Firefox/IE 浏览器（不包括 Chrome 浏览器）下含有 position:fixed 声明的定位元素，当其 z-index 值不是 auto 的时候，会创建层叠上下文。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="82148179643176930000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<div style=&quot;position:relative; z-index:auto;&quot;>\n  <!-- 美女 -->\n  <img src=&quot;1.jpg&quot; style=&quot;position:absolute; z-index:2;&quot; />\n</div>\n<div style=&quot;position:relative; z-index:auto;&quot;>\n  <!-- 美景 -->\n  <img src=&quot;2.jpg&quot; style=&quot;position:relative; z-index:1;&quot; />\n</div>`, `82148179643176930000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- 美女 --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>2<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>auto<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- 美景 --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果如图 7-5 所示。效果符合预期，毕竟“美女”图片的 z-index 值是 2，而“美景”图片的 z-index 是 1。</p>\n<p>下面我们对父级简单调整一下，把 z-index:auto 改成层叠水平一样高的 z-index:0，代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="73864057473349450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<div style=&quot;position:relative; z-index:0;&quot;>\n  <!-- 美女 -->\n  <img src=&quot;1.jpg&quot; style=&quot;position:absolute; z-index:2;&quot; />\n</div>\n<div style=&quot;position:relative; z-index:0;&quot;>\n  <!-- 美景 -->\n  <img src=&quot;2.jpg&quot; style=&quot;position:relative; z-index:1;&quot; />\n</div>`, `73864057473349450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- 美女 --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>2<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token comment">&lt;!-- 美景 --></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span> <span class="token property">z-index</span><span class="token punctuation">:</span>1<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果会发现覆盖关系居然反过来了，此时“美景”图片覆盖在了“美女”图片之上，如图 7-6 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-10-55-50-fe4e3e20b3123bba55cdc38c2e0b9b3b-81a6c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 600px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 38.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB4ElEQVQY02PY2uNzfpHf03WBF2b6rWvzbY+137xl9X8g+PsXSPwD4p8f9u5dMe3K/7lXfiy88WvF3T9bn/w7+vbflz//GXbXiR5rFb8zVXJPkXiSoZAIC0N7fy9I758/QL0gzT/e7NveNfX69zk3Pi64+3nt028H3v24/OPn93//GM5PULg4XfH+VOUrNYqHw5ViVHl6+tqAWv78+Qux+P+Pd1f3t5x5fOvys+u3X9988enO558Pfv1++O/fd4YjU+SuJMkv15YtNZGsNpNxUeXu6SgDaf77D6L574+P59cXXzu97cGFTW+vb/l6Z+v3B7u+P97798c7hvNFsqcNFLYVKC0Jk+8KUqj1FOtPd/3x9RPIw/9A3v7/7+ue6eGLKiKXVwdsqXFdW2K3pMhuaoblw+tnGHb15VXZsU2ME2qLFK4PFKr25q2L1Xr/9jVE8z9wsF07sCTTmKPWlTXDiSvGij3WlifSkunS6X0Md09vbUxwboh3yI52So5yLk3ymNGQ/vULxOZ/EMu/PLs6tTS8Kd6+OsUtI8a5Ms2nPdv3wc1LDL9+fP3w4d3LV6+ePXny+cP7Tx/efv388cePH/9h4NOnT58/f/z44e2Tp88eP3z08f27jx/eAXV9//YNADpXTyrfjFNrAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 10 55 50"\n        title=""\n        src="/static/2020-01-10-10-55-50-fe4e3e20b3123bba55cdc38c2e0b9b3b-81a6c.png"\n        srcset="/static/2020-01-10-10-55-50-fe4e3e20b3123bba55cdc38c2e0b9b3b-468c3.png 200w,\n/static/2020-01-10-10-55-50-fe4e3e20b3123bba55cdc38c2e0b9b3b-3ff2b.png 400w,\n/static/2020-01-10-10-55-50-fe4e3e20b3123bba55cdc38c2e0b9b3b-81a6c.png 600w"\n        sizes="(max-width: 600px) 100vw, 600px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>z-index: auto 所在的<code class="language-text">&lt;div&gt;</code>元素是一个普通定位元素，于是，里面的两个<code class="language-text">&lt;img&gt;</code>元素的层叠比较就不受父级的影响，两者直接套用“层叠黄金准则”。这里，两个<code class="language-text">&lt;img&gt;</code>元素有着明显不一的 z-index 值，因此遵循“谁大谁上”的准则，于是，z-index 为 2 的那个“美女”就显示在 z-index 为 1 的“美景”上面了。</p>\n<p>而 z-index 一旦变成数值，哪怕是 0，就会创建一个层叠上下文。此时，层叠规则就发生了变化。层叠上下文的特性里面最后一条是自成体系。两个<code class="language-text">&lt;img&gt;</code>元素的层叠顺序比较变成了优先比较其父级层叠上下文元素的层叠顺序。这里，由于外面的两个<code class="language-text">&lt;div&gt;</code>元素都是 z-index:0，两者层叠顺序一样大，此时遵循“层叠黄金准则”的另外一个准则“后来居上”，根据在 DOM 文档流中的位置决定谁在上面，于是，位于后面的“美景”就自然而然显示在“美女”上面了。对，没错，<code class="language-text">&lt;img&gt;</code>元素上的 z-index 没起作用！</p>\n<p>有时候，我们在网页重构的时候会发现 z-index 嵌套错乱，这时要看看是不是受父级的层叠上下文元素干扰了，可能就豁然开朗了。但我还是提一下，IE6 和 IE7 浏览器有个 bug，就是 z-index:auto 的定位元素也会创建层叠上下文。这就是过去 IE6 和 IE7 的 z-index 会折腾死人的原因。</p>\n<p>我再提一下 position:fixed。在过去，position:fixed 和 relative/ absolute 在层叠上下文这一块是一样的，都是需要 z-index 为数值才行。但是，不知道什么时候起，Chrome 等 WebKit 内核浏览器下 position:fixed 元素天然层叠上下文元素，无须 z-index 为数值。根据我的测试，目前 IE 和 Firefox 仍是老套路。</p>\n<h3 id="css3-与新时代的层叠上下文"><a href="#css3-%E4%B8%8E%E6%96%B0%E6%97%B6%E4%BB%A3%E7%9A%84%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CSS3 与新时代的层叠上下文</h3>\n<p>CSS3 新世界的出现除了带来了新属性，还对过去的很多规则发出了挑战，其中对层叠上下文规则的影响显得特别突出。</p>\n<ol>\n<li>元素为 flex 布局元素（父元素 display:flex|inline-flex），同时 z-index 值不是 auto。</li>\n<li>元素的 opacity 值不是 1。</li>\n<li>元素的 transform 值不是 none。</li>\n<li>元素 mix-blend-mode 值不是 normal。</li>\n<li>元素的 filter 值不是 none。</li>\n<li>元素的 isolation 值是 isolate。</li>\n<li>元素的 will-change 属性值为上面 2 ～ 6 的任意一个（如 will-change:opacity、will-chang:transform 等）。</li>\n<li>元素的 -webkit-overflow-scrolling 设为 touch。</li>\n</ol>\n<h2 id="层叠上下文与层叠顺序"><a href="#%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B8%8E%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>层叠上下文与层叠顺序</h2>\n<p>一旦普通元素具有了层叠上下文，其层叠顺序就会变高。那它的层叠顺序究竟在哪个位置、哪个级别呢？</p>\n<p>这里需要分两种情况讨论：</p>\n<ol>\n<li>如果层叠上下文元素不依赖 z-index 数值，则其层叠顺序是 z-index:auto，可看成 z:index:0 级别；</li>\n<li>如果层叠上下文元素依赖 z-index 数值，则其层叠顺序由 z-index 值决定。</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-06-57-a557185fd95865232fa9dc2cdef58867-1fbcb.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 398px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 78.643216080402%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACkElEQVQoz4VT/U8SYRy/P6lfK+uHXtZay4YvU6tZzkoBdc6yGTZKEYx8mXP9UIvMsjJbkqtMRVMURC4FgvDeODqOk461A1SIY3HHdQfL6TrXd8+ePc+ez8vz/ex5AHr9p8+MfpvAXKPQl+f+1RH/isnLfE8IgpDjc8I/lftb4hpA54hPmqVZvWNKa5u+Y/t4a/Gtco5y0eIZz/E7ONkC/JP4WM3MG619yAiO9ICPO1YeaBxDPa4nvW7YE93xL0jE43EcxzEMYxhGIici27QnujCOdrXYjO3Lhna7XmM3aGza5vnPFjyWYjeTmbwCL6JjsZjIDAQCiYTUF8DnhV2OiE5t7Wi3q7odjV0rjTqwoROsve0sVttevidFACfXPyDdJydsb2Xi0aRlKXyyfqGkzXpxwFI9MFs7OKvo/tA/7UTZMJGM8jmO47N7AitoFPy9WKzqhkP5cL4efqSCTHXQ0zLv4Fl3/1HnPSM+JcH2hgfs3nA8L/DCeoI6BhpKV7t1Pr3OZ7i/3nfX12lCBjy0GY878+FxMmSpAUHYSDMaZNwID7+Dml5DDWNw8wv/NZOvunftzGSwL+/PFfIH5J6BFCzzixz0VAyvVa8tKN1W9dfFRu9yG+LQRpx9DDrKsmmapmXJkn8yEwNpszv4jJxpCluaQlNqauYmaWnFJi5s2FrZdCrHyTnvaIhTZmsDNhdDr06jKhVyqQ45X4Oeq8TKrwTLVeHrXcD+XLEz7ndmO/kD3MSsmOIqcrgMOVKOHFQghxTQgVN4hXJ/513+XCodqFTDRaXI8UppnKiCi0qCl1v+Ry48bi7Lhqg0TrB4iMVJaQSIDBmRIVMUJX6AVCpFEEQoFCr8BCpKB8NklsvuRv4B5bgrkz/SXtQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 06 57"\n        title=""\n        src="/static/2020-01-10-11-06-57-a557185fd95865232fa9dc2cdef58867-1fbcb.png"\n        srcset="/static/2020-01-10-11-06-57-a557185fd95865232fa9dc2cdef58867-4ab03.png 200w,\n/static/2020-01-10-11-06-57-a557185fd95865232fa9dc2cdef58867-1fbcb.png 398w"\n        sizes="(max-width: 398px) 100vw, 398px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这下大家应该知道为什么定位元素会层叠在普通元素的上面了吧？其根本原因就是：元素一旦成为定位元素，其 z-index 就会自动生效，此时其 z-index 就是默认的 auto，也就是 0 级别，根据上面的层叠顺序表，就会覆盖 inline 或 block 或 float 元素。而不支持 z-index 的层叠上下文元素天然是 z-index:auto 级别，也就意味着，层叠上下文元素和定位元素是一个层叠顺序的，于是当它们发生层叠的时候，遵循的是“后来居上”准则。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77085544067998700000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<img src=&quot;1.jpg&quot; style=&quot;position:relative&quot; /> <img src=&quot;2.jpg&quot; style=&quot;transform:scale(1);&quot; />`, `77085544067998700000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>这符合“后来居上”准则，“美景”覆盖在“美女”之上，如图 7-8 所示。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="38690267321421270000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<img src=&quot;2.jpg&quot; style=&quot;transform:scale(1);&quot; /> <img src=&quot;1.jpg&quot; style=&quot;position:relative&quot; />`, `38690267321421270000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">transform</span><span class="token punctuation">:</span><span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span>relative</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>这同样符合“后来居上”准则，“美女”覆盖在“美景”之上，如图 7-9 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-11-53-11f48727d02154ce721c5f1538a1ab3b-68fa4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 641px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 36.973478939157566%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABjElEQVQY02O4d2nnwvMvl93+t+r2r40P/ux5+e/q53///sMAmPn765sDsxOurop5ujH+7Ly4+bVhU+uyXn//xXDnxMwZp2/Muf194d2PG59+OfL+272fv/4jNP8Faf78+ECT1PFW4bvTxNckirhKs2mrKb359o3hydlZF2/svfP69pN31z99u/v378P//58DNSHb/PPjk/PT1S9PVrjeqHwkS2mlm5S7mebnb+8Ybh3oO7yq88KuBff3TXt8YOqD/dMenVr17+8fmF6QzV8/PDrZo3DRVW62kWyuvmSaiZiHqdzLB1cYHp5d3BtjMDlee0qCcleYbJ2/WGea1c+fP8A6/0Fs/vPv7YlK27W2Ytuq5JcmysyIk2vx4j26dTHD3x8f2uNtci3ZklxEA2yFw22EyuPMEZr///8LdsWJTbMzbXjKvcRiXETiXaXi7fj3b1nE8O3Lx8fXT+zbsmYvEG1ff3Lfltvnj/75/fs/UqB9//Hz04t7J/du2rN51e4t6w7t3nLu0I53L54AAL6sK+iccUPyAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 11 53"\n        title=""\n        src="/static/2020-01-10-11-11-53-11f48727d02154ce721c5f1538a1ab3b-68fa4.png"\n        srcset="/static/2020-01-10-11-11-53-11f48727d02154ce721c5f1538a1ab3b-ea38f.png 200w,\n/static/2020-01-10-11-11-53-11f48727d02154ce721c5f1538a1ab3b-bb505.png 400w,\n/static/2020-01-10-11-11-53-11f48727d02154ce721c5f1538a1ab3b-68fa4.png 641w"\n        sizes="(max-width: 641px) 100vw, 641px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>你会发现，两者样式一模一样，只是在 DOM 流中的位置不一样，这导致它们的层叠表现不一样，后面的图片在前面的图片的上面显示。这就说明层叠上下文元素的层叠顺序就是 z-index:auto 级别。</p>\n<p>最后分享一个与层叠上下文相关的有趣现象。</p>\n<p>在实际项目中，我们可能会渐进使用 CSS3 的 fadeIn 淡入 animation 效果增强体验，于是我们可能就会遇到类似下面的现象，有一个绝对定位的黑色半透明层覆盖在图片上，默认显示如图 7-10 所示。但是，一旦图片开始走 fadeIn 淡出的 CSS3 动画，文字就跑到图片后面去了，因为文字一直是 100%透明的纯白色，文字变淡是因为跑到图片后面，而图片半透明，文字穿透显示而已，如图 7-11 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-13-55-f903d00225e6ac763225c48b30ee5051-50e58.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 593px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 31.1973018549747%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZElEQVQY02N4/+D4li736yv8H64IPDPNf2GVd3uS+7NHd/7////v318gAjLe3Dl0Zl3dqxOdzw+039jWtn1Ow9Z5vT9/fGf4cHvbrir+M52StydLrk4W9VXlE+dlv3ThAlDP379QzW+vbzi3KPTR5uQnmxJ398SVJ4TmZ6V9/fqF4cPdnWcmSF+erfJgkvLZQqVdgQpOiiKnzl2EaP4P1vzh5uY7m+Ke7Mp6tTn9zsz0Iw1JdYU5n758ZXh9c/vpXvEr/vLzDGSKjSXKTCWs1AXPnUex+dWNzXfWxt2py9xSkjqvOHVWcUJted6nT18Ybl7eNj1CbZqNUWuEVq6jZqKHfpid+q2rF5E1P7y64lSB94HCsF1dwcvLgudVBMyvS/wOdPbLF0/v3Lhy6+7V61fO3Lt1/uGtizcunvr6+RM4wP4Bya9fv3149/zFncuP7l589+zG+6fXnt44/fzu5Q/v3wMAGAz6LJyS9aoAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 13 55"\n        title=""\n        src="/static/2020-01-10-11-13-55-f903d00225e6ac763225c48b30ee5051-50e58.png"\n        srcset="/static/2020-01-10-11-13-55-f903d00225e6ac763225c48b30ee5051-d1b16.png 200w,\n/static/2020-01-10-11-13-55-f903d00225e6ac763225c48b30ee5051-aef18.png 400w,\n/static/2020-01-10-11-13-55-f903d00225e6ac763225c48b30ee5051-50e58.png 593w"\n        sizes="(max-width: 593px) 100vw, 593px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>为什么会这样？实际上，学了本节的内容后就很容易理解了。fadeIn 动画本质是 opacity 透明度的变化：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="36085739800984020000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}`, `36085739800984020000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> fadeIn</span> <span class="token punctuation">{</span>\n  <span class="token selector">0%</span> <span class="token punctuation">{</span>\n    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token selector">100%</span> <span class="token punctuation">{</span>\n    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>要知道，opacity 的值不是 1 的时候，是具有层叠上下文的，层叠顺序是 z-index:auto 级别，跟没有 z-index 值的 absolute 绝对定位元素是平起平坐的。而本实例中的文字元素在图片元素的前面，于是，只要 CSS3 动画不是最终一瞬间的 opacity:1，位于 DOM 流后面的图片就会遵循“后来居上”准则而覆盖文字。</p>\n<p>知道原因，想要解决这个问题就很简单了：</p>\n<ol>\n<li>调整 DOM 流的先后顺序；</li>\n<li>提高文字的层叠顺序，例如，设置 z-index:1。</li>\n</ol>\n<h1 id="z-index-负值深入理解"><a href="#z-index-%E8%B4%9F%E5%80%BC%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>z-index 负值深入理解</h1>\n<p>z-index 是支持负值的，例如 z-index:-1 或者 z-index:-99999 都是可以的。</p>\n<p>那 z-index 具体的表现规则又是怎样的呢？</p>\n<p>很多人（包括我）一开始的时候，以为一个定位元素设置 z-index 负值，就会跑到页面的背后，隐藏掉，看不到了。结果实际上是有时候确实隐藏了，但有时候又隐藏不掉。为什么会这样？</p>\n<p>因为 z-index 负值的最终表现并不是单一的，而是与“层叠上下文”和“层叠顺序”密切相关。前面展示的层叠顺序规则 7 阶图，其中最下面的 2 阶是理解 z-index 负值表现的关键，如图 7-12 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-22-00-6f3361285f041e0a0b7683bd159d9b26-9a824.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 235px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 69.7872340425532%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACuUlEQVQoz22R2U8aURSH+QubprZ97UtfrC3qsLkWQRg2UUptWqtJlzSNVm0ctY1UhWGYDUStoAgoIFJZZpRloDADgr0jTRpNT76Hk3vz/U7OvZJmo8nlyqVchctWOKZSuoZjb1NiyjWudnWzJIVUyTVG+94FsRd+xyjhtm2tj5JLkHNZiSIKFFGiK33u1QHsa/fm7nwICK1m65+cTxWdRhq373hs/g09vWmkNmDvut7r0FA/dPSamkJknhUlvtjl9M8eAOGy0Ww2W83rCEn+V2lNi2+aaHR8y2XxOmHCZaAwC+0ykS4L6dSTq3L0ez+29HQjsHh4e3IhXULkKAJhiMy90o8uwuS8jpjTer5oiTYLMLVgoEDjeB8I7mT3vOld+iy6z1zLZyVEhi7LMQRyf1MTLzX0zIR/yuqdHvd9erMzCVOwgjCoRGA5PirFdD3Y8050xuIT5WKWW9PgDg3pUBPrZnpyhDSrPNZBfKwftw6AHjfKCRGFiFlFWvpIfS/+0b4tymAHoSYIVb7B1yvF369hH7gzKUUB+BNDhG1YZHyQAP3EkHhiUWGfX/lFub16qyU+g1CrvzVuAQ3E2wbJEQPRpXFLtSIKIw4ZsF49rjITEOxRmMjTTPmGzNfqdjWp7nRrnmEmCJOqicc6qttCd+oplc0PWb1PDF6pie6zbz8aJkKxkqRt/p0sNFZnD2anfs5N7yEfAkNj9J1u90OF577c0wFhHTKRexD2QO6524NFTzjJ1f+q/ZVVvsUUGky+nj3n2WL9vHjJFhq5vABgi416oyVhWTYUChUKhXQ6nc/nBaF+cpKMxxLB4P5+MBCPHzO5bKVSjkbDR9FwKpVkmdzFxXk8diTwvARoiUSiWq1mMhkQBAaCiDiQjo8jkUg8nuC4Ms8LocPwYTgSi8XT6Uw2xySTpzzP/wHkE4tYzIFZUQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 22 00"\n        title=""\n        src="/static/2020-01-10-11-22-00-6f3361285f041e0a0b7683bd159d9b26-9a824.png"\n        srcset="/static/2020-01-10-11-22-00-6f3361285f041e0a0b7683bd159d9b26-012e0.png 200w,\n/static/2020-01-10-11-22-00-6f3361285f041e0a0b7683bd159d9b26-9a824.png 235w"\n        sizes="(max-width: 235px) 100vw, 235px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>图 7-12 中已经很明显地标明了，z-index 负值元素的层级是在层叠上下文元素上面、block 元素的下面，也就是 z-index 虽然名为负数层级，但依然无法突破当前层叠上下文所包裹的小世界。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="84317301196083380000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<div class=&quot;box&quot;>\n  <img src=&quot;1.jpg&quot; />\n</div>`, `84317301196083380000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>先看下面的 CSS 代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63864840923993140000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.box {\n  background-color: blue;\n}\n\n.box > img {\n  position: relative;\n  z-index: -1;\n  right: -50px;\n}`, `63864840923993140000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.box</span> <span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.box > img</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>\n  <span class="token property">right</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时.box 是一个普普通通的元素，图片元素所在的层叠上下文元素一定是 .box 的某个祖先元素。好了，知道这么多足够了，现在再回顾一下刚刚出现的图 7-13 所示的这张图。</p>\n<p>图 7-13 中非常明显地标明了 z-index 负值在 block 元素的下面。本例中，图片是 z-index 负值元素，.box 是 block 元素，也就是图片应该在 .box 元素的后面显示，因此，图片会被 .box 元素的蓝色背景覆盖。最后的结果确实如此，如图 7-14 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-26-27-bf8242fa2e65336e5dd32faa2b20abf2-5e116.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 591px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 31.810490693739425%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABXElEQVQY0y3PsUsCURzA8XenU6Ag4h/QkoWgDUKD20FbS9DSP9BQi9RQg4kWiEM2FI6C0BKEZCo3OEl5F1pw0ZWQFFJcWtKhpud56nuv97TH4zv8eB/eewBjjCAiC042whhCNB4jOqfBzSb2+ZDLhTwe5HajRc/I6cLrXCKxvwr0ti6nq9J55S4plxKPYlxSa62JRBBSrCjYakUAIIaZFAwBwDPmA25pFnQa3cxO4Spwk46IqZBw5i+Imbfaa2s8gtOb63Vss1HGstSbWIq9jugatwC0li5fvKTjD7Fg8fRQPAqI0d3iSfi23zMw/sd2OwQAms3QZCI1CJ5zRFaWnYD8kJwoXyuxPWE7JGwEha2wsBkS683+FJNnWyyYAIahZdkRKTd/nPR7Qa/bGxpGp619vqtSpVGUlPLTd0n++lE7g4FOsGHgfF7jeZ3n+9lsN5f7TV1qz/cfSK3+AbId9t36rQpsAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 26 27"\n        title=""\n        src="/static/2020-01-10-11-26-27-bf8242fa2e65336e5dd32faa2b20abf2-5e116.png"\n        srcset="/static/2020-01-10-11-26-27-bf8242fa2e65336e5dd32faa2b20abf2-dd2a5.png 200w,\n/static/2020-01-10-11-26-27-bf8242fa2e65336e5dd32faa2b20abf2-20405.png 400w,\n/static/2020-01-10-11-26-27-bf8242fa2e65336e5dd32faa2b20abf2-5e116.png 591w"\n        sizes="(max-width: 591px) 100vw, 591px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>现在，我们给.box 元素加个样式，使其具有层叠上下文。很多 CSS 属性都可以，我们这里就使用不影响视觉表现的 transform 属性示意如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="7716717929746842000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.box {\n  background-color: blue;\n  transform: scale(1);\n}\n\n.box > img {\n  position: relative;\n  z-index: -1;\n  right: -50px;\n}`, `7716717929746842000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.box</span> <span class="token punctuation">{</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>\n  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.box > img</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>\n  <span class="token property">right</span><span class="token punctuation">:</span> -50px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>CSS3 transform 可以让元素具有新的层叠上下文，于是，对照图 7-15，非常明显地标明了 z-index 负值在层叠上下文元素的背景色之上，也就是说，这里 z-index 是负值的图片元素应该在.box 元素的上面。最后的结果确实如此，如图 7-16 所示。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-26-47-762d82898305a2462bd9d4faf5b8e39a-ad33d.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 652px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 29.601226993865033%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABVUlEQVQY02P4DwT/kMD/f3///fv7999/MPj7FyR99tx/H4/3OydFXVkR+nhd+KlZ4dOL/WbWpDEAJZ9denl64eUz8y+fnHXxUM+pJ2dfgHSA9f/5A2Lu2vNfkPvFrlrZkx0i96ZJrk8Sc5NiM9ZUB2m+tvXu6uxda9qPrW47Pr/wwOZZly6cfPb75x+45r37/gvzvDg+UfPqVKWrdSqHM5RXuUn5WhmDNL9//On6vgd9tceaKg431x+tLT3UVHnow4fvYM1A+//t3vOfl/P5oRaZS87Cs/SEs7QF47Q4vG00GCB++/Xr77ZlN6fNvFQ15VzdtAsNMy8+efkVrvn48f8mZu/3VSXtiona1R2zuTx2VUXYwal5DO/evfv27dvXr98+ff748tXrN28/Pn3+6s3bD58/f/nx4wcs2P69fv3x1ZvPz968f/rszbNnr9+8evvr53cA/PIN8nnJG/8AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 26 47"\n        title=""\n        src="/static/2020-01-10-11-26-47-762d82898305a2462bd9d4faf5b8e39a-ad33d.png"\n        srcset="/static/2020-01-10-11-26-47-762d82898305a2462bd9d4faf5b8e39a-6a23f.png 200w,\n/static/2020-01-10-11-26-47-762d82898305a2462bd9d4faf5b8e39a-cad54.png 400w,\n/static/2020-01-10-11-26-47-762d82898305a2462bd9d4faf5b8e39a-ad33d.png 652w"\n        sizes="(max-width: 652px) 100vw, 652px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>可以这么说，z-index 负值渲染的过程就是一个寻找第一个层叠上下文元素的过程，然后层叠顺序止步于这个层叠上下文元素。</p>\n<p>那 z-index 负值在实际项目中有什么用呢？具体作用如下。</p>\n<ol>\n<li>\n<p><strong>可访问性隐藏。</strong>z-index 负值可以隐藏元素，只需要层叠上下文内的某一个父元素加个背景色就可以。它与 clip 隐藏相比的一个优势是，元素无须绝对定位，设置 position:relative 也可以隐藏，另一个优势是它对原来的布局以及元素的行为没有任何影响，而 clip 隐藏会导致控件 focus 的焦点发生细微的变化，在特定条件下是有体验问题的。它的不足之处就是不具有普遍适用性，需要其他元素配合进行隐藏。</p>\n</li>\n<li>\n<p><strong>IE8 下的多背景模拟。</strong>CSS3 中有一个多背景特性，就是一个 background 可以写多个背景图。虽然 IE8 浏览器不支持多背景特性，但是 IE8 浏览器支持伪元素，于是，IE8 理论上也能实现多背景，这个背景最多 3 个，好在绝大多数场景 3 个背景图足矣。最麻烦的其实是这个伪元素生成的背景一定是使用 absolute 绝对定位，以免影响内容的布局。于是问题来了，绝对定位会覆盖常规的元素，此时则必须借助 z-index 负值，核心 CSS 代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37043213131611960000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.box {\n background-image: (1png);\n position: relative;\n z-index: 0; /* 创建层叠上下文 */\n}\n\n.box:before,\n.box:after {\n content: \'\';\n position: absolute;\n z-index: -1;\n}\n\n.box:before {\n background-image: (2png);\n}\n\n.box:after {\n background-image: (3png);\n}`, `37043213131611960000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.box</span> <span class="token punctuation">{</span>\n <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>1png<span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token comment">/* 创建层叠上下文 */</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.box:before,\n.box:after</span> <span class="token punctuation">{</span>\n <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.box:before</span> <span class="token punctuation">{</span>\n <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>2png<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.box:after</span> <span class="token punctuation">{</span>\n <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>3png<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时，就算.box 元素里面是纯文字，伪元素图片照样在文字下面，如此广泛的适用场景使上面的处理几乎可以作为通用的多背景模拟实现准则来实现了：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="86583521218853680000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<div class=&quot;box&quot;>我是一段纯文字...</div>`, `86583521218853680000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>我是一段纯文字...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n</li>\n<li>\n<p><strong>定位在元素的后面。</strong>我们直接看一个模拟纸张效果的例子，该效果的亮点是纸张的边角有卷起来的效果，因为底边的阴影看起来更有角度，如图 7-17 所示。 \n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-32-52-fbbea1c663adfb56fab6befa70acade5-63b89.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 221px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 72.39819004524887%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB90lEQVQoz3WS2W7aQBSGecE2TdvIYLyMPeMlNBI3FKqWNOpd1WdokquWF0GiEstFYyAXICTUOoDNHhbjGaYn0EqJTH99OvI59ucZWxPjfLvdtLbBz23gHIStHR46Pbfu1Ju3uzSbzVarRSmN8W1IB2/D38ehGw9dIUrwS+Aj4fvXRDyhmyYxDEPTtEwms1wud7L/jt6d0J5Ee8koGzfJJ8nCpSQmiW2blmVhjLPZ7D95+J72BNpXaF+OsrmT+VQuXMkHZcpGH1g/zgYqGyhRwp7CZ0rh+r/yORuIzNOYh6KEfcTnqHClHJI55ZML7st8SPgQPzB6AvMxX+DCtZIQ8Wl0ZTq6oAOZeoR6OMqmj/k9+XZ5SKY0/PI5m7KO02fCWerkjf06Zb9KWS9t44VFjkz8nOjPTs0jAycwMUzzqRyGNJ//lBBVFRmKQiRZf0DSxSQSRRRPKEJcFgRZVXVrF9u2CSG5XG4vhx/P85IkYqzpOgI0TQV0DQGa9rdFSN0HISRJUjqdXiwW8MN4p9NxHKfRaNTr9Zubm/0BhMCk+SiPWziejLHYZDLxfX+9XgdBsFqt4F3T6XQ2m8GuYHK/C0xgHbiYz+dwazwegwJtrNvtVqtV13Xb7bbnefAVtVqtXC5Dhe1UKhWoP3aBx6CFWiqVisUiKH8Ac4RDYuLD5LkAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 32 52"\n        title=""\n        src="/static/2020-01-10-11-32-52-fbbea1c663adfb56fab6befa70acade5-63b89.png"\n        srcset="/static/2020-01-10-11-32-52-fbbea1c663adfb56fab6befa70acade5-89cc8.png 200w,\n/static/2020-01-10-11-32-52-fbbea1c663adfb56fab6befa70acade5-63b89.png 221w"\n        sizes="(max-width: 221px) 100vw, 221px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>HTML 结构大致如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55483242087794295000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<div class=&quot;container&quot;>\n <div class=&quot;page&quot;>标题和内容</div>\n</div>`, `55483242087794295000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>page<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>标题和内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>其中，.container 是灰色背景元素，.page 是黄色背景的纸张元素，关键 CSS 如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="66294836953875010000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`.container {\n background-color: #666;\n /* 创建层叠上下文 */\n position: relative;\n z-index: 0;\n}\n\n.page {\n background-color: #f4f39e;\n position: relative;\n}\n\n/* 边角卷边阴影 */\n.page:before,\n.page:after {\n content: \'\';\n width: 90%;\n height: 20%;\n box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n position: absolute;\n /* 层叠上下文（灰色背景）之上，定位元素（黄色纸张）之下 */\n z-index: -1;\n}\n\n/* 边角卷边阴影定位和角度控制 */\n.page:before {\n transform: skew(-15deg) rotate(-5deg);\n transform-origin: left bottom;\n left: 0;\n bottom: 0;\n}\n\n.page:after {\n transform: skew(15deg) rotate(5deg);\n transform-origin: right bottom;\n right: 0;\n bottom: 0;\n}`, `66294836953875010000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.container</span> <span class="token punctuation">{</span>\n <span class="token property">background-color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>\n <span class="token comment">/* 创建层叠上下文 */</span>\n <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n <span class="token property">z-index</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.page</span> <span class="token punctuation">{</span>\n <span class="token property">background-color</span><span class="token punctuation">:</span> #f4f39e<span class="token punctuation">;</span>\n <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/* 边角卷边阴影 */</span>\n<span class="token selector">.page:before,\n.page:after</span> <span class="token punctuation">{</span>\n <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n <span class="token property">width</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>\n <span class="token property">height</span><span class="token punctuation">:</span> 20%<span class="token punctuation">;</span>\n <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 8px 16px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.3<span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n <span class="token comment">/* 层叠上下文（灰色背景）之上，定位元素（黄色纸张）之下 */</span>\n <span class="token property">z-index</span><span class="token punctuation">:</span> -1<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">/* 边角卷边阴影定位和角度控制 */</span>\n<span class="token selector">.page:before</span> <span class="token punctuation">{</span>\n <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">skew</span><span class="token punctuation">(</span>-15deg<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>-5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token property">transform-origin</span><span class="token punctuation">:</span> left bottom<span class="token punctuation">;</span>\n <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.page:after</span> <span class="token punctuation">{</span>\n <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">skew</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>5deg<span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token property">transform-origin</span><span class="token punctuation">:</span> right bottom<span class="token punctuation">;</span>\n <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>.container 灰色背景通过 position:relative;z-index:0 创建了层叠上下文，.page 仅有 position:relative 而没有设置 z-index 值，因此只能算 z-index:auto 程度的定位元素，于是，z-index:-1 两个边角阴影就完美地藏在了层叠上下文（灰色背景）之上、普通定位元素（黄色纸张）之下（如图 7-18 所示标注），隐藏了丑陋的细节，展示了完美的边角阴影，实现了最终细腻的样式效果。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-10-11-38-57-4518b246b1a2b17fb8ccf2c4dde89c9d-24d05.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 436px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 75.45871559633028%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACW0lEQVQoz32Ty27TQBSG81i8BA/QBWxZsGJFJRABgYQKi8KqFaqQShFUoIJoChWqgIakoUnpJW2Sxonj1Lfx2I7v4/HYsRMml9K0XH6Nztia+c75xz6TgkznaLVRyTQP3tT3Xtd2lqrllUbcjZMkpiKEhGHoui596Pf7vVP1h0oxG+3Mzc3P97c+pnOf0rn3N76s3y1YhmuaNsWgqtq2rWma7/sjuD+hVG2dW7m2sfygsPC4tPDwx+x0bnY6/zS9/Wqu7DpOQLBlWYqiCIIgyzIAoNVq0TiGfTPwgLe+fHzn+ub8zM6L+cPFufLCk/23i1UATccLcIDtoTzPo/4dx0EIjeFeMnBS/MbP3trKfj3hdcyKbkvymqJbaTpM202Sc1bP2R4cP+lFYRyRSATebs2o8UYd6gzs1FWd0TUlsHTiXPhUY3jyxUZEgj5n61UsMb5cR1IVCWWnXffEOIl6SUzrRIHZJW4c+t3QPQeP0sqBseOc8IiHflsJREhkjcgGAU5k0FVscajTQAbradXUnyfB3dCMsI4F4DOgUwRKFsAcUAuq/hObbIj0OEJJF1+0PenAJhDik1bhXvPDVGN1il27wq5dPX53mf9+OyTGaFvqrygdSa9LI91aeXlJ3pzRCksw/1zNPjN3M5FiRB3rX5XP6ncaq3LxEarukSMpOGyTfS7Ya+Ltg6DW6v0XHmUYpAjYtpcv+cX9wSgd+MUy/g1f+HsTpQc9QOfYQ9RnZFin0YxsdwxDSPtfxUPRTqadSO8QvQzcUHSJFwVeEhVVlRTAcpwMoSCJtEl/AbmkNMetDThWAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 10 11 38 57"\n        title=""\n        src="/static/2020-01-10-11-38-57-4518b246b1a2b17fb8ccf2c4dde89c9d-24d05.png"\n        srcset="/static/2020-01-10-11-38-57-4518b246b1a2b17fb8ccf2c4dde89c9d-7ab77.png 200w,\n/static/2020-01-10-11-38-57-4518b246b1a2b17fb8ccf2c4dde89c9d-a60d7.png 400w,\n/static/2020-01-10-11-38-57-4518b246b1a2b17fb8ccf2c4dde89c9d-24d05.png 436w"\n        sizes="(max-width: 436px) 100vw, 436px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n</ol>\n<h1 id="z-index不犯二准则"><a href="#z-index%E4%B8%8D%E7%8A%AF%E4%BA%8C%E5%87%86%E5%88%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>z-index“不犯二”准则</h1>\n<p>此准则内容如下：对于非浮层元素，避免设置 z-index 值，z-index 值没有任何道理需要超过 2。</p>\n<ol>\n<li>定位元素一旦设置了 z-index 值，就从普通定位元素变成了层叠上下文元素，相互间的层叠顺序就发生了根本的变化，很容易出现设置了巨大的 z-index 值也无法覆盖其他元素的问题。</li>\n<li>避免 z-index “一山比一山高”的样式混乱问题。此问题多发生在多人协作以及后期维护的时候。例如，A 小图标定位，习惯性写了个 z-index:9；B 一看，自己原来的实现被覆盖了，立马写了个 z-index:99；结果比弹框组件层级还高，那还得了，立马弹框组件来一个 z-index:999999；谁知后来，弹框中又要有出错提示效果……显然，最后项目的 z-index 层级管理就是一团糟。</li>\n</ol>\n<p>如果真的了解了本章的内容，你就会发现，原来自己的代码中很大一部分 z-index 设置都是多余的，不仅浪费代码，还埋下样式问题风险，尤其那种使用 absolute 绝对定位必使用 z-index 的做法是最愚蠢的。</p>\n<p>如果 DOM 顺序确实无法调整，不得不使用 z-index 值，请记住，z-index 不要超过 2，不是不能，而是没有必要。我从业这么多年，遇到很多很复杂的与定位相关的交互场景，但 z-index 最多止步于 2。如果你的定位发现必须 z-index:3 或者以上才能满足效果，建议你检查自己的代码，试试应用“relative 的最小化原则”来实现，试试利用元素原生的层叠顺序进行层级控制，等等。</p>\n<p>很重要的一点，我这里的“不犯二”准则，并不包括那些在页面上飘来飘去的元素定位，弹框、出错提示、一些下拉效果等都不受这一准则限制。</p>\n<p>对于这类 JavaScript 驱动的浮层组件，我会借助“层级计数器”来管理，原因如下：</p>\n<ol>\n<li>总会遇到意想不到的高层级元素；</li>\n<li>组件的覆盖规则具有动态性。</li>\n</ol>\n<p>所谓“层级计数器”，实际上就是一段 JavaScript 脚本，会遍历所有<code class="language-text">&lt;body&gt;</code>处于显示状态的子元素，并得到最大 z-index 值，和默认的 z-index 做比较。如果超出，则显示的组件的 z-index 自动加 1，这样就不会出现有组件被其他组件覆盖的问题；如果不超出，就使用默认的 z-index 值，我习惯设成 9，因为遵循“不犯二”准则的情况下，9 已经是个足够安全的值了，浮层组件根本无须担心会被页面上某个元素层级覆盖。</p>\n<p>此刻大家不妨想想自己的项目，如果所有的浮层相关的组件容器的 z-index 默认值是 9，会不会出现样式问题。如果觉得层级太低不敢想象，则说明你的项目层级这块还有较大改进的空间。页面上主体元素遵循 z-index“不犯二”准则，浮层元素使用 z-index“层级计数器”，双管齐下，从此和 z-index 问题说拜拜！</p>',
id:"/github/workspace/blog/CSS世界的层叠规则/index.md absPath of file >>> MarkdownRemark",timeToRead:11,frontmatter:{date:"2020-01-10 10:19:55",path:"/css-world-stacking-rule/",tags:"前端, CSS, CSS世界",title:"CSS世界的层叠规则",draft:null}},{excerpt:"一些常见不必要 CSS 样式 与默认 CSS 样式一致 我们有时候写的 CSS 样式会与浏览器默认的 CSS 样式一致，有时候您自己都可能没有意识到。 常见的例子有： width / height 很显然，这段样式是没有必要的，默认的任何块状元素的高度几乎都是 auto。 padding 上面有关 body,p 等标签的样式中有个样式是无效的，与默认值一致的，这个样式就是 padding:0，对于 body,p,h1~6 这些标签，本身的 padding 值就是 0，所以只需要 margin:…",html:'<h1 id="一些常见不必要-css-样式"><a href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E4%B8%8D%E5%BF%85%E8%A6%81-css-%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>一些常见不必要 CSS 样式</h1>\n<h2 id="与默认-css-样式一致"><a href="#%E4%B8%8E%E9%BB%98%E8%AE%A4-css-%E6%A0%B7%E5%BC%8F%E4%B8%80%E8%87%B4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>与默认 CSS 样式一致</h2>\n<p>我们有时候写的 CSS 样式会与浏览器默认的 CSS 样式一致，有时候您自己都可能没有意识到。</p>\n<p>常见的例子有：</p>\n<h3 id="width--height"><a href="#width--height" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>width / height</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77164737345171310000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  width: auto;\n  height: auto;\n}`, `77164737345171310000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>很显然，这段样式是没有必要的，默认的任何块状元素的高度几乎都是 auto。</p>\n<h3 id="padding"><a href="#padding" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>padding</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="17529362400211546000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n  padding: 0;\n}`, `17529362400211546000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>上面有关 body,p 等标签的样式中有个样式是无效的，与默认值一致的，这个样式就是 padding:0，对于 body,p,h1~6 这些标签，本身的 padding 值就是 0，所以只需要 margin:0 就可以了。</p>\n<p>因为 ul,ol 还要独立设置 list-style 样式，而且常用的标签就 ul,ol 列表元素有默认的 padding 值，高效的写法应该是：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="54844573066695655000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  margin: 0;\n}\n\nul,\nol {\n  list-type: none;\n  margin: 0;\n  padding: 0;\n}`, `54844573066695655000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">ul,\nol</span> <span class="token punctuation">{</span>\n  <span class="token property">list-type</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="display-inline"><a href="#display-inline" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display: inline</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85045833065930800000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`span {\n  display: inline;\n  float: left;\n  margin-left: 3px;\n}`, `85045833065930800000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">span</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>出现这种情况的原因可能与 IE6 的浮动双边距 bug 有关，我们可以用设置 display:inline 的方法修复 IE6 的这个 bug。</p>\n<p>但是对于 span/a/em/cite/i/b/strong 等行内元素默认就是 display:inline 的，所以给其设置 display:inline 属性是多此一举。</p>\n<p>类似的情况还有对本身就是 block 水平的元素设置 display:block 属性，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94614054630110920000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`li {\n  display: block;\n  padding: 4px 0;\n}`, `94614054630110920000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">li</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">padding</span><span class="token punctuation">:</span> 4px 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>上面的情况屡见不鲜，甚至在比较优秀的网站上也会有这类低级的样式问题。</p>\n<h3 id="其他"><a href="#%E5%85%B6%E4%BB%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="62258518873280380000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  margin: auto;\n}\n\ntextarea {\n  overflow: auto;\n}\n\nimg,\ninput,\nbutton {\n  vertical-align: baseline;\n}\n\ndiv {\n  background-position: 0 0;\n}`, `62258518873280380000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">textarea</span> <span class="token punctuation">{</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">img,\ninput,\nbutton</span> <span class="token punctuation">{</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">background-position</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="没有必要出现的样式"><a href="#%E6%B2%A1%E6%9C%89%E5%BF%85%E8%A6%81%E5%87%BA%E7%8E%B0%E7%9A%84%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>没有必要出现的样式</h2>\n<p>最常见的就是 clear:both 的使用。<br>\n如果前后没有浮动元素干扰，使用 clear:both 是没有道理的。<br>\n比如说新浪新版博客个人博客的首页，clear:both 属性可以说是滥用：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-15-47-8167f493c032eb0ffa245bdcd90e6481-7cd76.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 382px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 32.19895287958116%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABP0lEQVQY02WN30rCYBiHX1GHMNTpkd6B4E14pp8QQd5P0FUEHhkF6VEOK08UjfaVTjPzT+REUUnX/IfOkTTnvmbYQfTyHLwHv4cHyIbcjNOBVsAjeJx1J9NgXFWXo+bw9rzxRTz1mRJ1cZLJX6dvsxjfYXzFsqfRKIfxmuNA3aiEkPaw5yv7oA62ko3iKapIUU+UtWiFZzibnhP+dcbj90RCyuUG2exDLGY860JhL7c+uv6y31Kz2LGdLtF0kaY5mqkw0IfkPElUoj0WCMsSXd+jaYosw9eP/CI13RU3NMHEm4wa5AHuwdw3wwhOhsdCOzOYNYzZluhbQjRDJkRRlH1Z0sYRIRLsBMPNMHpDqI1QF6EqCgmhSP/ooHN4sbjcyTvXCP/KsixLY2k6ma7E1Wr0F3GHPJKXw+VcnE3+3TeVPf3D+pT3hwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 15 47"\n        title=""\n        src="/static/2020-01-06-20-15-47-8167f493c032eb0ffa245bdcd90e6481-7cd76.png"\n        srcset="/static/2020-01-06-20-15-47-8167f493c032eb0ffa245bdcd90e6481-1cbbb.png 200w,\n/static/2020-01-06-20-15-47-8167f493c032eb0ffa245bdcd90e6481-7cd76.png 382w"\n        sizes="(max-width: 382px) 100vw, 382px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>在博客列表主体处基本上每个 div 标签都使用了 clear:both 属性，而这里所有的 clear:both 属性都是可以去除的。</p>\n<p>clear:both 的多余使用可以说是相当普遍使用的情况。像是开心网底部网站信息：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-16-09-75a5004609e8247985566df334df296b-f1382.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 533px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 44.652908067542214%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByklEQVQoz2WNWXOaUBSA+e+N0dg+xSVJm063F22Ttz5kpoO2ZsAQ486VRUBAAblcFdmDkvRaH3vmm2/OOocgu6jesG5/L2/+o04aP5pWvWHWSONQNkzMoUMaNdL8SVnE15tFrjQrXswK1QNnR/6VuZKUryj5snxyPi1UldOyfFqScB/75FyufFGI289S+Q24KkwuC9zVGX+Rn2Af8w9vRez3ReH63fSYYI7Tao77VuEIS+2LgJqKnQnLDPttRerxE1oSGA7QHeYXByh22Hqg70b9P4NuE1sSHpVpR5k+KlKXmGsiGDOKDERxLAs9S2Vtg7MMrt+jmfa9PuMHTxRDNcGIYYdtbLysq2NtNprJYyKIEpZfsU+qNNIkeQW0cKKFqh0sbWcbuk6ATNeyfdtN1hsvWLvRPsuSJNvtXtM0JTQYVL9ztdJd/ZL89JEuVVrF68FDR35NvKUHgQFGi0FPHrMaLxoqy5uq5kIYIRQncUJk2T57edknqT13XR3toGMABQIhum8Zc0GAkmZAXfcXiyDw06278/00DNPnZ/w/IcIAh++5m5Wmb82li1YmRPZ6u3IQRJbpmA7cIIS/bXzfi+Mgivw4DsPDmfcXRyy5PBUnojgAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 16 09"\n        title=""\n        src="/static/2020-01-06-20-16-09-75a5004609e8247985566df334df296b-f1382.png"\n        srcset="/static/2020-01-06-20-16-09-75a5004609e8247985566df334df296b-7cec2.png 200w,\n/static/2020-01-06-20-16-09-75a5004609e8247985566df334df296b-dfa51.png 400w,\n/static/2020-01-06-20-16-09-75a5004609e8247985566df334df296b-f1382.png 533w"\n        sizes="(max-width: 533px) 100vw, 533px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>要是前后没有直接的浮动元素，使用 clear:both 就是多余的。</p>\n<h2 id="不起作用的单样式"><a href="#%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%E7%9A%84%E5%8D%95%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>不起作用的单样式</h2>\n<p>有些 CSS 样式只针对特定显示水平的标签起作用。</p>\n<h3 id="inline-水平"><a href="#inline-%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>inline 水平</h3>\n<p>inline 水平的元素对很多 CSS 样式都不起反应，例如 height/width, clear, margin-top/margin-bottom, overflow 等。举个实例吧，拿 overflow:hidden 属性举例，对于 inline 水平的元素而言，设置 overflow:hidden 属性是没有作用的。例如下面的测试代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37418610694833790000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<span style=&quot;overflow: hidden;&quot;>\n  <img src=&quot;mm1.jpg&quot; style=&quot;margin-left: -5px;&quot;/>\n  <span></span\n></span>`, `37418610694833790000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mm1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对比于：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="74575912982504340000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<span style=&quot;display: inline-block; overflow: hidden;&quot;>\n  <img src=&quot;mm1.jpg&quot; style=&quot;margin-left: -5px;&quot;/>\n  <span></span\n></span>`, `74575912982504340000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mm1.jpg<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>\n<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>对比图如下：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-35-24-40e33b8e67745f3ff905c1b5cc472d00-aa023.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 392px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 65.81632653061224%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACJUlEQVQoz4VRXW8SQRTlD/qgDzWxJiY++KAxMYqJjZioiS+N0oSq0QY/qq2FUrSUUKgspcJWiN1uqCxburuwpJXAStkvFhjYj3F2bdU2IZ6cTM69c+7cmTsuMNAVDShd0BJVoSXJal/VwDH7aheMYkfrubQuEBUgdXT+QEhn8vWmpGi6qPSVrq50DUkdjOCw0Tx0DXXdNM2hYZUoCvR7pg3DtCxVFqVWAwnDjk8T5SVJchmGAaFlQZj99FooxA/L+HZ09ieN7+eWSqkPcDRkWT4qNiEUyFhvJ0iEfe8mrlGxV1phsbYxizrA4RD2elDX7fW30DSUlBXlb+fva3PVVd+L+3c8F8fwpSD/2U+GptAePDiAKQwmMYjjEMPgRhqup6AgyKp6VIw8yffToQeXfe7rY2cuTD58uv78bth3z96o1yHDQIqyT+GrcGvLFv9eG5lyq6EvIX82+pHIZLFYPLfwDJt5AjkWEoT9RNtyDEefKN6nCXkXE9lNctkvZ5bbqTk+8dZ+IYJp2kSuP+LUwMQKqZHzXxe8b25dKUZmOoVgFQ0MWf87bRTUCjiz4vV53O7z59KBABd/SSxOGU6x8/lo8DZMw7BOdHaCEr42PzE+ffPq+NlLjzzexOMbgcnbg8FgxwHDMFSRKhaLJQdcpdJoNl0AAFVRZFX7USnnE+F0NLK9mU9GYyQW+ZZOtNttjquU6F2WYffKeyzL8XyNpmmUFJrCL+dWrgTWo8y3AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 35 24"\n        title=""\n        src="/static/2020-01-06-20-35-24-40e33b8e67745f3ff905c1b5cc472d00-aa023.png"\n        srcset="/static/2020-01-06-20-35-24-40e33b8e67745f3ff905c1b5cc472d00-b2451.png 200w,\n/static/2020-01-06-20-35-24-40e33b8e67745f3ff905c1b5cc472d00-aa023.png 392w"\n        sizes="(max-width: 392px) 100vw, 392px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="block-水平"><a href="#block-%E6%B0%B4%E5%B9%B3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>block 水平</h3>\n<p>block 水平的元素对 vertical-align 属性没有作用。</p>\n<h3 id="组合起作用"><a href="#%E7%BB%84%E5%90%88%E8%B5%B7%E4%BD%9C%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合起作用</h3>\n<p>有些样式需要和其他一些特定的 CSS 属性一起使用才有作用。常见的就是 z-index 与 position 属性的组合使用，left/top/bottom/right 与 position 属性的组合使用。</p>\n<h2 id="组合样式中多余的-css-代码"><a href="#%E7%BB%84%E5%90%88%E6%A0%B7%E5%BC%8F%E4%B8%AD%E5%A4%9A%E4%BD%99%E7%9A%84-css-%E4%BB%A3%E7%A0%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合样式中多余的 CSS 代码</h2>\n<h3 id="displayblock"><a href="#displayblock" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display:block;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="31920398256195950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`a {\n  display: block;\n  float: left;\n  margin-top: 2px;\n}`, `31920398256195950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">a</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这可以说是最常见的含有多余样式的例子了，开心网个人首页可谓随处可见，见下图：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-37-48-728ba3c5686ce897c8e78411e3b303ea-037b2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 499px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 58.517034068136276%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACcklEQVQozzVRWW/aYADLr9/bHiZN6ku3Vqu0ddrWrhXQFkq5AzQHTSD30UBOICHflxtIyFi1WbYfbclG3LWra6K58izX9wGIwjBJt5sNXLrQVReAFQGv+JzksxLkJPCfUFSDjY9YljkjsRnJylMebrwoia0V6I7oSqPb+3JpUJz8TNjywpD1pWo6qrXgNXvuKD3c4QVEuW7fvG9UO9NaZyJ2hrG7LsoyziI/9nXJWODPxrBr3N7btQezWnm9/mlVK5tardQ0CHxEfcJ/f2g8tOhGjxZwOgb+oSwPh6I45A7YErIztaHw/Ra7+NY8vxh8vXyp3o1Oz13NAmGILF2bpTHieUIStDBfBIGXZXGaRFkaZUkYhjA4rsBMdyHYRcE+Co6+DWEUAn/jIRO8Q5JDVaWnVI+lewKDUvgTPxsILCoy6GTckMQxU/817VVFGRP5Ec8OBA5VhKFtaQg1GU2IoTbnLVt0LMHSmaXJvEqYLGIsN1IV0jAZslnFa7eiwk1JdNipj/qP3Gxs6K9IlqW+D+UR279sd6/Q/h3Ze6Rb95NhnWSaGNUkMN7Tj99MKRcCCP19vt/td3mRBxAg5RtsgmtdjX+c9s8+9ionD3cntZtP7frnFvrubHbdiiwDtp94U2R07mVO8bYoO9LaWyHHZY/4G5DvcsPcLpalqZWGUprzSNfClV7GIK1WUvpFwbtzEtVw0kAxhVXstfuvuTyUPkhWDsi3+0OeF7v9MW9bFLsiT4vSdZbJC8FSXYPhDMZKJny5XAVJjKRpAkAoSWtd38AgTrM0Sd+YJEfttulyDWXNChaqQgxUEtMI2puJoefBAPwBSdJu50Gec4AAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 37 48"\n        title=""\n        src="/static/2020-01-06-20-37-48-728ba3c5686ce897c8e78411e3b303ea-037b2.png"\n        srcset="/static/2020-01-06-20-37-48-728ba3c5686ce897c8e78411e3b303ea-fd89b.png 200w,\n/static/2020-01-06-20-37-48-728ba3c5686ce897c8e78411e3b303ea-a94ea.png 400w,\n/static/2020-01-06-20-37-48-728ba3c5686ce897c8e78411e3b303ea-037b2.png 499w"\n        sizes="(max-width: 499px) 100vw, 499px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这里的 display 属性完全没有必要，对于 a 或是 span 标签而言，没有任何理由使用 display+float 的组合，因为 float 所产生的“包裹”作用已经让元素如同一个 inline-block 水平的元素，这种作用大于直接的 display 设置。</p>\n<p>仅仅一种情况下有必要使用 display+float 的组合，就是 block 水平的元素在 IE6 下的双边距 bug 问题，这种情况的唯一写法就是 display:inline; float:left; margin-left:3px;一定要有与 float 浮动同方向的 margin 值，否则 display:inline 是多余的，可以直接去掉。</p>\n<h3 id="height25px"><a href="#height25px" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>height:25px;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53907071536904995000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  height: 25px;\n  line-height: 25px;\n}`, `53907071536904995000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>\n  <span class="token property">line-height</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这又是一种常见的平时不注意的可以精简的 CSS 代码，这段代码高度与 line-height 值一致，通常作用是实现单行文字的垂直居中显示。但是实际上，很多情况下，这里的 height 是个多余的值，尤其在模块标题处。对于单行文字而言，您设置 line-height 多大，其实际占据的垂直高度就是多高，没有任何的兼容性问题，可以放心使用。</p>\n<p>但是，有时候这里的 height 值是有必要的，什么时候呢？就是 IE6/7 清除浮动影响的时候，IE6/7 下设置 height 值可以让元素 haslayout 从而清除浮动的影响，而 line-height 无此作用，还有就是其他一些需要 layout 的情况。</p>\n<h3 id="width100"><a href="#width100" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>width:100%;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25850318856712827000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`span {\n  display: block;\n  width: 100%;\n}\n\ndiv {\n  width: 100%;\n}\n\nbody {\n  width: 100%;\n}`, `25850318856712827000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">span</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这也是常见的使用多余 CSS 样式的情况，width:100%。在一般情况下，对于 block 属性的元素，width:100%这个属性绝对是多余的。默认的，block 水平的元素就是宽度相对于父标签 100%显示的。</p>\n<p>当然，不使用 100%的情况不是绝对的，下面这个组合可能使用 width:100%是有必要的。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="46367344621945450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  width: 100%;\n  overflow: hidden;\n}`, `46367344621945450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>在 IE6/7（没有 IE8）下，对于 block 水平的元素，我们可以使用 width:100%清除浮动造成的影响，原因与上例一样，haslayout，除了这种情况，纯粹的{width:100%;}样式（无 float 或是 position:absolute 之类的样式）是不可能出现的。所以，如果您的 CSS 代码中出现上述情况，检查下您的 width:100%是不是多余的。（下图为搜狐白社会动态列表中多余 width:100%情况）</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-42-33-effbffab0358d148c9653232b6224ae4-ad786.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 457px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 48.57768052516411%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB6UlEQVQoz33IW2+aYACAYX7gbvaPluxmF1uWLGuXrLvqLpoujU3MqoLT2noAxSLggbPAB4KAVI4Kn4qzu16aPBdvXuSKnt9MwDWj3vIWCqKaFlT1sPYqVA9/a6G2CpEPOPjUX3wkjC+UczZ+Pmefv9HeGeu/4pz1P9M+bXhItbdEcQclXBRfoqTfrM5af6RTYISDES7W/4963630XEX3ENsEhjZfmiD0vePxWIj8cZsUh93xZA8PMCt2eQHzU7z0S+T/JoyCNSLwhMAPWKYtiqTKEWqjPCTvZWnIjh6nk54JWFWhgEYvDHYBWENnTsCJNnIdA5kyHaJTm9JtjiOoHsrcXU/5wZhqSRzOUA9Y9Vbin6hBo47eNOslEkd7vdpg2Ox2Koo0QyKFS+dcYcqbaLVt1eB4cMjDPFnJcx0AoCiiJPO8MLFM07ad9SYJHDuwjNBz/JWHiMC7KOuX1cX3il37ete86pZbCzcuoiwPkiSEKalPBFdVrVQCSSGrQalEXf7cU6MkjhF1uXnzjnr7nv6BmoroyE+KiHOJrO+bWCbwa3k2w35ZxINWwZ0Gsb1/LCwLatoxCOI4QhTVa48W5GwJs7Qo8kMB92m4jQJf5GyBW01Z0G24eB80iUgU4/0uhXCzg2mWhUHwF77O+5JQkHfGAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 42 33"\n        title=""\n        src="/static/2020-01-06-20-42-33-effbffab0358d148c9653232b6224ae4-ad786.png"\n        srcset="/static/2020-01-06-20-42-33-effbffab0358d148c9653232b6224ae4-aaeb0.png 200w,\n/static/2020-01-06-20-42-33-effbffab0358d148c9653232b6224ae4-4d187.png 400w,\n/static/2020-01-06-20-42-33-effbffab0358d148c9653232b6224ae4-ad786.png 457w"\n        sizes="(max-width: 457px) 100vw, 457px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="vertical-alignmiddle"><a href="#vertical-alignmiddle" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>vertical-align:middle;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="21288847656921940000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  float: left; /* 或display:inline;*/\n  vertical-align: middle;\n}`, `21288847656921940000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span> <span class="token comment">/* 或display:inline;*/</span>\n  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>设置无用的 vertical-align 属性也是常见的。对于 block/inline 水平的元素或是设置了浮动属性或是 absolute 绝对定位的元素，其都不支持 vertical-align 属性。所以这些属性与 vertical-align 同时出现时，vertical-align 属性不起任何作用是多余的。</p>\n<p>例如人人网右侧的垂直菜单 block 水平的 li 元素：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-44-52-9b102681587147fc02d7a374ade6c16c-a2b3c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 434px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 56.22119815668203%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACYElEQVQoz02SS1PTcBTF8838Dn4BRxfKY1g54+jSFSA6w0bdKALqAgRRwAojtGAfxNqUPtK0ebVJ/knz+OfVpElI8zLDyjNn7u7cc+c3FwnCSHICMAnEyY3khqJzAya+P4tHPEnRXWgqURTNZuHsVjf/yXVdRJuGW4SxQVib5ORTD27jcIMwRS9ZWXmw9vTO3slWEqWGYZimCSHM83Ec5+uSJHEcBwmTjGL657hAuZnDibKgjCw/TNLny0tPHt8tnH7LsiwvCYJg6nlJmqZZdjsy3/cQw7LZQX/IAll3Jh1chya0XMt2GJb5i2GCIEDDVKGh6qasGYZuuLal314yliREElgKKw2pvsAxarkEJF4SudyKDHRtrCqiLPGiDLReh9nb7x4etfa/6sWiwrMjjkUajavrVp3niVa9yBYPGbrRx6t4p8yQaB+vdFoX9atTgqj1Lo+xz5u9g53uwa54fiyQKEXWEUlkqR5Kj1qwXCAPthrNEk2gaPXnNXZGEujZrx9Yo0bg6GXp8KT4/Xp3c/jx7e8/Z+3mRal4hKiqWcO4cgswO8dYocoaThgH4WzKSwoz5ESRYwBDDgfdHiGMAc9RcuVCMWHgezkAZAydZ+8H8+v4w/X+o2WstH2ZqXIAJ64XGo6ZRAlUoWM4Bghmepq6WQbMNIxy2jl/JEniOIlD0w6AMgWaP9b1Nm3Xml6lmhQKwoReFddeCKuv5TevBu/WqA/b3ZdtWMnDU2+K5L8SRrEFlHGblmlpOuQ1HgosZAggN4kurM+pc4vKwoK8uCDPLymL90f3vmi7WZzZjv0PTw4yQn2frlUAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 44 52"\n        title=""\n        src="/static/2020-01-06-20-44-52-9b102681587147fc02d7a374ade6c16c-a2b3c.png"\n        srcset="/static/2020-01-06-20-44-52-9b102681587147fc02d7a374ade6c16c-6a6e0.png 200w,\n/static/2020-01-06-20-44-52-9b102681587147fc02d7a374ade6c16c-8250c.png 400w,\n/static/2020-01-06-20-44-52-9b102681587147fc02d7a374ade6c16c-a2b3c.png 434w"\n        sizes="(max-width: 434px) 100vw, 434px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>或是淘宝新版首页左上侧的垂直列表：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-45-11-e32e5f7125ae35dfa58187d4c2b9f51d-ab1e0.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 530px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.20754716981132%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACBUlEQVQozy3MSVPTUAAA4PxNf4HjFQdmcBgcPahw0YuiCDiDzjBUobaTtlBKbW1p6BKapAsvzfayvKRt1i5p6Bo5ePmOH3Z2DJOkmZada9FOwQGtW0GdG9c1VC6UI+8b+H4L/0LgP+qZTO5TlH/3Cx0kpIMY3IvKiRIWO5XihHYtO7W6UDAC1nQWbQUdEeS3vduTndLhC/JkN/39g5qoEh/x4ydbztpPazPqbJyrb2NY32jIHGnA1pAq2kbHRKCLuK7Oc/dVRWBEUJE6pKGAnsj2DB6wNcTSPa7V7bQ00MRYQDFUiaFu2NRZky7eEle1coasZu5qWbqeq9xeNqg8B4ibwiXfJMHdTaWQrhBpqp4lSmlMFBWJV3lOmqV+B1zTtnXXVB99eHD9Yb9vyKoqiRA2BDoH/+Sl7DV3eQ8bI89VFAmbzxbnf43dU/Ewyn2OgK8ptH9hROJsJg+LTW+xCqfz6dgd0yNqnX/+RtvZar1mBkwYhiN/hNn2hAEew7mCaAtA70BX0H2kWEYbIhLMNbTwnIHbW85WPa1r6vbUmg/gcjkNg0mAdfv+aDD3TD8cOKEmr/zgcQ1Xq//6/kJXV1fZKyv+FD3bMNY30cs1dnsbvUr1E5ismBC6ABhjQRy2Wc8bTSYT3/cn40f8h9l0GARIUto2jdv4hZlMmokLK4H34jW98g+n3MA8qYgZnAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 45 11"\n        title=""\n        src="/static/2020-01-06-20-45-11-e32e5f7125ae35dfa58187d4c2b9f51d-ab1e0.png"\n        srcset="/static/2020-01-06-20-45-11-e32e5f7125ae35dfa58187d4c2b9f51d-8e92d.png 200w,\n/static/2020-01-06-20-45-11-e32e5f7125ae35dfa58187d4c2b9f51d-d963f.png 400w,\n/static/2020-01-06-20-45-11-e32e5f7125ae35dfa58187d4c2b9f51d-ab1e0.png 530w"\n        sizes="(max-width: 530px) 100vw, 530px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="displayinline-floatleft-margin-left10px"><a href="#displayinline-floatleft-margin-left10px" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>display:inline; float:left; margin-left:10px;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="66063165066144240000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: inline;\n  float: left;\n  margin-left: 10px;\n}`, `66063165066144240000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>设置了绝对定位属性的元素相对特殊些，其不支持的 CSS 样式可就多了，首先对于 display 属性，完全没有必要，无论是 block/inline-block/inline 都是如此，除了显示隐藏外，没有任何组合使用的理由。还有其他很多属性都不支持，例如 clear，vertical-align 等。</p>\n<h3 id="zoom1"><a href="#zoom1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>zoom:1;</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="16474470086747494000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`div {\n  height: 20px; /* 或width:200px; */\n  zoom: 1;\n  overflow: hidden;\n}`, `16474470086747494000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token comment">/* 或width:200px; */</span>\n  <span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我们可能会使用 zoom 清除 IE6/7（对 IE8 无效）浏览器下浮动造成的影响。但是对于 IE6/7 而言，如果您已经设置了高度值或是宽度值，那么 zoom:1 完全就是多余的，在 IE6/7 下含有定值的 height 或是 width 与 zoom:1 起到了同样的一个作用，就是使元素 haslayout，可用来清除浮动产生的影响，所以，width/height 与 zoom:1 同时出现也是没有任何理由的。</p>\n<h3 id="其他-1"><a href="#%E5%85%B6%E4%BB%96-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="38848418888705830000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`a {\n  display: inline-block;\n  *display: inline;\n  *zoom: 1;\n}`, `38848418888705830000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">a</span> <span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>\n  *<span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>\n  *<span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这是设置元素的 inline-block 属性，但是对于 inline 行内元素来说，后面的两个样式就是多余的，因为 display:inline-block 可以让 inline 水平的元素表现的就如同真正的 inline-block 水平一样。</p>\n<p>所以，下图人人网样式代码中标注的代码就是多余的。如果是 div，则需要上面完整代码。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-06-20-50-33-2020f857c64987385b5f2349916c9bbd-f1382.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 533px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 46.90431519699812%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABVUlEQVQoz31RS46CQBT0Vi5cegSv4B3kDN7AM5gYD+DGnYkBJU78whiILT8RwVYa6AYLnBk2M1PprvR7oajX1Q3OeZIkz+cTnKYpNg+ClFIc0GRxzLPsZwnORYU8zxljDYgppb7vm6apaZpBiDWdHmX50zAc2w4pLf5AHMel+F1ArOs62HUclJgCzAm573aOqlrLpbtYZOczmrAFfzm/69PpBPF2u3U9z3Vd3CJm7KYox8lkPhzKo9HHeByoaipEjOswFkVR7bzer2fyTFkpG20zX86tsxXcbkEQPPAVUsCUj8fF98MwRPN6vXqeV4uZw+7m3dt7whciEsin+Bf12EmR9Em/p/ekoyQZ0sAdhH4o8jLVN34PrHTIC1rQjtZprVptu920m12nWwi0aw1eBEFgVLvCpUIjqSC4KDCBqFZeMv9GlmVwtizrcDiA8RyEEKSLf70AsPzzwBT2ubQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 06 20 50 33"\n        title=""\n        src="/static/2020-01-06-20-50-33-2020f857c64987385b5f2349916c9bbd-f1382.png"\n        srcset="/static/2020-01-06-20-50-33-2020f857c64987385b5f2349916c9bbd-7cec2.png 200w,\n/static/2020-01-06-20-50-33-2020f857c64987385b5f2349916c9bbd-dfa51.png 400w,\n/static/2020-01-06-20-50-33-2020f857c64987385b5f2349916c9bbd-f1382.png 533w"\n        sizes="(max-width: 533px) 100vw, 533px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>',
id:"/github/workspace/blog/去除冗余 – 精简您的CSS样式代码/index.md absPath of file >>> MarkdownRemark",timeToRead:6,frontmatter:{date:"2020-01-06 19:50:59",path:"/simplify-your-css-code/",tags:"前端, CSS, CSS知识点",title:"去除冗余 – 精简您的CSS样式代码",draft:null}},{excerpt:"解析差异 上面一行是 11.9 像素大小的文字，下面一行是 11.4 像素大小的文字，看看各个浏览器下都表现得怎么样： IE6 浏览器下（IE 下与此表现一致，避免重复，IE7 下图略） Firefox 浏览器下 chrome 浏览器下（Safari 同内核，同表现） 当文字大小 11.9 像素时，IE6 和 Firefox 等浏览器的表现是不一致的。IE6 下显示的是 11 像素大小的文字效果，而 Firefox 等 w3c 标准的浏览器则 1…",html:'<h1 id="解析差异"><a href="#%E8%A7%A3%E6%9E%90%E5%B7%AE%E5%BC%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>解析差异</h1>\n<p>上面一行是 11.9 像素大小的文字，下面一行是 11.4 像素大小的文字，看看各个浏览器下都表现得怎么样：</p>\n<p>IE6 浏览器下（IE 下与此表现一致，避免重复，IE7 下图略）</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-03-18-01-47-c126cbd5100998a1e60d57d89c2550e5-124ef.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 440px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 41.13636363636364%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQUlEQVQY02WQy27DIBRE/f9/kj/IJrvss6wVO7GhYAzGPMzD2Mmik1RqK3V0GV0egjNUj8cjpZxSKqWsL5Vt2+ExYmV7e4kh5G0rzycmuRQcjjHmnCsMxijnVGultTRmCsHBKe29nwnppJS3vhs+PvrzuTmdhrYllNZ1Pc9zte+FMd+2njEHbxrXdbZtHSH+enVKOWeNS9lfLvXhoI7H0LZLzt39Pk1TBewYi7XFudXaFe599n4NoRizIs0rCRKl9AgBhYT7vo/jaK2tsCelkHJwzjg3L4vNOXpvh4Gl5DlnwKOUqGmSWlPGpFKc89vtprWucKsQE+eTUrMQKKOUHUfDuRICjTLGIDYgcfqnIYQopYANhni/R87hCQ2lse8jY6lp4jzjX8NfLQsiZ/FWtSyB809AQnAhfh0F7P/6xsbLX6V1uSHwFLkgAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 03 18 01 47"\n        title=""\n        src="/static/2020-01-03-18-01-47-c126cbd5100998a1e60d57d89c2550e5-124ef.png"\n        srcset="/static/2020-01-03-18-01-47-c126cbd5100998a1e60d57d89c2550e5-add0a.png 200w,\n/static/2020-01-03-18-01-47-c126cbd5100998a1e60d57d89c2550e5-7a35e.png 400w,\n/static/2020-01-03-18-01-47-c126cbd5100998a1e60d57d89c2550e5-124ef.png 440w"\n        sizes="(max-width: 440px) 100vw, 440px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Firefox 浏览器下</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-03-18-02-17-4efc5d4d4914e4c543c66e8572355113-8c445.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 489px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 36.809815950920246%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABF0lEQVQY031Qy5KDIBD0/z8oVTnmC1KVU1RcULOgyFMQ0T1kWzfnnZqCoaemu4di3/cQwrIsOeeUUs7btgGJOa8A13WN6Ka0bls43/M8pzPQKowxdV0yRoUQnL+0VkCahggxtG3LOa/rmlWVEaJ8PNqmKasKuLVWSlmAou/nrguE+LZFuq5zjAVjnPfeORdSUtfr1+Uy3m7L/e5jhHjf98cw3DoXvQe0wFGMOYQEBMb+1pljjJS65zMSsggB6Gff4U5rXYBmHIVSo3PaewNea7WUAprDMIC+7zrt3DdqrV+cq2l6v98gPJTBTamh1Na1JQTbGsYMimnSJzvO4/7kCWFhrH0oY1gpIyU+wCr1yWmy/wRMjWf8AlHegzzKrGVjAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 03 18 02 17"\n        title=""\n        src="/static/2020-01-03-18-02-17-4efc5d4d4914e4c543c66e8572355113-8c445.png"\n        srcset="/static/2020-01-03-18-02-17-4efc5d4d4914e4c543c66e8572355113-a1b71.png 200w,\n/static/2020-01-03-18-02-17-4efc5d4d4914e4c543c66e8572355113-622b8.png 400w,\n/static/2020-01-03-18-02-17-4efc5d4d4914e4c543c66e8572355113-8c445.png 489w"\n        sizes="(max-width: 489px) 100vw, 489px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>chrome 浏览器下（Safari 同内核，同表现）</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-03-18-02-36-9543ceec3596d1db65ac81341b3057fd-f1150.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 505px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 35.049504950495056%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABD0lEQVQY03VQy47DIAzk/7+q6qVR1Xu1qqokBByeIYEAaSN1d7q97o4sCxh7PIbVWr130+RjXNY1bVtF4CXnPE1TjNFauywLDsaYEILTuua87/u6rgzE7dZ23UBkOVfjaInM/d5rrYUQRNS27QgQdX0/HA5fxyOdz8v1qqxlj8emVJYy933iPEkZhUhEGaOgnVL6ZCCXEpuGTifbNOZyUc6xUso8h5RiKSui1oJirIBqmJrBhQAh7/38e9m37fv1QhesMRBCSCIYxlLW+2kcNa7glFKwLaWEa845MhbB9o/nM8wzWIbvkTINQ+q6iBiGRQhkDP8bMAJHEIIogz1oGKPNG5inP/k/vO1Zi07n3A897II5HA4jCwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 03 18 02 36"\n        title=""\n        src="/static/2020-01-03-18-02-36-9543ceec3596d1db65ac81341b3057fd-f1150.png"\n        srcset="/static/2020-01-03-18-02-36-9543ceec3596d1db65ac81341b3057fd-3fb71.png 200w,\n/static/2020-01-03-18-02-36-9543ceec3596d1db65ac81341b3057fd-b8618.png 400w,\n/static/2020-01-03-18-02-36-9543ceec3596d1db65ac81341b3057fd-f1150.png 505w"\n        sizes="(max-width: 505px) 100vw, 505px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>当文字大小 11.9 像素时，IE6 和 Firefox 等浏览器的表现是不一致的。IE6 下显示的是 11 像素大小的文字效果，而 Firefox 等 w3c 标准的浏览器则 12 像素显示，这就是差异所在，也是本文的关键核心所在。但在 12.4 像素下，各个浏览器表现都是一致的。</p>\n<p>IE（IE8 未测）与其他浏览器对于小数像素的解析差异：IE 对小数像素采取取整的策略，类似于 Math.floor()方法，就算你大小为 11.999999 像素，最后还是显示 11 像素文字的大小（已测试）；而 Firefox 等一些浏览器则采取四舍五入的策略，类似于 Math.round()方法，11.4 像素就表现为 11 像素，11.5 像素就表现为 12 像素（已测试）。由于平时很少有人用小数值，所以这种差异很少有人注意，所以很少有人关注。然而这个不起眼的浏览器差异有时候却是解决一些兼容性问题的绝妙武器。</p>\n<p>IE8 浏览器下对于小数的解析与 Firefox，Chrome 等浏览器一致。</p>\n<h1 id="应用"><a href="#%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>应用</h1>\n<p>例如，淘宝首页 css 代码里面有这么一段 hack，见下图（图对应淘宝网首页上部搜索选项卡样式）：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-03-19-41-05-09fbc844f9f4662cef9a2122c99acc71-87f29.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 602px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 24.25249169435216%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABD0lEQVQY0xWP2U4CMQBF5/99IaIooqKsJezBQBATEuKDoNFh2uneTsvs8hPW5L7ce+7L8TDGhFLGmJQyRIgzpqQkbsSYUYog/GeUOsqF4NyFax0h5Aj0jNap1ecsydI4z+IiT8o8SWN7LrOT0UbL2EYnq61Rv3lyLtI4kolx1QghvB/MJzv/5cAW49dBazYZrkdgNewvx2A16C5AZzEAS/A4mk838z1ZfpDZO9x80chYpZR3CGhzte/vYOd+eH3RqF2269Veowburro3lafbardeA81K6/lh1N4eW+tDbxv03z5RGDoRL0SBJNAIIhm2ghoWKhwoAi0n9PhdWKUJjBhWDJeJ1e4j6Uk5ce77/h9Fqu95JHIsPwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 03 19 41 05"\n        title=""\n        src="/static/2020-01-03-19-41-05-09fbc844f9f4662cef9a2122c99acc71-87f29.png"\n        srcset="/static/2020-01-03-19-41-05-09fbc844f9f4662cef9a2122c99acc71-38577.png 200w,\n/static/2020-01-03-19-41-05-09fbc844f9f4662cef9a2122c99acc71-26124.png 400w,\n/static/2020-01-03-19-41-05-09fbc844f9f4662cef9a2122c99acc71-87f29.png 602w"\n        sizes="(max-width: 602px) 100vw, 602px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这段 hack 是个相差 1 像素的 hack，用“*”表示区分 IE 和其他浏览器。我们验证过 IE 和其他浏览器对小数值的解析是有差异的，准确说是小数点后大于 5 的小数值像素解析是有差异的，而这个差异正好可以解决这里的兼容性问题，于是这个 hack 就可以一脚踢掉了。直接改成下面的样式就可以了：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="8300583242217185000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`padding: 0 11.9px;`, `8300583242217185000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token property">padding</span><span class="token punctuation">:</span> 0 11.9px<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>不仅仅缩短的代码的长度，还节省了一个 css hack。首先加载文件小了，其次去掉一个 hack，资源消耗少了。不用小看这么一点小小的节省，这可是淘宝网的首页，每天的浏览量可是相当惊人的哦！</p>\n<p>附上 demo 实例页面验证结果图放大 800 倍的对比图，从 photoshop 上沿标尺可以读出 padding 值，您可以发现 IE6 下 11 像素，而 Firefox 浏览器下 12 像素。这与 hack 达到了同样的功效，但是代码却是没有 hack，更简短更简明，更神奇，您不妨也试试！</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2020-01-03-19-50-40-b600769a0f4c3472561a28c28efa8c0d-02705.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 309px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 121.68284789644012%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEQklEQVQ4y5WSyU8bVxzHHy5tj07FoT10VW+t1Euv/Qd6QWmiVqIVKFIIpCKFtEpThdie8ZpAjTEQMJsCuLZZQuNIDYrZw6rQAGaxAW+YAPZ4GW/YHnu8zOubcdokTQ7t00dfvXnzPvr9NL8B+NMlxsWS/wvgPEyCXxdj1/F/EP2L+mfnz11DMibCpEL5ANaox5sMYoRSjxJXDSLEqkFMNYSp72BKA67US/5+y15Q6sF1HO/5+dpKn9HcN6bpd4n1ZMMQid/2ym8fK7SEQkfcMnhU6g3Fb4RMR0q1ROMw2TQaujkYaDVGQD2OD1y96hg2HOl0M+M2kzlhmNifW/Quayfn2u/uji4vKXqD9ZLlcYth6smsOTE86f5j0Te9fqIbswEME8hkqt0/7a71VdLvOYkEXHZrLB3379uDxtGQefVk0hSx73mioeMDe4qKul17fu8hlYjYdrcAJhLIFK2be/5kKp7LwzSdzecZMpfPBcn4xOTKA1NkZjbvcJIQZrN5is5mcgydzaVo9MQAHBOIparZ+W0qeQIhZBgGZQJyKxqGkRAMBZlcjoKvWGzbUrl60+KhKFbOc7Kfzu4RETuZ2CMTtlDC5o9uhNKOKLS/SEFuWXnspJIRpKGmUY7bvUVVmrdqe/k/9PDZ7ChRb/G1kN/H8PvgqX7I72cTtS0US5sWVva3jiirD5qP8m4Sti0SoEJbXDUEKgdB5RA4N/A6bgUtEDTneGoGqBjQzKVAKGhuUjfo/W9+vfDRpaNP647eryE+rPWf+j70dk34g8vB92oDH9fHS2rC71T7SqqD7170ff6L75OfiM+uEEAkEt680SjQuL648vhL2cF5Tfy0MnwGf1J6yVJas362bvOry5bys8byHzcqWv2lv0bOqBPfKImKjsS3LSFuzvKmu1Ok3U1Ytzdjsbhr3+W0bMd2LPbJifj6Grny6LjxRnxtdcfhdLucZDCwsbkVjkScTheShUgeGQ86DnyxaJiiKDqVimYy4Wwu+XDOYjQezs6ml5eDTD6ZptOpdDKRzGQy6FoqRbGyVKbs0O+sW5x0mhsnw6QhpNFmacl2Z/TQZILz8+hFhpvii3MWCeRy1b2Z6IE3nE4lC6cpCNPs3LIwk4E0jTas/KqfhK2svXdocxPPyxTDrhwDEZCBCdQOg3pCf9EzuMoKVe+Iw2xxZtKpgpx5qQ5qJPtyZZFIoFA0j44H0ddGX6Nwag3ETndNfdczXVage6qs/2HZFF02DcumGS5Z2LYlMmXniHPb5aHpVJ6TZ10+UN722rl2UKDiVtHFHtCWBB0QtDOgHT5FhAkbxA2/66y2NUvW68lnc0iedwfAhc7i6m4eR9GFrjfq+os7qaJuyOtmeGyygGuY6L5YcjC96JhfIBcW8hYLK6PK5zW8qi5QoLKzuLaPp6FAFwRdDJccSJ4Qi/fvP9gaG/OYTDmz+b/LfwHrKf9ZPDEM9AAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2020 01 03 19 50 40"\n        title=""\n        src="/static/2020-01-03-19-50-40-b600769a0f4c3472561a28c28efa8c0d-02705.png"\n        srcset="/static/2020-01-03-19-50-40-b600769a0f4c3472561a28c28efa8c0d-c6440.png 200w,\n/static/2020-01-03-19-50-40-b600769a0f4c3472561a28c28efa8c0d-02705.png 309w"\n        sizes="(max-width: 309px) 100vw, 309px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h1>\n<p>虽说这个小数值解决一些兼容性问题很神奇，但是它的缺点也很明显，就是适用范围问题，只能解决相差 1 像素的浏览器差异，只能解决 IE 下值小 1 像素的浏览器差异。</p>',id:"/github/workspace/blog/浏览器样式小数的处理/index.md absPath of file >>> MarkdownRemark",timeToRead:1,frontmatter:{date:"2020-01-03 17:59:21",path:"/browser-style-decimal/",tags:"前端, CSS, CSS知识点",title:"浏览器样式小数的处理",draft:null}},{excerpt:"背景色 一般情况下，我们 css 控制的最高节点就是 body，例如设置： body 作为一个根节点起作用了， 标签未被激活，body 担当类似于根节点的节点，其 background 背景色被浏览器俘获，浏览器界面背景色为 background 的背景色 按照对一般标签的理解，100 像素的外边距应该不含有背景色的，然而显示的结果是（Firefox 下表现与此类似）： 一旦设置了 节点的 background…",html:'<h1 id="背景色"><a href="#%E8%83%8C%E6%99%AF%E8%89%B2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>背景色</h1>\n<p>一般情况下，我们 css 控制的最高节点就是 body，例如设置：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37682303002865120000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #069;\n}`, `37682303002865120000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>body 作为一个根节点起作用了，<code class="language-text">&lt;html&gt;</code>标签未被激活，body 担当类似于根节点的节点，其 background 背景色被浏览器俘获，浏览器界面背景色为 background 的背景色</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="72156578190787760000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #069;\n  margin: 100px;\n  border: 30px solid #093;\n}`, `72156578190787760000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 30px solid #093<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>按照对一般标签的理解，100 像素的外边距应该不含有背景色的，然而显示的结果是（Firefox 下表现与此类似）：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQ0lEQVQoz63RTUvCABwG8MfGom/UJ6hGde3lkAs136BAL0EWddgiUzBFbC82rZCCTSIzaxsly4OzvPYJIiMrxY+QGXYpRCH4HZ4/PM/pj8xNLaW9HOvPabXG5Z8krX5iNJN6Q9Baot4StWZH44v6IarvgvrGX71Ker1gPELSjeDZHaMYrHLLyjqbLYZzpUzJlM2qUqkq5oNi3itmpctsk8vlWOE8Xy4BtgRoDov7HZ1AJ7rnb+0CR9gEzEQnQjkMOyWsBizBWQtDW1jrN/TA0MTuPFwMFVFBupLwbWNjGWt+BHx98BObK7AHqcg1SA+HpQM40nCk+kQ4D7GQoKKXIN08XDzcXP8ILw9r/GcsDITwiP8xHvHwQ26RGATpTYKOT0YLgL3HV/9G2DnMxajwBcZ2Tqci2f5N72XHQ/Lo1tG6UvwEIqUpkhXxRK8AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 12 31 11 12 34"\n        title=""\n        src="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png"\n        srcset="/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-6ac48.png 200w,\n/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-4b8bf.png 400w,\n/static/2019-12-31-11-12-34-08fb218744ec38c807eef68100770926-28759.png 500w"\n        sizes="(max-width: 500px) 100vw, 500px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>一旦设置了<code class="language-text">&lt;html&gt;</code>节点的 background 背景色之后，<code class="language-text">&lt;body&gt;</code>的背景色将失效。例如下面的简短代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="36578739221186064000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: #999;\n}\n\nbody {\n  background: #069;\n  margin: 100px;\n  border: 30px solid #093;\n}`, `36578739221186064000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #069<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 30px solid #093<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-12-31-11-13-45-c89a48d0835d11f9ca4d015e7bcef1aa-28759.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABP0lEQVQoz63LvU7CUACG4XMdLsq9OKg3oBPcACayapyIiYPQn9Pz0xaQAUQTjLTlnApYQCARxcSBBMHgZMSAinoHtjKamJL45Rne5QN6aYTZi2o/YzYSCk+QjRPOVOJTgX9J9qfEP9yW+LvEXG8iexXZRLDG0J6c1XrgrnN5UW8UnbpdqfJyhTs1p9HsddvD/u3jwNX5cTMz7LuuH+7b7Stj0G0CGSIICVIwQhgjLxTFLbd/IzMEqwcxsWAYIE2TYW1nQVwPxENLQtATDy7+IRYKwI1dJVph5yBJ9W11bxmGV+XIirzlQ2QNb0bhfolxQChJqYmsdpjVUz4d6WkEEWMWoJQSlSKV+Ic1KkPIWNE7q3NO0zT4P2dtzum6DqHCeREgb3guhBBRlCzLBLnjnGnkDd9M8zSfP8lk0q1W9RsBW7SVi5p8aQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 12 31 11 13 45"\n        title=""\n        src="/static/2019-12-31-11-13-45-c89a48d0835d11f9ca4d015e7bcef1aa-28759.png"\n        srcset="/static/2019-12-31-11-13-45-c89a48d0835d11f9ca4d015e7bcef1aa-6ac48.png 200w,\n/static/2019-12-31-11-13-45-c89a48d0835d11f9ca4d015e7bcef1aa-4b8bf.png 400w,\n/static/2019-12-31-11-13-45-c89a48d0835d11f9ca4d015e7bcef1aa-28759.png 500w"\n        sizes="(max-width: 500px) 100vw, 500px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>此时的<code class="language-text">&lt;html&gt;</code>标签最顶级，背景色被浏览器获取，成为浏览器的背景色。</p>\n<h1 id="margin-支持"><a href="#margin-%E6%94%AF%E6%8C%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>margin 支持</h1>\n<p>IE6 浏览器下 html 对 margin 不敏感不支持，Firefox 浏览器下 html 标签支持 margin 外边距</p>\n<h1 id="滚动条"><a href="#%E6%BB%9A%E5%8A%A8%E6%9D%A1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>滚动条</h1>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="84512374503960100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  overflow-y: scroll;\n}`, `84512374503960100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">overflow-y</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>可以让 IE 和 Firefox（包括 chrome）浏览器默认产生滚动条的滚动槽了。</p>\n<h1 id="background-的-fixed-固定定位"><a href="#background-%E7%9A%84-fixed-%E5%9B%BA%E5%AE%9A%E5%AE%9A%E4%BD%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>background 的 fixed 固定定位</h1>\n<p>Firefox 是支持 background:fixed 定位的，IE6 只能说是半支持，就是背景图片固定的效果似乎只在根结点起作用。举个很简单的例子：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="6961906718017596000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `6961906718017596000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="88084335093057240000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<body>\n  <div></div>\n</body>`, `88084335093057240000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>其结果是无论 IE6 还是火狐浏览器下，背景图片都是固定的死死的，不错。但是，一旦<code class="language-text">&lt;html&gt;</code>标签带着 background 属性掺和进来，事情就要发生转变了。问题代码：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63045063837546620000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: white;\n}\n\nbody {\n  background: url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `63045063837546620000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>结果 IE6 下，背景不固定了，只看到背景图片随着滚动条上下移动而移动，IE11 下背景图片随着滚动条上下而抖动。</p>\n<p>要解决这个问题呢，也是有办法的，就是将 fixed 属性值转移到 html 标签上就可以了。即：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="73660653791852446000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`html {\n  background: white url(../image/404.png) no-repeat fixed center center;\n}\n\ndiv {\n  height: 2000px;\n}`, `73660653791852446000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> white <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../image/404.png<span class="token punctuation">)</span></span> no-repeat fixed center center<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 2000px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="height100"><a href="#height100" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>height:100%</h1>\n<p>要想高度百分比起作用，一般来说，要满足两个条件：其一，父标签有高度可寻，就是向上遍历父标签要找到一个定值高度（body，html 另外讨论），如果中途有个 height 为 auto 或是没有设置 height 属性，则高度百分比不起作用；其二，标签本身的属性，如果 inline 属性的标签，如果没有浮动，zoom，或是绝对定位之类属性是不支持百分比高度的，block 或 inline-block 属性可以说是高度百分比起作用的前提条件之一吧。</p>\n<p>而这里要讲的是关于 body 和 html 的高度百分比显示的。</p>\n<p>默认状态下，<code class="language-text">&lt;body&gt;</code>不是高度 100%显示的，不要看<code class="language-text">&lt;body&gt;</code>定义 background 属性好像<code class="language-text">&lt;body&gt;</code>就是满屏显示的，正如上面所推断的，此背景已非<code class="language-text">&lt;body&gt;</code>之背景。用下面这个一测便知。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="17797399555809190000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  background: #039;\n  border: 50px solid #c00;\n}`, `17797399555809190000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">background</span><span class="token punctuation">:</span> #039<span class="token punctuation">;</span>\n  <span class="token property">border</span><span class="token punctuation">:</span> 50px solid #c00<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>看边框范围是否高度 100%显示，答案是否定的。见下图（截自 IE6，Firefox 浏览器下表现一致）：</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-12-31-11-53-12-8fff67e2bd72f6aafe75420c25272459-28759.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 500px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMklEQVQoz2NYcPD1zIPv5x1+N/PAu0m7Xs848HHBiW9TDnyduP/75APfJx34Nmn/FzD6PGnfp0n7Pk7a92HCnvdTD3zcePAGw4Zlm3csWrtt4Zqt81Zsmr1k56LVe5auO7xq87F1205s2A5C67eC0RYY2nxs/eb1c+Yc2LGLYR6n7AIG0SlMstOBiFl2GqPMNEbpaUAGE1YkN51Jbgqr8hwGth1eEQxNElb9/HodQqadQsZw1CFo3CGEhARRkah5B5Py4rACBhbz2QxGsxiMSUDMZrMZ1Kd65G5jYDObwWA0k8GYBMRsNotBfbJHzhYG1qGpmcNiBpPJLGZTEhCrxWwGzcleuVsZGPSmMmhMY9AkATHrTmeQm+iRuonBNW25d85q4pFP7hq3jJXmUQuqJ+0FAHsGBfFxRCErAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 12 31 11 53 12"\n        title=""\n        src="/static/2019-12-31-11-53-12-8fff67e2bd72f6aafe75420c25272459-28759.png"\n        srcset="/static/2019-12-31-11-53-12-8fff67e2bd72f6aafe75420c25272459-6ac48.png 200w,\n/static/2019-12-31-11-53-12-8fff67e2bd72f6aafe75420c25272459-4b8bf.png 400w,\n/static/2019-12-31-11-53-12-8fff67e2bd72f6aafe75420c25272459-28759.png 500w"\n        sizes="(max-width: 500px) 100vw, 500px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>要想让 Firefox 浏览器也支持<code class="language-text">&lt;body&gt;</code>的 height:100%是简单的，就是设置<code class="language-text">&lt;html&gt;</code>标签 height:100%，一旦设置了 height:100%则无论哪个浏览器下<code class="language-text">&lt;body&gt;</code>都支持 height:100%了，而<code class="language-text">&lt;body&gt;</code>内部的容器也可以支持 height:100%了。</p>\n<p>透明层无论滚动与否都满屏显示，其实就是对<code class="language-text">&lt;html&gt;</code>和<code class="language-text">&lt;body&gt;</code>标签做一番手脚，两者高度 100%显示，同时溢出隐藏（overflow:hidden），然后用一个<code class="language-text">&lt;div&gt;</code>高度 100%显示，溢出滚动。而这个透明层就使用绝对定位且与这个<code class="language-text">&lt;div&gt;</code>平级，高宽 100%显示，就可以使得无论怎么滚动这个透明覆盖层都是满屏显示的。这其实也就解决 IE6 下浮动层固定定位的经典方法。</p>\n<h1 id="body-overflow"><a href="#body-overflow" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>body overflow</h1>\n<p>单纯如下 body overflow 是无法隐藏高度不足一屏的元素的，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="72161885711135285000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body {\n  height: 30px;\n  overflow: hidden;\n}\nbody > div {\n  height: 300px;\n  background-color: #cd0000;\n}`, `72161885711135285000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>\n  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">body > div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #cd0000<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>此时 body 的子元素 div 依然保持 300px 高度的显示，如果想要隐藏，需要设置 html 的 overflow:hidden。</p>\n<p>并不是说 body overflow 无效，而是 body 天然的 overflow 计算容器是一屏高度，因此，如果 div 高度很高，例如 3000px：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="83350064990857820000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`body > div {\n  height: 3000px;\n  background-color: #cd0000;\n}`, `83350064990857820000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                css 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">body > div</span> <span class="token punctuation">{</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 3000px<span class="token punctuation">;</span>\n  <span class="token property">background-color</span><span class="token punctuation">:</span> #cd0000<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>大家可以看到 body 的子元素 div 也就显示了屏幕的高度。</p>',
id:"/github/workspace/blog/html与body的一些特性/index.md absPath of file >>> MarkdownRemark",timeToRead:3,frontmatter:{date:"2019-12-31 11:07:41",path:"/html-body-some-feature/",tags:"前端, CSS, CSS知识点",title:"html与body的一些特性",draft:null}}],length:25,tag:"CSS",pagesSum:5,page:2}}}});