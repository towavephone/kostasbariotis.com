webpackJsonp([0xfe55d65d0c96],{1102:function(n,a){n.exports={data:{file:{childImageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAHlUlEQVRIx11WaWxU1xWewbQlrdofkSIhGiBpMPZ4Vs/2lpm3zupZPOOZ8Sz2YGzANkaAKaYQUrMkLYgiIlxCQjCYQAwYEoMQNJAIFBxaQgUhoCopYceBJo1pKFVDCbOc0/fesOZKV+fM1Tvf/c56R0VYOZW8lvAxtSybvbExAu1+mndGuaDQ2F4rNHVFhCZJZlMeZ1Qrf9Mt+H+qur/ihFORAFA64J0pVTcXVcDmcKFfruIzZ7rY1H89fAZivjbM1MzFxkAnZqWd9M7KJcTmv7zCN44sY+tflm12C79WLxLCqidWN9cwWpYvsfXL13vasZudgm4mgX4hW6h1teRjnrZCwjOzWO/twIR/FjZ7WnEZ35JvcUSeU4gwSXV7W1sJzEH6R8nSRArlXjr6r7S1DqNUvMAzCXCzSfDxDRAUmyDkaoawtEPi1LxHyGLMkby5gEqUy7atjnq1roosAXqE6Yq7DBXa7RLS6HRG8y4hhbwzDiJbj4IkXUwS5e1h07IOorMePUL6ruiKGmRblg2PesJlq9nxrJMMfydIbhIWP9jMPrBLkrIHgXfG0CdmgKMjwFARFKVvHEQo5xUyKDDRN2T7aE17mV5rfZQYm1lM0EQYWUe0aNTxoKl0Qnk5jVqNA/VaFu3SBS7SB7Ju0ougr2KKWg2DBi17mbCaxyghMzgeMTTp2W7CGkTKHshZqn0Q5Osg6opBhAmAzcADY/NheyQJBi2D8mXVehYMOgEsJg9aTIxSN2YTO+ohQ62G6rGZa5AmAjmj0YvzG5vhVP8f4fTO12FtVxfMjTfC6zPbwOsIQNybhK6GlmLCm5DA6cu2aoeSaaOeVheLxRKgpoJcZ5UAly94MeeiQ+jnQtBCcTBTZ8Ght9fDfy58DDdOHIRj2zdA/4uzYWBpZ6Fr6jR8/lfWP8n2usqA2mQgH7msr3Ks0WgEfGvN6lz/q6tgXqgZjgpZOGSLwsldA4CFG4j3rmP/osU47xkdrm5pLfjdETm+p64cf0fJME34HiVFV+VYajF50UGGc/Nnz4XDfW/ArQ09+M++XsCblwD+fQEL356HswuWwdedS+Dg2p5ilZQwa7VrpCHZ9nOl7Ojg44B0hxxg0hbMjx2rh2iwDk4feReKI58hfn8V8c5lwNyXiF+dRbz4Z1jY1g4TJ1rQbnHfc/ORihJDr5q0kw8AyVqDjpeSEpJLAyaMN6HRwMDuTa/B1fcPwcfbBuHc8SPw+cnDsGvzeim7HOg0DpAYoouPBWUMJxUo65y18X4MtbYJOo3zjgQoxwWen1iNDdPmwPu9+2BvfCXsXbQRehf9Hly0B8aN04OuioGqCipvt/hQ5GLzS4Dh0Tdv3+/nvm0qVVUlfUouboOWK8jxmaznMBXIwpbfroWN63th384tcHTfDpj0gg21lQxoK+m8TQGMb5UxAt6OUYSVkUuGK5MPKiuIHicZwWqDmNNqpE6pIFBjpGDxsqXwuxUroWtBN5w4NgSbNvcDIRW61CUFu9UrtV/si7Fjf/ajUmICSvxKgJMtdQxVK2XOU9RpGNBL3VBeQWIqPR3SjR3QOW8xrFmxCnrWbYJMaobEkr1HE/4zIpv4nrK7NIrbpF+tspoYZdpMLte+wNPRu6S1Bs1GqV/1DOqMPFjIMFbq3dg6cyFkGmagqZqHaoOAHF2XZ6ngWg+XBM4RVoLHOWrLVG4uWpo4FvsvfHz6NktFkbT6QafnQGsUoFLHYm1dFj44cgwYPgQVkymkbP6RWl+LNIRjL/uFhltuNjEoYySCXaNUojOsMPSw4aqwa+o9ga5DggiC1RFDmyMG1bYQVlTSIIhRMJq9RaPZJ4VF+DQZ6MCAmOkLurJ/DYiNt/R67VMKs4hrqjL+o+6mjrj0hjBEOG+1h8FOxcFO1oHVFgazPYQGqdfNthBYpUqwEME78nsT4tP7o96WwWSwA1nKb35iyCZ8M85EXE3oYBO3ab4RKWcSKCaFJJMCQprSpPQcUFwKzWQUKo1+lC9x0r7Fcc+0OVOj8zEkNrY8BAuLDV11ruZvDXrhuJ3NIu+bAYK/FXjfdOA8zegUp6DdmQKNMQD+8HTseW1LYeijE/jB4Q+/Wry8a5L01B6MeaetUcDSjfVjjOVM7da+bTMPvHfkbmrKb5DksjkLncmZqXTe6siAnWmAmkhbYUPvQP7cufO5L69fxyvD/8Ctb+/aI2PU8AmvRGqZAoiIityzb8/T165d3X3t2vD/Pjr+KW7b+R6u2/AOrli9CQfePYQXLg3jpSvDeOLkWTxw6Oh3uwYPrJTMlNHlFcLPeNk6/UOXZ7cuGP1A397fP/7v584vvzJ8o+dvn33+Zm/v9q9X/2EDbN+19+ybm3ds33/ww5f63uovf/D9woVL1A90P5dQqYaGhpQfg4N71BJbteoHqyk7Z+e8zlfuSupPHj+/eO2bso5ZcxQ9Fsiqgny6ZOv3+VTfjIwo+iefnFYN7BxQf3FxuEwGH1c+fgxBuIZnTFuIIh9U2qt3844fb9y0Vf0gXPKm7bzKzYZ+wGTKFFWNz1/6v8OLUiuaFKMJz00yEvaa/RQZnK086s6MutpEqRLx+kcT+rH1f+YikeeNfqnwAAAAAElFTkSuQmCC",aspectRatio:.6666666666666666,src:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png",srcSet:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-8a97b.png 200w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-0fdf3.png 400w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-25c91.png 600w",srcWebp:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-216f6.webp",srcSetWebp:"/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-5d70e.webp 200w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-d1677.webp 400w,\n/static/avatar-a4ccbab8e7381acb89452773ce94d5a0-216f6.webp 600w",sizes:"(max-width: 600px) 100vw, 600px"}}},site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}},mainPost:{html:'<p>根据其目的（模式是用来做什么的）可分为创建型(Creational)，结构型(Structural)和行为型(Behavioral)三种：</p>\n<ul>\n<li>创建型模式主要用于创建对象。</li>\n<li>结构型模式主要用于处理类或对象的组合。</li>\n<li>行为型模式主要用于描述对类或对象怎样交互和怎样分配职责。</li>\n</ul>\n<h1 id="创建型模式"><a href="#%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建型模式</h1>\n<h2 id="单例模式singleton"><a href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8Fsingleton" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>单例模式(Singleton)</h2>\n<p>保证一个类仅有一个实例，并提供一个访问它的全局访问点。</p>\n<h3 id="模式动机"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<p>对于系统中的某些类来说，有且只能有一个实例。例如：一个系统只能有一个窗口管理器。系统中可以有许多打印机，但是只能有一个打印机正在工作。</p>\n<h3 id="模式定义"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>单例模式确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例，这个类称为单例类，它提供全局访问的方法。</p>\n<p>单例模式的要点有三个：</p>\n<ol>\n<li>一是某个类只能有一个实例；</li>\n<li>是它必须自行创建这个实例；</li>\n<li>是它必须自行向整个系统提供这个实例，单例模式是一种对象创建型模式。</li>\n</ol>\n<h3 id="模式结构"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180414223904-504e7e89eac68e789b6678961d27403f-fee1c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.25000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABnWAAAZ1gEY0crtAAABSUlEQVQoz62SyY7CMBBE+f/v4oYggFgFJOwgOITsLBE18xp1DiOOY6nktl3urmq7VRSlptOpjsej9vu94XA4aLfbaTwea7FYaD6fa7lcarVaKQzDhufgLrzn86lWluW6XC76NkjQ6XTUbre12Ww0Go00mUy+cs/ns8qyVCvPc/V6PW23W7sEPEZlFEWm0OP1et1w2AM4otj9fidhYUrYhMgl7GGjqiqrypozWnC9Xo2P1bqu9Xq9TCGJ4ZvCfj9oKjOT1FXQM8h+Rsw+8B6eTicr9lFYFPYo2KLycDg0Ak0mGaCyg0s0//F4WMweKhFhCovfhFEUKkkSpWnaNDeOY91uN3HO7ANHrLMsMz5rCjSPwrfpdrsaDAamipmXRGkQBKYe+FeCAx9g0zGbzT6WkVtVpS2o4DbcnscoQe1fjoP99/tNwlr/OX4AaWTtP6VRr60AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180414223904"\n        title=""\n        src="/static/微信截图_20180414223904-504e7e89eac68e789b6678961d27403f-fee1c.png"\n        srcset="/static/微信截图_20180414223904-504e7e89eac68e789b6678961d27403f-a67b7.png 200w,\n/static/微信截图_20180414223904-504e7e89eac68e789b6678961d27403f-0b187.png 400w,\n/static/微信截图_20180414223904-504e7e89eac68e789b6678961d27403f-fee1c.png 800w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5354298034552806000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Singleton\n{\n    //4：定义一个变量来存储创建好的类实例\n    //5：因为这个变量要在静态方法中使用，所以需要加上static修饰\n    private static Singleton instance = null;\n    //1：私有化构造方法，便于在内部控制创建实例的数目\n    private Singleton()\n    {   \n    }\n    //2：定义一个方法来为客户端提供类实例\n    //3：这个方法需要定义成类方法，也就是要加static\n    public static Singleton GetInstance(){\n        //6：判断存储实例的变量是否有值\n        if(instance == null){\n          //6.1：如果没有，就创建一个类实例，并把值赋给存储类实例的变量\n          instance = new Singleton();\n        }\n        //6.2：如果有值，那就直接使用\n        return instance;\n    }\n}`, `5354298034552806000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span>\n<span class="token punctuation">{</span>\n    <span class="token comment">//4：定义一个变量来存储创建好的类实例</span>\n    <span class="token comment">//5：因为这个变量要在静态方法中使用，所以需要加上static修饰</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton instance <span class="token operator">=</span> null<span class="token punctuation">;</span>\n    <span class="token comment">//1：私有化构造方法，便于在内部控制创建实例的数目</span>\n    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>   \n    <span class="token punctuation">}</span>\n    <span class="token comment">//2：定义一个方法来为客户端提供类实例</span>\n    <span class="token comment">//3：这个方法需要定义成类方法，也就是要加static</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n        <span class="token comment">//6：判断存储实例的变量是否有值</span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span>instance <span class="token operator">==</span> null<span class="token punctuation">)</span><span class="token punctuation">{</span>\n          <span class="token comment">//6.1：如果没有，就创建一个类实例，并把值赋给存储类实例的变量</span>\n          instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token comment">//6.2：如果有值，那就直接使用</span>\n        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="优缺点"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>提供了对唯一实例的受控访问。</li>\n<li>由于系统中只存在一个对象，因此可以节约系统资源，对于一些需要频繁创建和销毁的对象，单例模式无疑可以提高系统的性能。</li>\n<li>允许可变数目的实例。可以对单例模式进行扩展，设计指定个数的实例对象，即节省系统资源，又解决了由于单例对象共享过多有损性能的问题</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>由于单例模式中没有抽象层，因此单例类的扩展有很大困难。</li>\n<li>单例类的职责过重，在一定程度上违背了单一职责原则。因为单例模式既提供业务方法，又提供了创建对象的方法，将对象功能和创建耦合在一起。</li>\n<li>很多面向对象语言的 GC 垃圾回收技术，实例化的对象长期不使用，系统会认为是垃圾，自动销毁并回收资源，这将导致共享的单例对象状态的丢失。</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>系统只需要一个实例对象。例如，系统要求提供一个唯一的系列号生成器或资源管理器，或资源消耗太大而只允许创建一个对象。</li>\n<li>客户调用类的单个实例只允许使用一个公共访问点。</li>\n</ul>\n<p><strong>例子一</strong></p>\n<p>问： 我的一个系统需要一些“全局”变量。学习了单例模式后，我发现可以使用一个单例类盛放所有的“全局”变量。请问这样做对吗？</p>\n<p>答：这样做是违背单例模式的用意的。单例模式只应当在有真正的“单一实例”的需求时才可使用。</p>\n<blockquote>\n<p>设计得当的系统不应当有所谓的“全局”变量，这些变量一个应当放到它们所描述的实体所对应的类中去。将这些变量从它们所描述的实体类中抽出来，放到一个不相干的单例类中去，会使得这些变量产生错误的依赖关系和耦合关系。</p>\n</blockquote>\n<p><strong>例子二</strong></p>\n<p>问：我的一个系统需要管理与数据库的连接。学习了单例模式后，我发现可以使用一个单例类包装一个 Connection 对象，并在 finalize() 方法中关闭这个 Connection 对象。这样的话，在这个单例类的实例没有被人引用时，这个 finalize()对象就会被调用，因此，Connection 对象就会被释放。这多妙啊。</p>\n<p>答：这样做是不恰当的。除非有单一实例的需求，不然不要使用单例模式。在这里 Connection 对象可以同时有几个实例共存，不需要是单一实例。</p>\n<blockquote>\n<p>单例模式有很多的错误使用案例都与此例子相似，它们都是试图使用单例模式管理共享资源的生命周期，这是不恰当的。</p>\n</blockquote>\n<h3 id="模式应用"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<ul>\n<li>数据库主键编号分配</li>\n</ul>\n<h3 id="单例模式扩展"><a href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>单例模式扩展</h3>\n<ul>\n<li>高并发、线程不安全</li>\n<li>懒汉式单例</li>\n<li>饿汉式单例</li>\n<li>单例模式—管理多个对象</li>\n</ul>\n<p><strong>懒汉式单例</strong></p>\n<ul>\n<li>单例模式在整个应用程序的生命周期中只存在一个实例</li>\n<li>懒汉式单例就是这个单例类的这个唯一实例 new 是在第一次使用 GetInstance()时实例化的</li>\n<li>如果不调用 GetInstance() 的话，这个实例是不会存在的，即为 null</li>\n<li>形象点说呢，就是你不去动它的话，它自己是不会实例化的，所以可以称之为懒汉。</li>\n<li>前面在介绍单例模式的这几个 Demo 中都是使用的懒汉式单例</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="65394272616455560000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Singleton\n{\n    private static Singleton singleton;\n    //定义一个只读静态对象\n    //且这个对象是在程序运行时创建的\n    private static readonly object syncObject = new object();\n    private Singleton()\n    {}\n    public static Singleton GetInstance()\n    {\n        //第一重 singleton == null，为了性能，解释如下\n        if (singleton == null)\n        {\n            // 单线程\n            lock (syncObject)\n            {\n                //第二重 singleton == null，为了单一实例\n                if (singleton == null)\n                {\n                    singleton = new Singleton();\n                }\n            }\n        }\n        return singleton;\n    }\n}`, `65394272616455560000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> Singleton singleton<span class="token punctuation">;</span>\n    <span class="token comment">//定义一个只读静态对象</span>\n    <span class="token comment">//且这个对象是在程序运行时创建的</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> readonly object syncObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span><span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token comment">//第一重 singleton == null，为了性能，解释如下</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> null<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token comment">// 单线程</span>\n            lock <span class="token punctuation">(</span>syncObject<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                <span class="token comment">//第二重 singleton == null，为了单一实例</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span>singleton <span class="token operator">==</span> null<span class="token punctuation">)</span>\n                <span class="token punctuation">{</span>\n                    singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>如果没有第一重 singleton == null 的话，每一次有线程调用 GetInstance（）时，均会执行锁定操作来实现线程同步，这是非常耗费性能的。而如果加上第一重 singleton == null 的话，那么就只有在第一次，也就是 singleton ==null 成立时的情况下执行一次锁定以实现线程同步，而以后的话，便只要直接返回 Singleton 实例就 OK 了而根本无需再进入 lock 语句块了，这样就可以解决由线程同步带来的性能问题了。</p>\n</blockquote>\n<p><strong>饿汉式单例</strong></p>\n<ul>\n<li>饿汉式单例的话，则刚好相反，</li>\n<li>其由于肚子饿了，所以到处找东西吃，人也变得主动了很多，所以根本就不需要别人来催他实例化单例类的为一实例，</li>\n<li>其自己就会主动实例化单例类的这个唯一类。</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="61722135955503930000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`//\npublic class Singleton\n{\n    private static readonly Singleton singleton = new Singleton();\n\n    private Singleton()\n    {\n    }\n\n    public static Singleton GetInstance()\n    {\n        return singleton;\n    }\n}`, `61722135955503930000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token comment">//</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> readonly Singleton singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> singleton<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>C# 与 CLR 会自动解决前面提到的懒汉式单例类时出现的多线程同步问题</li>\n<li>上面的饿汉式单例类中可以看到，当整个类被加载的时候，就会自行初始化 singleton 这个静态只读变量。</li>\n<li>而非在第一次调用 GetInstance（）时再来实例化单例类的唯一实例，所以这就是一种饿汉式的单例类。</li>\n<li>在 C# 中，可以用特殊的方式实现饿汉式单例，即使用静态初始化来完成饿汉式单例模式。</li>\n</ul>\n<p><strong>单例模式—管理多个对象</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="35281617831480005000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Singleton\n{\n    private static int maxTeacherNum = 5;\n    private static IList<Singleton> Singletons;\n    private Singleton()\n    {  }\n    public static Singleton GetInstance()\n    {\n        if (Singletons == null)\n        {\n            Singletons = new List<Singleton>();\n            for (int i = 0; i < maxTeacherNum; i++)\n            {\n                Singletons.Add(new Singleton());\n            }\n        }\n        Random random = new Random();\n        int k = random.Next(0, maxTeacherNum);\n        Console.WriteLine(&quot;ID=&quot;+ k);\n        return Singletons[k];\n    }\n}\nstatic void Main(string[] args)\n{\n    Singleton singletonOne = Singleton.GetInstance();\n\n    for (int i = 0; i < 2; i++)\n    {\n        Singleton singletonTwo = Singleton.GetInstance();\n        if (singletonOne.Equals(singletonTwo))\n        {\n            Console.WriteLine(&quot;singletonOne 和 singletonTwo 代表的是同一个实例&quot;);\n        }\n        else\n        {\n            Console.WriteLine(&quot;singletonOne 和 singletonTwo 代表的是不同实例&quot;);\n        }\n    }\n    Console.ReadKey();\n}`, `35281617831480005000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Singleton</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> maxTeacherNum <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> IList<span class="token operator">&lt;</span>Singleton<span class="token operator">></span> Singletons<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>  <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Singleton <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>Singletons <span class="token operator">==</span> null<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            Singletons <span class="token operator">=</span> <span class="token keyword">new</span> List<span class="token operator">&lt;</span>Singleton<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxTeacherNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                Singletons<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n        Random random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">int</span> k <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> maxTeacherNum<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"ID="</span><span class="token operator">+</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> Singletons<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Singleton singletonOne <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Singleton singletonTwo <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>singletonOne<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>singletonTwo<span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"singletonOne 和 singletonTwo 代表的是同一个实例"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span>\n        <span class="token punctuation">{</span>\n            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"singletonOne 和 singletonTwo 代表的是不同实例"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="工厂方法模式factory-method"><a href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8Ffactory-method" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工厂方法模式(Factory Method)</h2>\n<p>定义一个用于创建对象的接口，让子类决定实例化哪一个类。</p>\n<h3 id="简单工厂问题背景"><a href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简单工厂问题背景</h3>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="5978589645391553000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Operation\n{\n    public static double GetResult(double numberA, double numberB, string operate)\n    {\n        double result = 0;\n        switch (operate)\n        {\n            case &quot;+&quot;:\n                result = numberA + numberB;\n                break;\n            case &quot;-&quot;:\n                result = numberA - numberB;\n                break;\n            case &quot;*&quot;:\n                result = numberA * numberB;\n                break;\n            case &quot;/&quot;:\n                result = numberA / numberB;\n                break;\n        }\n        return result;\n    }\n}`, `5978589645391553000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Operation</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token keyword">double</span> numberA<span class="token punctuation">,</span> <span class="token keyword">double</span> numberB<span class="token punctuation">,</span> string operate<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n        <span class="token keyword">switch</span> <span class="token punctuation">(</span>operate<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token keyword">case</span> <span class="token string">"+"</span><span class="token operator">:</span>\n                result <span class="token operator">=</span> numberA <span class="token operator">+</span> numberB<span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token string">"-"</span><span class="token operator">:</span>\n                result <span class="token operator">=</span> numberA <span class="token operator">-</span> numberB<span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token string">"*"</span><span class="token operator">:</span>\n                result <span class="token operator">=</span> numberA <span class="token operator">*</span> numberB<span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n            <span class="token keyword">case</span> <span class="token string">"/"</span><span class="token operator">:</span>\n                result <span class="token operator">=</span> numberA <span class="token operator">/</span> numberB<span class="token punctuation">;</span>\n                <span class="token keyword">break</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> result<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Switch 中添加一个分支就可以了，运算 + - * / 的代码 GetResult 是正确的，却需要在修改的时候暴露，违反了开放封闭原则，继续改进。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/简单工厂20180415131811-df84f4da3060b7253c1314b33d037e77-f5f2a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 683px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 57.68667642752562%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACFUlEQVQoz41TSYsTURBu03EE481rENwC6nVGB0SY1ngfmJM/IXjQn6DggghzyN1DEAZEGGM0gSEe0nYke8y+7/u+kc1L3nzvkYaJBmcKivdeVfVXXy3NcZBKpXKOntlsdns0Gu3X6/U3FovlbaFQeN3tdvcDgcAt6m80GizuVEmn0zw9E4nE8/l8TqbTKWk2mwRghAqA96gfPv5MgOFwmAVGIpFnFKTX65HxeEza7fYKYLVaPR2w0+koUJKS3nFux2Kxd6FQ6BX0MJfLvcT7PRLdpn5g81AFlH2r0+m4M4tKpbryP79arb6w1lEul3cMBoMAfYzStNFo9K5Go7lIfTab7VIymdzJZDKCXq/XGo3GRxig1ufz3YFbKTNdEdoj9IbUajXWr8Fg4IWZ9Soej1+dTCZjai8Wi2xQVNDjz3IL/gGkQxgOh2yys9mMDiAE88aypzexSn/kIWGlyGKxIKVS6esScAPxfCqVYuuUz+c5zu12C8FgUACDB6IobrpcrusnEzqdzk2Px/MQwxFQ+n273b7lcDjUfxMD2OqOmkymy2D6EaUfmM3mb9jNL/1+/whs9uQYgF6D7ROSH1it1u9gfwj2P3DuUj/YKugyn6cPv99/j6wRJPggA+KD3XUxmMEL6scfpuS8Xi+jKknSDbD6BZVarZaE/RRx/43sT2VA7OYWpu6B7Sd6LwFAxDsAxk+WZfPHmFa8/O91jaMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="    20180415131811"\n        title=""\n        src="/static/简单工厂20180415131811-df84f4da3060b7253c1314b33d037e77-f5f2a.png"\n        srcset="/static/简单工厂20180415131811-df84f4da3060b7253c1314b33d037e77-d96b4.png 200w,\n/static/简单工厂20180415131811-df84f4da3060b7253c1314b33d037e77-b52f8.png 400w,\n/static/简单工厂20180415131811-df84f4da3060b7253c1314b33d037e77-f5f2a.png 683w"\n        sizes="(max-width: 683px) 100vw, 683px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="61381284500470776000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Operation\n{\n    private double _numberA = 0;\n    private double _numberB = 0;\n\n    public double NumberA\n    {\n        get\n        { return _numberA;}\n        set\n        { _numberA = value;}\n    }\n    public double NumberB\n    {\n        get\n        { return _numberB;}\n        set\n        { _numberB = value;}\n    }\n    public virtual double GetResult()\n    {\n        return 0;\n    }\n}\n\n// 加法类，其他同理\nclass OperationAdd : Operation\n{\n    public override double GetResult()\n    {\n        double result = 0;\n        result = NumberA + NumberB;\n        return result;\n    }\n}\n\n// 调用\nOperationAdd add = new OperationAdd();\nadd.NumberA = double.Parse(strNumberA);\nadd.NumberB = double.Parse(strNumberB);\nstrResult = add.GetResult().ToString();`, `61381284500470776000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Operation</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">double</span> _numberA <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token keyword">private</span> <span class="token keyword">double</span> _numberB <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">double</span> NumberA\n    <span class="token punctuation">{</span>\n        get\n        <span class="token punctuation">{</span> <span class="token keyword">return</span> _numberA<span class="token punctuation">;</span><span class="token punctuation">}</span>\n        set\n        <span class="token punctuation">{</span> _numberA <span class="token operator">=</span> value<span class="token punctuation">;</span><span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">double</span> NumberB\n    <span class="token punctuation">{</span>\n        get\n        <span class="token punctuation">{</span> <span class="token keyword">return</span> _numberB<span class="token punctuation">;</span><span class="token punctuation">}</span>\n        set\n        <span class="token punctuation">{</span> _numberB <span class="token operator">=</span> value<span class="token punctuation">;</span><span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">double</span> <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 加法类，其他同理</span>\n<span class="token keyword">class</span> <span class="token class-name">OperationAdd</span> <span class="token operator">:</span> Operation\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">double</span> <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n        result <span class="token operator">=</span> NumberA <span class="token operator">+</span> NumberB<span class="token punctuation">;</span>\n        <span class="token keyword">return</span> result<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 调用</span>\nOperationAdd add <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OperationAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nadd<span class="token punctuation">.</span>NumberA <span class="token operator">=</span> <span class="token keyword">double</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>strNumberA<span class="token punctuation">)</span><span class="token punctuation">;</span>\nadd<span class="token punctuation">.</span>NumberB <span class="token operator">=</span> <span class="token keyword">double</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>strNumberB<span class="token punctuation">)</span><span class="token punctuation">;</span>\nstrResult <span class="token operator">=</span> add<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>设计带来的新问题：虽然满足了开放封闭原则，单一职责原则，但是对于众多类，客户端使用起来非常不方便，这时就要用到简单工厂模式，以下类来负责创建对象。</p>\n<h3 id="简单工厂范例"><a href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E8%8C%83%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简单工厂范例</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-e95f4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.53234960272417%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACBElEQVQoz41SS2gaURR9cUwdbG3j0JZaCoXShu67a9ddZpdAyKJDdVE3UjdFSsGNGxUtGDdFohVXIWDIugQEdaX4/+N34f9bXYg6gr13mCkJTaAXHnfeuZ937rlD6vU6QXO5XNJer3cM94tisXg+HA5/BoNBGcay2Sz5byuXyxL08XiczufzvzdgHMdtZrPZBpoqMAYQn6PRaPgayCMQo+AhCr6pwWBANZvNrX+ah8PhvVgs9iWVSn0Fv38TgUKhcCu5TqezRfr9/jO/3//C6/W+goY7YtDj8SgdDsdr8LuhUOi5SqWiDQYDzwIk2RmPx4fw8FE6nT4cjUYf2u32S75wMplwON5yucQxJxaLRZHL5RTT6XQ2n89FfGAymR7Y7XYKa6DJm/V6zUuDcbRGo/GZCMHvlUrFVavVfmQymW8iw2QyaapWqydX8L8aRSIRJpFIsKD7R1giC4w/Qc7utflLpdI7EPosGo2egQy/ut3ue2HDbwE/BU0Rv2y1Wge3aQhECYHR7uAFKOtXq9UGNrbCEaDQiDiw1C0WC8Q5xGGbPA6a39VqtTK9Xi/T6XS00+mUXG0uMZvNtM/nY9xu92NIfhgIBPh/kGXZe1ar9ZHNZntiNBqfqtXq+wBLaZpGIlKshUNdo8owDCUEiKAVHkqpVGLTbSEm4lK5XI44NhT9ttjrD3JsPaiqK9HYAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="    20180415125801"\n        title=""\n        src="/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-fee1c.png"\n        srcset="/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-a67b7.png 200w,\n/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-0b187.png 400w,\n/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-fee1c.png 800w,\n/static/微信截图20180415125801-176f7c042312e584ef5552ba13147632-e95f4.png 881w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="98323445872995290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class OperationFactory\n{\n    public static Operation createOperate(string operate)\n    {\n        Operation oper = null;\n        switch (operate)\n        {\n            case &quot;+&quot;:\n                {\n                    oper = new OperationAdd();\n                    break;\n                }\n            case &quot;-&quot;:\n                {\n                    oper = new OperationSub();\n                    break;\n                }\n                ……\n        }\n        return oper;\n    }\n}\n\n// 调用\nOperation oper;\noper = OperationFactory.createOperate(strOperate);\noper.NumberA = Convert.ToDouble(strNumberA);\noper.NumberB = Convert.ToDouble(strNumberB);\nstrResult = oper.GetResult().ToString();`, `98323445872995290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">OperationFactory</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Operation <span class="token function">createOperate</span><span class="token punctuation">(</span>string operate<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Operation oper <span class="token operator">=</span> null<span class="token punctuation">;</span>\n        <span class="token keyword">switch</span> <span class="token punctuation">(</span>operate<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token keyword">case</span> <span class="token string">"+"</span><span class="token operator">:</span>\n                <span class="token punctuation">{</span>\n                    oper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OperationAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n            <span class="token keyword">case</span> <span class="token string">"-"</span><span class="token operator">:</span>\n                <span class="token punctuation">{</span>\n                    oper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OperationSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n                ……\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> oper<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 调用</span>\nOperation oper<span class="token punctuation">;</span>\noper <span class="token operator">=</span> OperationFactory<span class="token punctuation">.</span><span class="token function">createOperate</span><span class="token punctuation">(</span>strOperate<span class="token punctuation">)</span><span class="token punctuation">;</span>\noper<span class="token punctuation">.</span>NumberA <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDouble</span><span class="token punctuation">(</span>strNumberA<span class="token punctuation">)</span><span class="token punctuation">;</span>\noper<span class="token punctuation">.</span>NumberB <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDouble</span><span class="token punctuation">(</span>strNumberB<span class="token punctuation">)</span><span class="token punctuation">;</span>\nstrResult <span class="token operator">=</span> oper<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>以上代码只需简单参数即可获得所需对象，实现对象的创建和使用的分离，这就是简单工厂模式。</p>\n<h3 id="简单工厂概述"><a href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A6%82%E8%BF%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>简单工厂概述</h3>\n<p><strong>定义</strong></p>\n<p>简单工厂模式(Simple Factory Pattern)：又称为静态工厂方法(Static Factory Method)模式，属于类的创建型模式，通过它根据自变量的不同返回不同的类的实例。简单工厂模式专门定义一个类来负责创建其它类的实例，被创建的实例通常都具有共同的父类。</p>\n<p><strong>模式结构</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/简单工厂20180415134957-563e0080c4831aed7baf1aef59c037a1-a50a8.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 794px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 57.93450881612091%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACMElEQVQoz5WSO4haQRSG5141JrtsCFisYMAihU2y2U2RKhKwECGdjQFFFhJ2SRXB3soFGwtFECwEMY2IhSgovsDGR+Eb32/BrTQ2igFdJmcGr7jJbiAHhhn+/853z5xzUKlUYhFEoVD42O/3f9Zqtdter3fXarW+Er3ZbPLRLjDG+x0Wb7f4sJi9X6/XKbBSqShXqxUeDoeYxGQy+U700Wi0Bx5C/wwOipLJJD2EQqHTTCZjXi6Xn/L5/E0kEnlL9EQiwXCX4BV0LxaLz8vl8g18b4WEnNVq9R3RIRkW/U9AGSg8l8u9XCwWmItut/uF6LPZjI9isRgbj8cZhUIhBIOdTqekLoxKpRIajUa20WgwgUCA9fl8CLKiQLhzCqXozOfzW4hfoKuJPh6PeX9l4XA4mMcy9Pv9+zoaDIaTcDj8zGQynTidTgoKBoMIud3uN1ar9dzlcp3DWUIMm832wuPxnNnt9gv4wRlceA3+U+KZzWaOz9WLudcsGJU7eOoKUsfQaSfRoCmfB4MBBm/dbrc38OxVOp2+IF4qlaIgsVgs8Hq9SCqVCpRKJWVZLBZKxtvtlhYXID+IAYBLfBDr9RoD8D3xotEol5lgt98bK9LqKxjma5i7b1DcD0TLZrOviA4jcQ1ZXsGPLqERIuJtNhv0T+CjA/pASCQScpm3gzwM7HQ6fK1We6TX64/kcjkpvEAmkwl1Oh3VNBrNsVqtPhaJRELwnjAMQ3Z63i3BIe83+W1Qm355+PwAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="    20180415134957"\n        title=""\n        src="/static/简单工厂20180415134957-563e0080c4831aed7baf1aef59c037a1-a50a8.png"\n        srcset="/static/简单工厂20180415134957-563e0080c4831aed7baf1aef59c037a1-158a7.png 200w,\n/static/简单工厂20180415134957-563e0080c4831aed7baf1aef59c037a1-dcfde.png 400w,\n/static/简单工厂20180415134957-563e0080c4831aed7baf1aef59c037a1-a50a8.png 794w"\n        sizes="(max-width: 794px) 100vw, 794px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="64981875349038320000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class OperationFactory //工厂角色\n{\n    public static Operation createOperate(string operate)\n    {\n        Operation oper = null;// 抽象产品角色\n        switch (operate)\n        {\n            case &quot;+&quot;:\n                {\n                    oper = new OperationAdd();// 具体产品角色\n                    break;\n                }\n            case &quot;-&quot;:\n                {\n                    oper = new OperationSub();\n                    break;\n                }\n         }\n        return oper;\n    }\n}`, `64981875349038320000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OperationFactory</span> <span class="token comment">//工厂角色</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">static</span> Operation <span class="token function">createOperate</span><span class="token punctuation">(</span>string operate<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Operation oper <span class="token operator">=</span> null<span class="token punctuation">;</span><span class="token comment">// 抽象产品角色</span>\n        <span class="token keyword">switch</span> <span class="token punctuation">(</span>operate<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token keyword">case</span> <span class="token string">"+"</span><span class="token operator">:</span>\n                <span class="token punctuation">{</span>\n                    oper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OperationAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 具体产品角色</span>\n                    <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n            <span class="token keyword">case</span> <span class="token string">"-"</span><span class="token operator">:</span>\n                <span class="token punctuation">{</span>\n                    oper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OperationSub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token keyword">break</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n         <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> oper<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>优缺点</strong></p>\n<ul>\n<li>\n<p>优点：</p>\n<ul>\n<li>工厂类含有必要的判断逻辑，可以决定在什么时候创建哪一个产品类的实例，客户端可以免除直接创建产品对象的责任，而仅仅“消费”产品。简单工厂模式通过这种做法实现了对象创建和使用的分离</li>\n<li>客户端代码简洁，无需知道所创建具体产品的类名，只需知道对应的参数，可以减少使用者的记忆量。</li>\n</ul>\n</li>\n<li>\n<p>缺点：</p>\n<ul>\n<li>工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响。</li>\n<li>增加了系统中类的数量，增加了系统的复杂度和理解难度。</li>\n<li>系统扩展困难，一旦添加新产品就不得不修改工厂逻辑，有可能造成工厂逻辑过于复杂，不利于扩展。</li>\n<li>简单工厂模式通常使用静态工厂方法，造成工厂角色无法形成基于继承的等级结构。</li>\n</ul>\n</li>\n</ul>\n<p><strong>模式应用</strong></p>\n<ul>\n<li>根据各类算法的密码生成器。</li>\n<li>根据各类数据进行图表绘制。</li>\n</ul>\n<h3 id="工厂方法问题背景"><a href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工厂方法问题背景</h3>\n<p>简单工厂中的工厂类随着新方法的添加需要修改代码，同样违反了开放封闭原则，抽象化如下图。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-50858.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 44.455544455544455%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACEElEQVQoz11SzYtScRR9vvd8742bUZRxcqSRwIJw4cK1+CcoGrgsSHGZqS0aWhRMflCQulJwqSshF4bgQkiRjGoh4Qea398OLuwPGDs/ezPMzIWL7x7Pvffc8x41HA5ZCjEYDJ71+/2fvV7v+2azOSPYer2mPR4PeaQ6nY5E5J02Go0nzWbzMalrtRqt1Wqp6yiXyzT5rdfr/m63ezkajS6n02mcYLvdbs8xmUzkeT9wsVg83W63O/Deihyauhlik1SpVPJOp1Pp8/mOSY0ULBYLr9frOcJhEcB4m812EAwGT10ul4D6QK1WCwaDgTObzcx+4Gw2+40zR9jcqVarj1qt1iEUAupNgX3LZrP3CA+KipPJZD4ej8lCKp1Oy4B1gH0NBALMtcJ2u30OHz8hY5lM5iGGHsGvj2iMwtP3sVjsRDzVD08/5HK5I6K+UqkIq9XqHPnKbrfLrFar7NbpUPUFhl/M5/MV8gEgCdT/wKKL5XL5J5/PqwgPSz4D/4sFJ1e96PsFTjeVSvF7sxOJhAxKX0BVEAPeoel+Mpk8xPlvUIdw/lmxWDwWLXqOYeFSqaRASRcKBR7KXyJf43T2aglD3Q7yRrk7GK/T6YSbgNFovNv3P+RyucTv97PxeFwaCoWk+ExolUoliUajrMPhEOCRoFAoyJtnvF6vNBKJSDUaDRlGcxzHuN1uLhwOk/+pf3VDH0aFwVclAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="    20180415130256"\n        title=""\n        src="/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-fee1c.png"\n        srcset="/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-a67b7.png 200w,\n/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-0b187.png 400w,\n/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-fee1c.png 800w,\n/static/工厂方法20180415130256-405653b5b5bf90c20b353a827fcf755c-50858.png 1001w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80729843673353950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 工厂方法\ninterface IFactory\n{\n    Operation CreateOperation();\n}\n\n// 专门负责生产“+”的工厂，其他同理\nclass AddFactory : IFactory\n{\n    public Operation CreateOperation()\n    {\n        return new OperationAdd();\n    }\n}\n\n// 调用\nIFactory operFactory = new AddFactory();\nOperation oper = operFactory.CreateOperation();\noper.NumberA = Convert.ToDouble(strNumberA);\noper.NumberB = Convert.ToDouble(strNumberB);\nstrResult = oper.GetResult().ToString();`, `80729843673353950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token comment">// 工厂方法</span>\ninterface IFactory\n<span class="token punctuation">{</span>\n    Operation <span class="token function">CreateOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 专门负责生产“+”的工厂，其他同理</span>\n<span class="token keyword">class</span> <span class="token class-name">AddFactory</span> <span class="token operator">:</span> IFactory\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> Operation <span class="token function">CreateOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">OperationAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 调用</span>\nIFactory operFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">AddFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nOperation oper <span class="token operator">=</span> operFactory<span class="token punctuation">.</span><span class="token function">CreateOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\noper<span class="token punctuation">.</span>NumberA <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDouble</span><span class="token punctuation">(</span>strNumberA<span class="token punctuation">)</span><span class="token punctuation">;</span>\noper<span class="token punctuation">.</span>NumberB <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToDouble</span><span class="token punctuation">(</span>strNumberB<span class="token punctuation">)</span><span class="token punctuation">;</span>\nstrResult <span class="token operator">=</span> oper<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="工厂方法概述"><a href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A6%82%E8%BF%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>工厂方法概述</h3>\n<p><strong>定义</strong></p>\n<p>工厂方法模式(Factory Method Pattern)：工厂方法模式又简称为工厂模式，也叫虚拟构造器(Virtual Constructor)模式或者多态模式，属于类的创建型模式。在工厂方法模式中，父类负责定义创建对象的公共接口，而子类则负责生成具体的对象，这样做的目的是将类的实例化操作延迟到子类中完成，即由子类来决定究竟应该实例化(创建) 哪一个类。</p>\n<p><strong>模式结构</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-e95f4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.81384790011351%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB3ElEQVQoz42SS2taQRTHR1OzSLZNKZSULgJJC1mk6yyy7ybfpMt8gCIxu4C4UMFcLBg1CT4LvhBRFBFUFFR8P+KjCq1oxMe9tTf/Y1VCIaUHDmdmzm9mzsz/sHa7fRGPx8+DweB5pVKRt1qtS8xPGAzjDYo+n+9VtVpV93o9rlQq6QKBAJfP56+63e5Vs9nU22y2XeKwT8LEpQmCsBqK2PSFgPF4LKMYDof3R6PROj+fz8Wn5vV6PxKHS6RsOBz+HAwGPxAfEDvwX0h8JqDf77+g6PF43qXT6WKhUGhnMpn7YrE4bDQazVwud18ul7+73e73xCWTSSkzGAw7er3+QKvVftLpdC8xf6NSqbYJcDqdFJjD4WAcx8k0Go1MqVRuqtXqY4y3aM1oNG6azWYJcRaLhT21DfaM4VXkkpUT+9fammP/OoSsXq+z/7H1YfiH20QiYY5EIjfRaPQaqn/LZrOnS2hRtd/vfw01v0KsGyhpisVit3AT/s8Epe/sdvtb4lKp1B+Vp9OpOJvNxJWSSMgJUCgUWxStVusHCLTIEcfzvDiZTNYqu1yuo2VxUobkbxzIwwX4gkI/ni37cNE2oVBoD8oOUOUcOb7T6QjoBqFWq/GoUMTrDonDC6SPvyST5O+GkuMAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415145051"\n        title=""\n        src="/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-fee1c.png"\n        srcset="/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-a67b7.png 200w,\n/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-0b187.png 400w,\n/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-fee1c.png 800w,\n/static/微信截图_20180415145051-fd2655e301b073d6e5a527e53a6e3aa0-e95f4.png 881w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Product：抽象产品</li>\n<li>ConcreteProduct：具体产品</li>\n<li>Factory：抽象工厂</li>\n<li>ConcreteFactory：具体工厂</li>\n</ul>\n<p>工厂方法模式是简单工厂模式的延伸，它继承了简单工厂模式的优点，同时还弥补了简单工厂模式的不足。工厂方法模式是使用频率最高的设计模式之一，是很多开源框架和 API 类库的核心模式。</p>\n<p><strong>优缺点</strong></p>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>在工厂方法模式中，工厂方法用来创建客户所需要的产品，同时还向客户隐藏了哪种具体产品类被实例化这一细节，用户只需要关心所需产品对应的工厂，无需关心创建产品的细节，甚至无需知道产品类的类名。</li>\n<li>基于工厂角色和产品角色的多态性设计是工厂方法模式的关键。它能够使工厂可以自主确定创建何种产品对象，而如何创建这个对象的细节则完全封装在具体工厂内部。</li>\n<li>使用工厂方法模式的另一个优点是在系统中加入新产品时，无需修改抽象工厂和抽象产品提供的接口，无需修改客户端，也无需修改其它的具体工厂和具体产品，而只要添加一个新的具体工厂和具体产品即可。</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>在添加新产品时，需要编写新的具体产品类，而且还要提供与之对应的具体工厂类，类成对增加，将导致系统设计较为庞大，且运行时系统会有额外的开销。</li>\n<li>由于考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度，且在实现的时候可能需要用到反射等技术，增加了系统的实现难度。</li>\n</ul>\n</li>\n</ul>\n<p><strong>模式使用</strong></p>\n<ul>\n<li>不能清楚知道所必须创建的对象的类。</li>\n<li>一个类希望由它的子类来指定它所创建的对象。</li>\n<li>将创建对象的职责委托给多个子类中的某一个，且不同子类提供不同实现。</li>\n</ul>\n<h2 id="抽象工厂模式abstract-factory"><a href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8Fabstract-factory" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>抽象工厂模式(Abstract Factory)</h2>\n<p>提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。</p>\n<h3 id="问题背景"><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>问题背景</h3>\n<p>不能不换数据库？</p>\n<ul>\n<li>以前基于 Access 的数据库项目，需要修改为 SQL Server</li>\n<li>SQL 语言函数不一样，参数格式不一样</li>\n<li>如 SQL Server 中 GetDate()，Access 中为 Now()</li>\n</ul>\n<p>最简单的数据库程序</p>\n<ul>\n<li>假定使用 SQL Server 数据库</li>\n<li>数据库中有用户表(User)，用户类有 2 个字段 ID 和 Name</li>\n<li>程序中有用户管理，可以对用户添加和查询</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="91132587059583450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 用户类，假定用户只有ID 和 Name两个字段\nclass User\n{\n    private int _id;\n    public int ID\n    {\n        get { return _id; }\n        set { _id = value; }\n    }\n\n    private string _name;\n    public string Name\n    {\n        get { return _name; }\n        set { _name = value; }\n    }\n}\n\n// SqlserverUser类，用于操作User表,假定用户只有新增用户和得到用户方法，具体语句省略\nclass SqlserverUser\n{\n    public void Insert(User user)\n    {\n        Console.WriteLine(&quot;在Sqlserver中给User表增加一条记录&quot;);\n    }\n\n    public User GetUser(int id)\n    {\n        Console.WriteLine(&quot;在Sqlserver中根据ID得到User表一条记录&quot;);\n        return null;\n    }\n}\n\n// Su对象框死在Sqlserver数据库上了，加入要换Access数据库，跟Su对象相关的代码都要修改\nstatic void Main(string[] args)\n{\n    User user = new User();\n\n    SqlserverUser su = new SqlserverUser();\n\n    su.Insert(user);\n\n    su.GetUser(1);\n\n    Console.Read();\n}`, `91132587059583450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token comment">// 用户类，假定用户只有ID 和 Name两个字段</span>\n<span class="token keyword">class</span> <span class="token class-name">User</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> _id<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> ID\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> _id<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> _id <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">private</span> string _name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string Name\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> _name<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> _name <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// SqlserverUser类，用于操作User表,假定用户只有新增用户和得到用户方法，具体语句省略</span>\n<span class="token keyword">class</span> <span class="token class-name">SqlserverUser</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中给User表增加一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> User <span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中根据ID得到User表一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> null<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// Su对象框死在Sqlserver数据库上了，加入要换Access数据库，跟Su对象相关的代码都要修改</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    SqlserverUser su <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">SqlserverUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    su<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    su<span class="token punctuation">.</span><span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>利用上面学习到的工厂方法修改代码如下：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="45503323932473700000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface IUser\n{\n    void Insert(User user);\n\n    User GetUser(int id);\n}\nclass SqlserverUser : IUser\n{\n    public void Insert(User user)\n    {\n        Console.WriteLine(&quot;在Sqlserver中给User表增加一条记录&quot;);\n    }\n\n    public User GetUser(int id)\n    {\n        Console.WriteLine(&quot;在Sqlserver中根据ID得到User表一条记录&quot;);\n        return null;\n    }\n}\nclass AccessUser : IUser\n{\n    public void Insert(User user)\n    {\n        Console.WriteLine(&quot;在Access中给User表增加一条记录&quot;);\n    }\n\n    public User GetUser(int id)\n    {\n        Console.WriteLine(&quot;在Access中根据ID得到User表一条记录&quot;);\n        return null;\n    }\n}\ninterface IFactory\n{\n    IUser CreateUser();\n}\nclass SqlServerFactory : IFactory\n{\n    public IUser CreateUser()\n    {\n        return new SqlserverUser();\n    }\n}\nclass AccessFactory : IFactory\n{\n    public IUser CreateUser()\n    {\n        return new AccessUser();\n    }\n}\nstatic void Main(string[] args)\n{\n    User user = new User();\n\n    IFactory factory = new AccessFactory();   //SqlServerFactory();\n\n    IUser iu = factory.CreateUser();\n\n    iu.Insert(user);\n    iu.GetUser(1);\n\n    Console.Read();\n}`, `45503323932473700000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">interface IUser\n<span class="token punctuation">{</span>\n    <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    User <span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">SqlserverUser</span> <span class="token operator">:</span> IUser\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中给User表增加一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> User <span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中根据ID得到User表一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> null<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">AccessUser</span> <span class="token operator">:</span> IUser\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>User user<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Access中给User表增加一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> User <span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Access中根据ID得到User表一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> null<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\ninterface IFactory\n<span class="token punctuation">{</span>\n    IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">SqlServerFactory</span> <span class="token operator">:</span> IFactory\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">SqlserverUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">AccessFactory</span> <span class="token operator">:</span> IFactory\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">AccessUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    IFactory factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">AccessFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//SqlServerFactory();</span>\n\n    IUser iu <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    iu<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    iu<span class="token punctuation">.</span><span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>数据库只有一个表吗？</li>\n<li>假如增加部门表，如何处理？</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="70439012050638450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Department\n{\n    private int _id;\n    public int ID\n    {\n        get { return _id; }\n        set { _id = value; }\n    }\n\n    private string _deptName;\n    public string DeptName\n    {\n        get { return _deptName; }\n        set { _deptName = value; }\n    }\n}\ninterface IDepartment\n{\n    void Insert(Department department);\n    Department GetDepartment(int id);\n}\nclass SqlserverDepartment : IDepartment\n{\n    public void Insert(Department department)\n    {\n        Console.WriteLine(&quot;在Sqlserver中给Department表增加一条记录&quot;);\n    }\n    public Department GetDepartment(int id)\n    {\n        Console.WriteLine(&quot;在Sqlserver中根据ID得到Department表一条记录&quot;);  return null;\n    }\n}\nclass AccessDepartment : IDepartment\n{\n    public void Insert(Department department)\n    {\n        Console.WriteLine(&quot;在Access中给Department表增加一条记录&quot;);\n    }\n    public Department GetDepartment(int id)\n    {\n        Console.WriteLine(&quot;在Access中根据ID得到Department表一条记录&quot;);   return null;\n    }\n}\ninterface IFactory\n{\n    IUser CreateUser();\n\n    IDepartment CreateDepartment();\n}\nclass SqlServerFactory : IFactory\n{\n    public IUser CreateUser()\n    {\n        return new SqlserverUser();\n    }\n    public IDepartment CreateDepartment()\n    {\n        return new SqlserverDepartment();\n    }\n}\nclass AccessFactory : IFactory\n{\n    public IUser CreateUser()\n    {\n        return new AccessUser();\n    }\n    public IDepartment CreateDepartment()\n    {\n        return new AccessDepartment();\n    }\n}\nstatic void Main(string[] args)\n{\n    User user = new User();\n    Department dept = new Department();\n\n    IFactory factory = new AccessFactory();  //SqlServerFactory();\n\n    IUser iu = factory.CreateUser();\n    iu.Insert(user);\n    iu.GetUser(1);\n\n    IDepartment id = factory.CreateDepartment();\n    id.Insert(dept);\n    id.GetDepartment(1);\n\n    Console.Read();\n}`, `70439012050638450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Department</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">int</span> _id<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> ID\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> _id<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> _id <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">private</span> string _deptName<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string DeptName\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> _deptName<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> _deptName <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\ninterface IDepartment\n<span class="token punctuation">{</span>\n    <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>Department department<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Department <span class="token function">GetDepartment</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">SqlserverDepartment</span> <span class="token operator">:</span> IDepartment\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>Department department<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中给Department表增加一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> Department <span class="token function">GetDepartment</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Sqlserver中根据ID得到Department表一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> null<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">AccessDepartment</span> <span class="token operator">:</span> IDepartment\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Insert</span><span class="token punctuation">(</span>Department department<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Access中给Department表增加一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> Department <span class="token function">GetDepartment</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"在Access中根据ID得到Department表一条记录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">return</span> null<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\ninterface IFactory\n<span class="token punctuation">{</span>\n    IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    IDepartment <span class="token function">CreateDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">SqlServerFactory</span> <span class="token operator">:</span> IFactory\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">SqlserverUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> IDepartment <span class="token function">CreateDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">SqlserverDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">AccessFactory</span> <span class="token operator">:</span> IFactory\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> IUser <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">AccessUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> IDepartment <span class="token function">CreateDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">AccessDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    User user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Department dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Department</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    IFactory factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">AccessFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//SqlServerFactory();</span>\n\n    IUser iu <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    iu<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    iu<span class="token punctuation">.</span><span class="token function">GetUser</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    IDepartment id <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">CreateDepartment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    id<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    id<span class="token punctuation">.</span><span class="token function">GetDepartment</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-a3696.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 63.26530612244898%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACS0lEQVQ4y41TS4hSYRS+Xl85m0ohR5qdLVq5kESGwM3MQENRBFEtxJ2rIEYla++uXbWrzQjCYAtXLgQX4gPfD3y/dRTfgqIggoi3c+RO/SMDzYGfe87nOd95Sq1WK9pms3EajYZ7sVgw3W73AwUCX6HL5UKVCgQCnM1mI0B9NBo5Wq0W0+v1GNA/sxi/UqlQ1ySZTH4F0tJwODwl8UwmwyHtfD5vBCzcbDYD7Xb7GflbsVikqGAw+MbpdB6CzYUnVKlUd/x+/8toNHqSSCSE6Fgulw/S6fRz8H3t8XhUAHE0Gs3dWCx2HAqFXtVqtaNsNru3ZWVALi8vI0SWh5PJBFtnIOAAMQg4g9GgK7aZQqzf7z8aDAYM4vP5nAGfx1sCaNMxnU7PDAYDDf5UPB6/D239hIBvUNE99IlEIhqo4Bx8zyH5J8TcbrcUxvSjWq3+6nQ63+v1+gPqFsKVy+X8XVCtVuN4OLs4FkTp9XrabrfvpVKpF16v9z1kPeSCWCwWvkwmw0BaqVRyYdO01WrlmkwmHkGA10HrdDrBcrn8x7xeryWlUgkuY4Pn4Gad+RhAViAWi2mRSIRJKIlEQhmNxm1VgPHMZvP1cmF7b2F+X6ASNYnDeZCkqNM3jeavVigULuCuLsLhsBxtOJcngP3O5XIO+D5ll3JFQv+XkGEFtvcObSD6eIXB9vSIzWYz3q0rhFZPoK2j8XgsRtvn8+3DO4aTOYXz2UdMq9XSRCCPIOawj3fjjSgUCsFuZqlUKsJ/EPtQ5xOt0wTxVv4AnSRbm0dGNJ4AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415163014"\n        title=""\n        src="/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-fee1c.png"\n        srcset="/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-a67b7.png 200w,\n/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-0b187.png 400w,\n/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-fee1c.png 800w,\n/static/微信截图_20180415163014-6a0263e85b9dbe09ff85ee537c4d56c2-a3696.png 833w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>以上就是抽象工厂模式。</p>\n<h3 id="模式动机-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<p>在工厂方法模式中具体工厂负责生产具体的产品，每一个具体工厂对应一种具体产品，工厂方法也具有唯一性，一般情况下，一个具体工厂中只有一个工厂方法或者一组重载的工厂方法。但是有时候我们需要一个工厂可以提供多个产品对象，而不是单一的产品对象。</p>\n<h3 id="模式定义-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。抽象工厂模式又称为 Kit 模式，属于对象创建型模式。</p>\n<h3 id="模式结构-1"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-180da.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 61.68108776266996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACQElEQVQoz4VSS8gSURS+M87oTEmQa8EokB6L8IdA5IcfJAt3BhIJIRGtXIRbW7kJKm2hC2sRtHHhqlaaiGM+wWe+xbcIKtoihaCNyHTu/DNhYnThcO4995zvOy80mUx6o9Eo43Q6LyCEKFEIEBKEJgiCJkmSxne73Y59iGg0etJoNL43m81fnU7nEdhQr9eTY42m0+mH+Xz+yuPxYCDU7/cV9Xr9UrfbVWq1WlIEJwBMhsTjdruVpVLpU61W46rV6i3JDnEI7TlhdlQul1+0220eMijwPE+BEKvVCgOjSqVyP5fLvclkMs/FClAikXiSzWa9hULhoQBks9kYn88nl4CDweC1ZDL5jOO4u5Jts9kI2QHRRyDgoU0/isXiZWyDStrYNhgMEoKzwWBQYA3pP4XsPoO+KgHB+zVk9T4SibD4DURXgOgU7LcXi4VAAu+bqVTqFFqgFYIsFguD9Ww2e7lcLlfArsdvGJQSgr6AfPP7/Up05KhUKuKYnTaZTEc/xIP/cEvkGo2G1el0F3FVLMviDGVms5l2OBy01Wqlzr1hLfBHIBCQi6U/hnXgYGIBWAUKMiW8Xu8hAXlASv5lU6vVtHTP5/OWVqv1Fab8dj8iFArtA8r+CbjdbgUNU7sRi8UeuFyuP/0Kh8Nn8Xj8XjqdFsqBYf4fcLfbCZ/D4fDder3mQZ+Jq8KMx+MaDOkngKoOAMkjfT63iU4YUA39ugNLK2So1+tJ2K3r0NMTo9GIN4FiGIYSB6QQs5SEkgB/AwE7HBvdbfDmAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415162141"\n        title=""\n        src="/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-fee1c.png"\n        srcset="/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-a67b7.png 200w,\n/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-0b187.png 400w,\n/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-fee1c.png 800w,\n/static/微信截图_20180415162141-0eb0485af15d99fc49da8151b6fe9036-180da.png 809w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>AbstractFactory：抽象工厂</li>\n<li>ConcreteFactory：具体工厂</li>\n<li>AbstractProduct：抽象产品</li>\n<li>Product：具体产品</li>\n<li>Client：客户类</li>\n</ul>\n<h3 id="优缺点-1"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>抽象工厂模式的主要优点是隔离了具体类的生成，使得客户并不需要知道什么被创建。由于这种隔离，更换一个具体工厂就变得相对容易。</li>\n<li>所有的具体工厂都实现了抽象工厂中定义的那些公共接口，因此只需改变具体工厂的实例，就可以在某种程度上改变整个软件系统的行为。另外，应用抽象工厂模式可以实现高内聚低耦合的设计目的，因此抽象工厂模式得到了广泛的应用。</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>抽象工厂模式的缺点是在添加新的产品对象时，难以扩展抽象工厂以便生产新种类的产品，这是因为在抽象工厂角色中规定了所有可能被创建的产品集合，要支持新种类的产品就意味着要对该接口进行扩展，而这将涉及到对抽象工厂角色及其所有子类的修改，显然会带来很多不便。</li>\n<li>开闭原则的倾斜性（增加新的工厂和产品族容易，增加新的产品等级结构麻烦）</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用-1"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>一个系统不应当依赖于产品类实例如何被创建、组合和表达的细节，这对于所有形态的工厂模式都很重要。</li>\n<li>系统有多于一个的产品族，而客户端只消费其中某一产品族。</li>\n<li>系统提供一个产品类的库，所有的产品以同样的接口出现，从而使客户端不依赖于实现。</li>\n</ul>\n<h2 id="建造者模式builder"><a href="#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8Fbuilder" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>建造者模式(Builder)</h2>\n<p>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。</p>\n<h3 id="模式背景"><a href="#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式背景</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415164857-c21bbbf181db9efde78eb783ed013733-d879c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 264px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 92.8030303030303%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACsUlEQVQ4y5WSSUwTYRTHv1logcqUrXgwkQMJXjgZEw6eTIxxC1riAS6CFKoCRo03jUYMS+TgclEQIzEIxUhAlkNBCgFpAWVrSztLaynbdJvpdFOEk9/QCJZAhC//eXmZzG/ee9/7g+O3yZNVlsOVvKKcz6jg5WruUBmXpI4RoeYSVd6jd/hT1b9O14XyXqyrasknD7rBiUJ9YY3uSJkru3z5WCUrVXLggh9c9Ivxr5C8IDgfyCgOnXkYOfsooHy6/q66w3W/CJQ9W/wwLrSMCRqDX2MQ2gyCZlyMbYZAVK16obF/uUG79Fa72DXq1OgcLQP2z/1Gbd8Y6B1e6HxfVVRw7pb6SkVpPtSNa/kVqvxoXq5S3r1ZILDf3atmip4bGOg2mSdtNqPNSdqdVvBJx5ZcvQQAwDAMxB4EQWDE46Smua9T85ahCUtjc3vfF/3IhHFyzj4xMws6h9nrJUr4kVQqwXFMocDkcjHGxUHhKIoQBGEx6X1em4WcdSyQjN1MMSaaMS4vWUW4tPhytDKKgvR0sWZaGsBxsTZ8ZDKZ2TgWCToCPirAUUGODvJ02M+4WWobhmVhlMtBbi5ISdluOwqHhB8elvS5KSivm+I9lGuV3AmnpoKcHKBQ7AJ7XSTnoaB8HsrvjYUxFA4ptp2ZKcIw/7ft/8AIAq8KJCaCrCyQlCT2fwAYtg2XJZOB7GzxFzA/QNtbFwbLwskPOPPmqqJXBVe1aZl9wyiKJSQAghDh5GTomf3BWw6LjxeNBQ+MUimG45sOkxPzpj3gDt1q1Nv4Ht6WSCQzUyMB3uFasXpYCgp6y+eiVpZg5SHnt9HWl88fNzXUvXldu0ONr2qam+oFr3njp30tRP8OM1BrYWYjwoQFGtyrn9YOz/cM0r06alf1DJIfe2fae2IE37R2Tf8BfuYmsXcnLp8AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415164857"\n        title=""\n        src="/static/微信截图_20180415164857-c21bbbf181db9efde78eb783ed013733-d879c.png"\n        srcset="/static/微信截图_20180415164857-c21bbbf181db9efde78eb783ed013733-a4cf3.png 200w,\n/static/微信截图_20180415164857-c21bbbf181db9efde78eb783ed013733-d879c.png 264w"\n        sizes="(max-width: 264px) 100vw, 264px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37854625477539320000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`private void button1_Click(object sender, EventArgs e)\n{\n    Graphics person = pictureBox1.CreateGraphics();\n    Pen p = new Pen(Color.Yellow);\n    person.DrawEllipse(p, 50, 20, 30, 30);\n    person.DrawRectangle(p, 60, 50, 10, 50);\n    person.DrawLine(p, 60, 50, 40, 100);\n    person.DrawLine(p, 70, 50, 90, 100);\n    person.DrawLine(p, 60, 100, 45, 150);\n    person.DrawLine(p, 70, 100, 85, 150);\n}`, `37854625477539320000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">button1_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Graphics person <span class="token operator">=</span> pictureBox1<span class="token punctuation">.</span><span class="token function">CreateGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Pen p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Pen</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawEllipse</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawRectangle</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    person<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>需求改变，再画一个胖一点的小人</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415165000-fe4b0c0ee948fe8411aaebf9867259ac-d897f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 429px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 57.10955710955711%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACIUlEQVQoz2Oon3O1f/Wl9qWXaxZcrZh/rWoBCLWsvF+76GblvKuV86+BBEHoevPK+00rH/evuz9/x8Mdey8tn7GRYcGyLcbaEhpK4kZa4oaa4npq4trKogd3zE+MdFWW4TPUkjTWFtdXl9BUFNq5ceabl7f2H9h+9vzpR89uHD13naFvxjoONkYGBgZmVgY2dgYIWLRopoWFCZDBys7EwsbAwgJSMG/ulNevH167fvHGzSsvnl/ff+Qiw4RZ67g4mBgYGOXkGEVFgYpA6pYvnWVtbQZkiIkxS0kxcnEBFTAsXjjt9/cnb15ee/vqxvePt6CaITbLyzMIC0NtBmq2tDAFMsTFmdjZgUaAFCxaMPXH1ycvnl59+ezGl/c39x+FaWZiYpCSYhAQYGBmhmq2sgRpFhBg4uNj4OEBaV44f+rPb09ePrv66vmNLx9uotjMz88AVAe32coKpJmHh4mDgwHiF6DN6Jonzl7PzcnCzs7Mw8PMy8sMZACVrlg229bGHKhBSIiVhYWZlZUF4uefXx+jaO6dtoaDjQENLJg/zczMCMhgYmICkyCb58ye9O3z42ePrzx/cv3j2xt7Dl1g2Ljz+ISeiraWis62ig4wam8pv3Zp3+IFE5obizvbKoEine0Vrc2lVy7s+fPj/tePN798uPX/5+3jZy4z2IdtjczdH5a9PxwJ+SVtD8nYE5GDLugZu8krbrNn7GbfhC02gesByBUPNmglS6QAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415165000"\n        title=""\n        src="/static/微信截图_20180415165000-fe4b0c0ee948fe8411aaebf9867259ac-d897f.png"\n        srcset="/static/微信截图_20180415165000-fe4b0c0ee948fe8411aaebf9867259ac-b0eaf.png 200w,\n/static/微信截图_20180415165000-fe4b0c0ee948fe8411aaebf9867259ac-3e28a.png 400w,\n/static/微信截图_20180415165000-fe4b0c0ee948fe8411aaebf9867259ac-d897f.png 429w"\n        sizes="(max-width: 429px) 100vw, 429px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>晕，少画了一条腿，难道每次都要重新写一遍代码？</p>\n<p>如何设计？使得凡是绘制小人，都必须有头、身、两个手和两个脚？</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415170236-5608c9f7a452e3965ad1771bc7a43bdf-f0556.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 596px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 95.63758389261746%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABxklEQVQ4y52Uh4rDMAyG8/7PVujee2+6m9Gh4xOoKL32jjYgHDvKJ/m35ECenvv9ruPtdpPpdCqNRkOazaZUKhWp1+vS7/flcDikfP0TvANer1cZjUYKaLVaCsWGw6Gs1+vvgGQ3mUwUAnyxWMh8Plf7GMjIFtvttpRKJc3yfD7r+maz+RyIhkAGg4F0Oh3dOluN41i22+13QNOs2+0qvNfraXa73e57IJkBAoqOx+Pxf6DXzQM5FDKr1WqSy+U0wHg8Tmno/01l+CoaUB4AwOz0n339PLAoGIAkSR52uVx07XQ66TZ5Z82+c0DMPeOXhjh6eBiGEkVRyixLYFhKQ2rL2iqbzUqhUNA5tWcd8fxQm/gXi0X9B99qtar+wX6/1wniM2I4l8tlPQDT0m+LQ0JTfC0Z5nRVQBnQUjQ8cEa2yfpyuXx5mlwaaGr++PIP/gGC5/N5jZLJZLRUWMNptVqlgAZlq2RHKZGhdZAC0RBNSJcWm81mCkRsX8AeiD9FTlsy0orIwqhAsuMj2WG8A3sHxIfgdI9dINSqAskGByLhRJuRJYH+AtKSBAbKCOeRISfMJUAk3oGji79VPNAC2+ULFL3J8gego6+CAREQiAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415170236"\n        title=""\n        src="/static/微信截图_20180415170236-5608c9f7a452e3965ad1771bc7a43bdf-f0556.png"\n        srcset="/static/微信截图_20180415170236-5608c9f7a452e3965ad1771bc7a43bdf-ae33b.png 200w,\n/static/微信截图_20180415170236-5608c9f7a452e3965ad1771bc7a43bdf-daf23.png 400w,\n/static/微信截图_20180415170236-5608c9f7a452e3965ad1771bc7a43bdf-f0556.png 596w"\n        sizes="(max-width: 596px) 100vw, 596px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52383267063146370000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`abstract class PersonBuilder\n{\n    protected Graphics g;\n    protected Pen p;\n\n    public PersonBuilder(Graphics g, Pen p)\n    {\n        this.g = g;\n        this.p = p;\n    }\n\n    public abstract void BuildHead();\n    public abstract void BuildBody();\n    public abstract void BuildArmLeft();\n    public abstract void BuildArmRight();\n    public abstract void BuildLegLeft();\n    public abstract void BuildLegRight();\n}\nclass PersonThinBuilder : PersonBuilder\n{\n    public PersonThinBuilder(Graphics g, Pen p)\n        : base(g, p) { }\n    public override void BuildHead()\n    {\n        g.DrawEllipse(p, 50, 20, 30, 30);\n    }\n    public override void BuildBody()\n    {\n        g.DrawRectangle(p, 60, 50, 10, 50);\n    }\n    public override void BuildArmLeft()\n    {\n        g.DrawLine(p, 60, 50, 40, 100);\n    }\n    public override void BuildArmRight()\n    {\n        g.DrawLine(p, 70, 50, 90, 100);\n    }\n    public override void BuildLegLeft()\n    {\n        g.DrawLine(p, 60, 100, 45, 150);\n    }\n    public override void BuildLegRight()\n    {\n        g.DrawLine(p, 70, 100, 85, 150);\n    }\n}\nclass PersonFatBuilder : PersonBuilder\n{\n    public PersonFatBuilder(Graphics g, Pen p)\n        : base(g, p) { }\n    public override void BuildHead()\n    {\n        g.DrawEllipse(p, 50, 20, 30, 30);\n    }\n    public override void BuildBody()\n    {\n        g.DrawEllipse(p, 45, 50, 40, 50);\n    }\n    public override void BuildArmLeft()\n    {\n        g.DrawLine(p, 50, 50, 30, 100);\n    }\n    public override void BuildArmRight()\n    {\n        g.DrawLine(p, 80, 50, 100, 100);\n    }\n    public override void BuildLegLeft()\n    {\n        g.DrawLine(p, 60, 100, 45, 150);\n    }\n    public override void BuildLegRight()\n    {\n        g.DrawLine(p, 70, 100, 85, 150);\n    }\n}`, `52383267063146370000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">abstract <span class="token keyword">class</span> <span class="token class-name">PersonBuilder</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> Graphics g<span class="token punctuation">;</span>\n    <span class="token keyword">protected</span> Pen p<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token function">PersonBuilder</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">,</span> Pen p<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>g <span class="token operator">=</span> g<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>p <span class="token operator">=</span> p<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildArmLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildArmRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildLegLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildLegRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">PersonThinBuilder</span> <span class="token operator">:</span> PersonBuilder\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">PersonThinBuilder</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">,</span> Pen p<span class="token punctuation">)</span>\n        <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawEllipse</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawRectangle</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildArmLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildArmRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildLegLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildLegRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">PersonFatBuilder</span> <span class="token operator">:</span> PersonBuilder\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">PersonFatBuilder</span><span class="token punctuation">(</span>Graphics g<span class="token punctuation">,</span> Pen p<span class="token punctuation">)</span>\n        <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span>g<span class="token punctuation">,</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawEllipse</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawEllipse</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildArmLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildArmRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildLegLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildLegRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        g<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>继承自抽象类，如果不重写抽象方法，编译器都不通过?</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="72059578717800374000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`private void button2_Click(object sender, EventArgs e)\n{\n    Pen p = new Pen(Color.Yellow);\n    PersonThinBuilder thin = new PersonThinBuilder(pictureBox1.CreateGraphics(),p);\n    thin.BuildHead();\n    thin.BuildBody();\n    thin.BuildArmLeft();\n    thin.BuildArmRight();\n    thin.BuildLegLeft();\n    thin.BuildLegRight();\n\n}`, `72059578717800374000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">button2_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Pen p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Pen</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    PersonThinBuilder thin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PersonThinBuilder</span><span class="token punctuation">(</span>pictureBox1<span class="token punctuation">.</span><span class="token function">CreateGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildArmLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildArmRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildLegLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    thin<span class="token punctuation">.</span><span class="token function">BuildLegRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>用户调用创建类对象绘制小人，还需要知道头、手、脚这些方法？以下是解决方法。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415171210-0e8024139b4a18f7aa45745d52e4c186-c4b55.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 776px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 66.23711340206185%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACcUlEQVQ4y31Ty4uSURT/vtFGe7eIVpEEQW2DFlFjRBEIgS0ymH9AN7oQYSIQ2ioiOgMuXLlxM5shEUFESHDGV6Z+4/uB7+fCR+bjm0nsdu6XX4wPOnA5l3Pv+d3fOed3CZ/Pt+P3+1+GQqFXsJ4SFwwhxPhyuXwnk8nsRqPR95FIZDefz79mz/V6PbFk6XT6Z7VaRc1mE0HSD7hwF8KkQCDgicViPr7jdDo/jMdjVCwWUa/XQ6VSiWIBDQbDMmA2m20CIF2v138VCoWaVqu9jeMikWjLaDRy8d5ut7/rdrsI7p3N53M0GAyCLODBwcEyoM1me+BwOB4Ci0cul+v+xbPRaLSFPbTkDTyIkskkPRwO0WQyCbCAZrOZ+K9pNJp/e4qiONgfHx+/pWkaM0TY9/v9BAtoMpmWAdxuNwkJ5MnJCenxeEgcg0ERMCCy1WoxDL1e7xMYxNdYLPYNWhQCtvssIM4LBAKEQqHYzPDo6Gg1RLIbqVR6D9yV1ThrPB5vOXB4eMh4i8XCBbZ8uVx+U61W31CpVNeEQuH2AoQrkUj4e3t712Uy2S3o4VWocHsju3A4zPQMSpCmUqky9dfy8XjcDmEOlMi25HEikcjC2SmsAqwvVquVtwYImmRkAgCfcfOxNmezGWo0GhUIXwJApqfBYPAF1mO73Ubn5+eoVqsVoJrLa4DwKmcB+AkuIXiAxrqDpBQulWUIQ3oOQ0IwoDMs+Ol0eqpUKvlrgLlcjrNgqsZ6q1QqM9Ac1l3uIiC0ZKfT6eAK5iBy/HtSIHD+ppI5C6YfMUNgMcRlQxK1AvgMzubwBUegzd8A/l2n0zGAfwD23bk3+/fiagAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415171210"\n        title=""\n        src="/static/微信截图_20180415171210-0e8024139b4a18f7aa45745d52e4c186-c4b55.png"\n        srcset="/static/微信截图_20180415171210-0e8024139b4a18f7aa45745d52e4c186-97928.png 200w,\n/static/微信截图_20180415171210-0e8024139b4a18f7aa45745d52e4c186-afe85.png 400w,\n/static/微信截图_20180415171210-0e8024139b4a18f7aa45745d52e4c186-c4b55.png 776w"\n        sizes="(max-width: 776px) 100vw, 776px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87266919963155140000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class PersonDirector\n{\n    private PersonBuilder pb;\n    public void CreatePerson()\n    {\n        pb.BuildHead();\n        pb.BuildBody();\n        pb.BuildArmLeft();\n        pb.BuildArmRight();\n        pb.BuildLegLeft();\n        pb.BuildLegRight();\n    }\n    public PersonDirector(PersonBuilder pb)\n    {\n        this.pb = pb;\n    }\n}\nprivate void button3_Click(object sender, EventArgs e)\n{\n    Pen p = new Pen(Color.Yellow);\n    PersonThinBuilder pb = new PersonThinBuilder(pictureBox1.CreateGraphics(), p);\n    PersonDirector pd = new PersonDirector(pb);\n    pd.CreatePerson();\n}\nprivate void button3_Click(object sender, EventArgs e)\n{\n    Pen p = new Pen(Color.Yellow);\n    PersonFatBuilder pb = new PersonFatBuilder(pictureBox1.CreateGraphics(), p);\n    PersonDirector pd = new PersonDirector(pb);\n    pd.CreatePerson();\n}`, `87266919963155140000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">PersonDirector</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> PersonBuilder pb<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">CreatePerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildArmLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildArmRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildLegLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        pb<span class="token punctuation">.</span><span class="token function">BuildLegRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token function">PersonDirector</span><span class="token punctuation">(</span>PersonBuilder pb<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>pb <span class="token operator">=</span> pb<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">button3_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Pen p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Pen</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    PersonThinBuilder pb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PersonThinBuilder</span><span class="token punctuation">(</span>pictureBox1<span class="token punctuation">.</span><span class="token function">CreateGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    PersonDirector pd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PersonDirector</span><span class="token punctuation">(</span>pb<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pd<span class="token punctuation">.</span><span class="token function">CreatePerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">button3_Click</span><span class="token punctuation">(</span>object sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Pen p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Pen</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    PersonFatBuilder pb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PersonFatBuilder</span><span class="token punctuation">(</span>pictureBox1<span class="token punctuation">.</span><span class="token function">CreateGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    PersonDirector pd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">PersonDirector</span><span class="token punctuation">(</span>pb<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pd<span class="token punctuation">.</span><span class="token function">CreatePerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>建造者模式中，添加了一个很重要的类，指挥者类(Director)，用它来控制建造过程，也用它来隔离用户与建造过程之间的关联</p>\n<h3 id="模式动机-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<p>在某些情况下，一个对象会有一些重要的属性，在它们没有恰当的值之前，对象不能作为一个完整的产品使用。比如，一个电子邮件有发件人地址、收件人地址、主题、内容、附录等部分，而在最起码的收件人地址未被赋值之前，这个电子邮件不能发出。</p>\n<h3 id="模式定义-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。建造者模式是一步一步创建一个复杂的对象，它允许用户只通过指定复杂对象的类型和内容就可以构建它们，用户不需要知道内部的具体构建细节。建造者模式属于对象创建型模式。</p>\n<h3 id="模式结构-2"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-35569.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 47.878787878787875%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABt0lEQVQoz41SsWrCUBR9iUqpIO1Q+gF+QKdObSfXLp3sD0iHDgURhQ5FyaBo545B0NLWSQ3BwUERAxpBETUxaq1SFcTE4hRwSu8LRixF2wPh3pyTd9/NuRdxHEfX6/XXdrt9hQCapplwlCTpslarvRSLxShoj9lsdh/zlUoF7YS2QrPZZODVGg6H9zBfLpefDG06naoMwxxiXhAEYmfBfr//MRgMZOjyAb/n83kLjoVC4a7T6Xx1u138cCzL2jBfrVZ3FwSYLYCNjteCy+U6go5PcU5RlF7IbrejfwMOb1pBrIqbcZ5OpwnjQqfTiRKJBMJcKpUi4vG4fiaTySBE0zSKxWJ6/AswoK1aJBL5TQYCgXUOHp7AYM6TyeRFqVQ6y+Vyx5gfj8coFAohn89ndbvdNq/Xa/N4PPog/X7/z4LBYNBISZi6OJvNNFEUNSii8Tx/gwVZlgnwcw8GycIg32Fwn5DfY01VVXKbh+RwOJSWy6U2n8/11Wk0GrdYAP8sDofjYDQaKcZawabofsH3pm0+kHD7W6vVEnq9Hr9YLESIxuIT8LtmWCVqMplEoftnuOwaa4qiEN/q7BMQXU62vAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415172543"\n        title=""\n        src="/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-fee1c.png"\n        srcset="/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-a67b7.png 200w,\n/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-0b187.png 400w,\n/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-fee1c.png 800w,\n/static/微信截图_20180415172543-f2c0ac9b7c838c9c04e8ed53ebef3744-35569.png 825w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="7399798422081294000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Product\n{\n    private string partA;\n    private string partB;\n    private string partC;\n    public string PartA\n    {\n        set { partA = value; }\n        get { return partA; }\n    }\n    public string PartB\n    {\n        set { partB = value; }\n        get { return partB; }\n    }\n    public string PartC\n    {\n        set { partC = value; }\n        get { return partC; }\n    }\n    public void Introduce()\n    {\n        Console.WriteLine(PartA);\n        Console.WriteLine(PartB);\n        Console.WriteLine(PartC);\n        Console.WriteLine();\n    }\n}\nabstract class Builder\n{\n    protected Product product = new Product();\n    public abstract void BuildPartA();\n    public abstract void BuildPartB();\n    public abstract void BuildPartC();\n    public Product GetResult()\n    {\n        return product;\n    }\n}\nclass ConcreteBuilderOne : Builder\n{\n    public override void BuildPartA()\n    {\n        product.PartA = &quot;Finish PartA for ProductOne&quot;;\n    }\n    public override void BuildPartB()\n    {\n        product.PartB = &quot;Finish PartB for ProductOne&quot;;\n    }\n    public override void BuildPartC()\n    {\n        product.PartC = &quot;Finish PartC for ProductOne&quot;;\n    }\n}\nclass ConcreteBuilderTwo : Builder\n{\n    public override void BuildPartA()\n    {\n        product.PartA = &quot;完成第二个产品PartA&quot;;\n    }\n    public override void BuildPartB()\n    {\n        product.PartB = &quot;完成第二个产品PartB&quot;;\n    }\n    public override void BuildPartC()\n    {\n        product.PartC = &quot;完成第二个产品PartC&quot;;\n    }\n}\nclass Director\n{\n    private Builder builder;\n    public Director(Builder builder)\n    {\n        this.builder = builder;\n    }\n    public void SetBuilder(Builder builder)\n    {\n        this.builder = builder;\n    }\n    public void Construct()\n    {\n        builder.BuildPartA();\n        builder.BuildPartB();\n        builder.BuildPartC();\n    }\n}\nstatic void Main(string[] args)\n{\n    Product pt;\n    Builder bd = new ConcreteBuilderOne();\n    Director dt = new Director(bd);\n    dt.Construct();\n    pt = bd.GetResult();\n    pt.Introduce();\n\n    bd = new ConcreteBuilderTwo();\n    dt.SetBuilder(bd);\n    dt.Construct();\n    pt = bd.GetResult();\n    pt.Introduce();\n\n    Console.ReadKey();\n}`, `7399798422081294000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Product</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string partA<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string partB<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string partC<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string PartA\n    <span class="token punctuation">{</span>\n        set <span class="token punctuation">{</span> partA <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> partA<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> string PartB\n    <span class="token punctuation">{</span>\n        set <span class="token punctuation">{</span> partB <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> partB<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> string PartC\n    <span class="token punctuation">{</span>\n        set <span class="token punctuation">{</span> partC <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> partC<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>PartA<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>PartB<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>PartC<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nabstract <span class="token keyword">class</span> <span class="token class-name">Builder</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> Product product <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">BuildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> Product <span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> product<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">ConcreteBuilderOne</span> <span class="token operator">:</span> Builder\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartA <span class="token operator">=</span> <span class="token string">"Finish PartA for ProductOne"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartB <span class="token operator">=</span> <span class="token string">"Finish PartB for ProductOne"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartC <span class="token operator">=</span> <span class="token string">"Finish PartC for ProductOne"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">ConcreteBuilderTwo</span> <span class="token operator">:</span> Builder\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartA <span class="token operator">=</span> <span class="token string">"完成第二个产品PartA"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartB <span class="token operator">=</span> <span class="token string">"完成第二个产品PartB"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">BuildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        product<span class="token punctuation">.</span>PartC <span class="token operator">=</span> <span class="token string">"完成第二个产品PartC"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Director</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> Builder builder<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Director</span><span class="token punctuation">(</span>Builder builder<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetBuilder</span><span class="token punctuation">(</span>Builder builder<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>builder <span class="token operator">=</span> builder<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        builder<span class="token punctuation">.</span><span class="token function">BuildPartA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        builder<span class="token punctuation">.</span><span class="token function">BuildPartB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        builder<span class="token punctuation">.</span><span class="token function">BuildPartC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Product pt<span class="token punctuation">;</span>\n    Builder bd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ConcreteBuilderOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Director dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Director</span><span class="token punctuation">(</span>bd<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    dt<span class="token punctuation">.</span><span class="token function">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pt <span class="token operator">=</span> bd<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pt<span class="token punctuation">.</span><span class="token function">Introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    bd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ConcreteBuilderTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    dt<span class="token punctuation">.</span><span class="token function">SetBuilder</span><span class="token punctuation">(</span>bd<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    dt<span class="token punctuation">.</span><span class="token function">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pt <span class="token operator">=</span> bd<span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pt<span class="token punctuation">.</span><span class="token function">Introduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">ReadKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>Builder：抽象建造者</li>\n<li>ConcreteBuilder：具体建造者</li>\n<li>Director：指挥者</li>\n<li>Product：产品角色</li>\n</ul>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-a5624.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.45081967213115%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACo0lEQVQoz52SWUiUURiG5zLoMoiugu4sSCKJ8CK6SgN13PeRtMXdIpFpUTQdM50i0xIkwpy0hExScxdzGcUlodQUtUST0RxxHDVHne1/mvlntIi66f05nHN4z//wft85kjnNKqKEX5NVsIjroXkVqo4AqtSxVH24SH13Aqq+QJr78tnVUFEpr5TZjNW/ZbLoGRLBYmTTYGDbbGbLbLQRBcxWB7DyawV+jaHI2iOIeh9HeIuMsPZI5F3pe8BPuY/IiwnmdXwsYymZSLSDlRQW3qX8iZKpyiLx0C7w5ZfnBDR5ktQaRWR7AEnN4QS1ScnrT9+r6GPZCxTBXqjSrrMwOIxkvSmLkaCz1Hkcp/JmLDtmE0bjDoIJGiaKKWj0QNkWyINWfwqqpWT3SG1l/0o4NT3OvcRL1BYXYTIZkeQkB9ITdpKpW1LKSjIxbO9gtX12lYxX4N4sw7ftMp4d8YR2JpJhS5czXOjot6099mG0mjE7I0taasqZGK5D2BhkZ35ALEVwmnqjnlHNCOPzn5ndmGN5TcP21hKGLZ291VitVnHYN4JzLeF3WSwOUxD4X0kEJ10QrGKuXZhev8rM7Ay6tVVmv82hWVp0XpYjv8GwyYr2O9olLWurWn7otWxubDiBdohztlgcN1z3rpbohBgy87NISLqAXJ7MndwM1m0/2fW0uBgPl324uRwg5YaCCG8vbl+L/6NksWoHsLOzneSUaOSpV0mV+XLqyEF8/H1YXFgU/bKHChQh+2kscKFbeR65vyvVpSl/ATrfYO+AmuBIb6KlPpxwPcqxw4eQnfNhQbMg+o33M2hNckMzpuJNnC9D1Y8Z7q37N1DdpyYu+QoxIcGccT9Nmp8fXYoClnUror/W1cB0RQkzk/0M1ZQwO9qDbl3HTyBtGZVx2syOAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180415174352"\n        title=""\n        src="/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-fee1c.png"\n        srcset="/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-a67b7.png 200w,\n/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-0b187.png 400w,\n/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-fee1c.png 800w,\n/static/微信截图_20180415174352-637c373c273c98eb5d1ff5626a1f1219-a5624.png 976w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="优缺点-2"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>建造者模式的使用使得产品的内部组成可以独立的变化，使用建造者模式可以使客户端不必知道产品内部组成的细节。</li>\n<li>每一个 Builder 都相对独立，而与其他的 Builder 无关。</li>\n<li>模式所建造的最终产品更易于控制。</li>\n</ul>\n<h3 id="模式使用-2"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>需要生成的产品对象有复杂的内部结构。</li>\n<li>需要生成的产品对象的属性相互依赖，建造者模式可以强迫生成顺序。</li>\n<li>在对象创建过程中会使用到系统中的一些其他对象，这些对象在产品对象的创建过程中不易得到。</li>\n</ul>\n<h3 id="模式应用-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<p>Mail（一步一步构造一个完整的邮件对象，然后发送）</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67003351178543505000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public void set主题(String 主题) {\n    this.主题 = 主题;}\npublic void set发件人(Email地址 发件人) {\n    this.发件人 = 发件人;}\npublic void set抄送人(List<Email地址> 抄送人) {\n    this.抄送人 = 抄送人; }\npublic void set收件人(List<Email地址> 收件人) {\n    this.收件人 = 收件人;}\npublic void set正文(String 正文) {\n    this.正文 = 正文;}\npublic void set邮件时间(Date time) {\n    this.邮件时间 = time;}\npublic void set附件(List<File> files) {\n    this.附件 = files;}`, `67003351178543505000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">void</span> set主题<span class="token punctuation">(</span>String 主题<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>主题 <span class="token operator">=</span> 主题<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set发件人<span class="token punctuation">(</span>Email地址 发件人<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>发件人 <span class="token operator">=</span> 发件人<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set抄送人<span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Email地址<span class="token operator">></span> 抄送人<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>抄送人 <span class="token operator">=</span> 抄送人<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set收件人<span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Email地址<span class="token operator">></span> 收件人<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>收件人 <span class="token operator">=</span> 收件人<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set正文<span class="token punctuation">(</span>String 正文<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>正文 <span class="token operator">=</span> 正文<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set邮件时间<span class="token punctuation">(</span>Date time<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>邮件时间 <span class="token operator">=</span> time<span class="token punctuation">;</span><span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">void</span> set附件<span class="token punctuation">(</span>List<span class="token operator">&lt;</span>File<span class="token operator">></span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>附件 <span class="token operator">=</span> files<span class="token punctuation">;</span><span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="原型模式prototype"><a href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8Fprototype" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>原型模式(Prototype)</h2>\n<p>用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。</p>\n<h3 id="模式背景-1"><a href="#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式背景</h3>\n<p><strong>简历投递</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52327906291582110000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Resume     //简历类\n{\n    private string name, sex , age , timeArea, company , AimCompany;\n    public Resume(string name)\n    {\n        this.name = name;\n    }\n    public void SetPersonalInfo(string sex, string age)    //设置个人信息\n    {\n        this.sex = sex;     this.age = age;\n    }\n    public void SetWorkExperience(string timeArea, string company)    //设置工作经历\n    {\n        this.timeArea = timeArea;     this.company = company;\n    }\n    public void SetAimCompany(string AimCompany)    //设置目标公司名称\n    {\n        this.AimCompany = AimCompany;\n    }\n    public void Display()     //显示\n    {\n        Console.WriteLine(&quot;尊敬的&quot; + AimCompany + &quot;公司领导，您好：&quot;)\n        Console.WriteLine(&quot;{0} {1} {2}&quot;, name, sex, age);\n        Console.WriteLine(&quot;工作经历：{0} {1}&quot;, timeArea, company);\n    }\n}`, `52327906291582110000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Resume</span>     <span class="token comment">//简历类</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">,</span> sex <span class="token punctuation">,</span> age <span class="token punctuation">,</span> timeArea<span class="token punctuation">,</span> company <span class="token punctuation">,</span> AimCompany<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Resume</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetPersonalInfo</span><span class="token punctuation">(</span>string sex<span class="token punctuation">,</span> string age<span class="token punctuation">)</span>    <span class="token comment">//设置个人信息</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetWorkExperience</span><span class="token punctuation">(</span>string timeArea<span class="token punctuation">,</span> string company<span class="token punctuation">)</span>    <span class="token comment">//设置工作经历</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>timeArea <span class="token operator">=</span> timeArea<span class="token punctuation">;</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>company <span class="token operator">=</span> company<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetAimCompany</span><span class="token punctuation">(</span>string AimCompany<span class="token punctuation">)</span>    <span class="token comment">//设置目标公司名称</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>AimCompany <span class="token operator">=</span> AimCompany<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//显示</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"尊敬的"</span> <span class="token operator">+</span> AimCompany <span class="token operator">+</span> <span class="token string">"公司领导，您好："</span><span class="token punctuation">)</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"{0} {1} {2}"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"工作经历：{0} {1}"</span><span class="token punctuation">,</span> timeArea<span class="token punctuation">,</span> company<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>内容相似只能 Ctrl+C, Ctrl+V?</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="49196525192042226000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`static void Main(string[] args)\n{\n    Resume a = new Resume(“张三&quot;);\n    a.SetPersonalInfo(&quot;男&quot;, &quot;22&quot;);\n    a.SetWorkExperience(&quot;1998-2000&quot;, “XX 公司&quot;);\n    a.SetAimCompany(&quot;Google&quot;);\n\n    Resume b = a;\n\n    a.Display();\n    b.Display();\n\n    b.SetAimCompany(“Baidu&quot;);\n\n    a.Display();\n    b.Display();\n\n    Console.Read();\n}`, `49196525192042226000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Resume a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Resume</span><span class="token punctuation">(</span>“张三"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetPersonalInfo</span><span class="token punctuation">(</span><span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token string">"22"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetWorkExperience</span><span class="token punctuation">(</span><span class="token string">"1998-2000"</span><span class="token punctuation">,</span> “XX 公司"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Resume b <span class="token operator">=</span> a<span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    b<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span>“Baidu"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416124727-97e31c7ba31de5ba6520b9751e89b957-65498.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 409px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 92.90953545232274%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAC4ElEQVQ4y52Uy0sbURTGZ5TaMAv7tpAuSqEYV+JKcOMii+CmK7GWgqvg3kX/BFfuXIhEzUZQF2LiA3R8xRcoqPGF4vudMUaNbzCamZye75JI7DSG9sDhnty553fP+U5mJCnJ6uvrxepyubJUVX3Locz2hdcc9vfsH9g/s39kfyGls7q6Ohmr2+3+2t3d/QtxdnZ2DkPfxCFwaxyeHphkOPxO+h8bHx+XfD6fNDIyIjU3N4s9q9WaZbFY0LJUUlKSUVVVJTudTrmyslKuqKiQbTbbP9+Twf76uQN2u/3vD4qKipT8/HylpaVFqa6uVmpqaiylpaWvHA7HJyJ6ib3Z2VmlvLxcKSgoUAoLC5Xc3NxM5Obl5ZmBx8fHYU3TAtPT09rKyoq2vr6ura2tHY2NjQUHBwe1hYWFI5ZE29ra0vhsYHt7O8xD+4bctra2TBOQ4ra0tEQMpampKRoaGqLJyUlifWl5eVnENzc3iaPU3t7+A7m9vb1m4NnZGe3t7UUDgYABPzw8NBJx8u+DgwPE+v7+PjU2NpYhl2VKWaFB6S2WONfZ2fkduSyJGRgMBol1MVg3VEqoAL6zs4N94bu7u8QaxlhrVEtNTU0C2NraagaenJwgwdjY2CBuScA2NzcFEJdBQx4G4scKOzo6BLC/v98MhNh82AAAevKUBZiroXA4TKenp4RL+Vns4uLCuLu7o56eHgEcGBgwA6+vr5EM0SkUCokWURkuuLy8FDGeMTR2dXVlRCIR6urqSg08Pz+n+DQJbUOv1dVVgqaIoRkuTR6Kx+N5HsiVGdAJbaJtxICgmvv7e9J1nWJsAGLxer2pgWiTW3rAf4wr0hmms646Jz9xGK8P0WgUFZalHApaYLEfK0qYYRhCUwzt9vb2yR+Sv5U/kTs8PGwG+v1+H7+3ffz5Uvm1U+fn59XFxUV1ZmZGnZiYUEdHR8X+3Nycyu96H38ofLW1tcXIbWhoyPiT9xtTJdZFpw8pbgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416124727"\n        title=""\n        src="/static/微信截图_20180416124727-97e31c7ba31de5ba6520b9751e89b957-65498.png"\n        srcset="/static/微信截图_20180416124727-97e31c7ba31de5ba6520b9751e89b957-67408.png 200w,\n/static/微信截图_20180416124727-97e31c7ba31de5ba6520b9751e89b957-5cbc3.png 400w,\n/static/微信截图_20180416124727-97e31c7ba31de5ba6520b9751e89b957-65498.png 409w"\n        sizes="(max-width: 409px) 100vw, 409px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>以下做原型模式的改进</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="30680807131186794000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Resume: Icloneable //简历类\n{\n    private string name, sex , age , timeArea, company , AimCompany;\n    public Resume(string name)\n    {\n        this.name = name;\n    }\n    public void SetPersonalInfo(string sex, string age)    //设置个人信息\n    {\n        this.sex = sex;     this.age = age;\n    }\n    public void SetWorkExperience(string timeArea, string company)    //设置工作经历\n    {\n        this.timeArea = timeArea;     this.company = company;\n    }\n    public void SetAimCompany(string AimCompany)    //设置目标公司名称\n    {\n        this.AimCompany = AimCompany;\n    }\n    public void Display()     //显示\n    {\n        Console.WriteLine(&quot;尊敬的&quot; + AimCompany + &quot;公司领导，您好：&quot;)\n        Console.WriteLine(&quot;{0} {1} {2}&quot;, name, sex, age);\n        Console.WriteLine(&quot;工作经历：{0} {1}&quot;, timeArea, company);\n    }\n    public Object Clone()\n    {\n        return this.MemberwiseClone();\n    }\n}\n\nstatic void Main(string[] args)\n{\n    Resume a = new Resume(“张三&quot;);\n    a.SetPersonalInfo(&quot;男&quot;, &quot;22&quot;);\n    a.SetWorkExperience(&quot;1998-2000&quot;, “XX 公司&quot;);\n    a.SetAimCompany(&quot;Google&quot;);\n\n    Resume b = (Resume)a.Clone();\n\n    a.Display();\n    b.Display();\n\n    b.SetAimCompany(“Baidu&quot;);\n\n    a.Display();\n    b.Display();\n\n    Console.Read();\n}`, `30680807131186794000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Resume</span><span class="token operator">:</span> Icloneable <span class="token comment">//简历类</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">,</span> sex <span class="token punctuation">,</span> age <span class="token punctuation">,</span> timeArea<span class="token punctuation">,</span> company <span class="token punctuation">,</span> AimCompany<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Resume</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetPersonalInfo</span><span class="token punctuation">(</span>string sex<span class="token punctuation">,</span> string age<span class="token punctuation">)</span>    <span class="token comment">//设置个人信息</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetWorkExperience</span><span class="token punctuation">(</span>string timeArea<span class="token punctuation">,</span> string company<span class="token punctuation">)</span>    <span class="token comment">//设置工作经历</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>timeArea <span class="token operator">=</span> timeArea<span class="token punctuation">;</span>     <span class="token keyword">this</span><span class="token punctuation">.</span>company <span class="token operator">=</span> company<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetAimCompany</span><span class="token punctuation">(</span>string AimCompany<span class="token punctuation">)</span>    <span class="token comment">//设置目标公司名称</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>AimCompany <span class="token operator">=</span> AimCompany<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//显示</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"尊敬的"</span> <span class="token operator">+</span> AimCompany <span class="token operator">+</span> <span class="token string">"公司领导，您好："</span><span class="token punctuation">)</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"{0} {1} {2}"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"工作经历：{0} {1}"</span><span class="token punctuation">,</span> timeArea<span class="token punctuation">,</span> company<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> Object <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">MemberwiseClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Resume a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Resume</span><span class="token punctuation">(</span>“张三"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetPersonalInfo</span><span class="token punctuation">(</span><span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token string">"22"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetWorkExperience</span><span class="token punctuation">(</span><span class="token string">"1998-2000"</span><span class="token punctuation">,</span> “XX 公司"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Resume b <span class="token operator">=</span> <span class="token punctuation">(</span>Resume<span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    b<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span>“Baidu"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>配钥匙</strong></p>\n<p>前几天，我很不幸把大门的钥匙给弄丢了，结果进不了家门。万幸的是，同学那儿还有一把，于是第二天我拿了他的那把去配钥匙。另外，他还让我顺便给他配一把房间的钥匙。现在配个钥匙真是简单，把钥匙给他，他直接找一个合适的钥匙胚子，把我的钥匙夹在配钥匙机的一端，胚子夹在另一端，一开电源，一把标尺比着我的钥匙齿型走一遍，砂轮就在胚子上复制出一把钥匙来！一分钟不到，两把新钥匙就搞定了！</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416122107-9618c2207e9a6a54a6bc2e00be7e10f3-4d589.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 713px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 48.2468443197756%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACeklEQVQoz32RW0gUURjHj+5iRkU9RRQEPdRLDz30FD0E1XMQJYFZLlmrbkkJ9aBhIV6IIJIoF3bVdTfRBBUkyMjLQj50kWqdmZ1dN/fizM7O/Yy6uyrevs6MFPhgf/jxnct3/t93zkE3O8LTJW7qO2HK5Jqb+uHwTp9GRM4uqtCMrgBz9JYvnC1x07mr7VSWsHClnVol+ezjvp/7rBxfCFlqm5Cg6X2CkLRo+TAHTwajJcQOud5G9qNz47aXI7MnvcHU5puxJLweTZpxw/NZAPdYMtUTJDlEXROxAssQiFbX1mBtfQPWCZtknhTUS+beyC+h2IyGgY9n88uAsyugLy5BLr9kHoOl3KI0m+IPmDmSLBeUehiE0rJ+j5f0qr9woubiM8qRrWJZ68rzWD+cymihWFoLRTktnBJ1WlQxK8j6x5kEZ105zonov2oejtmdftZ+u5u13/DSu2p76L0N/fTuym7moNPHHKrro4prAvQeRydTRLCVdzB2p48uRDo27ASbiWEQMLZNRtWCnQpdaGOLTjTS9h07KfMy/6gJTKOzbtlad3aHKyr9bFt5J/O81EO/uO6hW0inr+50Uceq/cwZ0n1rVYCtJ501l3noBkJjRSd1eZv5o14aOYby1ri2LzrZFMxD7QAH1f08VL+bg4cjOXD5mYsPeiNPG4PLUDechvsDPDh7U3B3UAJSaGibYYIXUWQerHFc0EaV3AbEMxh4ZQE4yYDcOkBCUM7/5tV6lXx0hNM246IBCRFDxliGGK/0bzMURAmtwJahrOrP0jL+Mifqo5KKx8kbf1J1Yyotqac0XXdkFDzDy/pX8ttT2DC+YWM+JCla6x/+y7O9iChp9QAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416122107"\n        title=""\n        src="/static/微信截图_20180416122107-9618c2207e9a6a54a6bc2e00be7e10f3-4d589.png"\n        srcset="/static/微信截图_20180416122107-9618c2207e9a6a54a6bc2e00be7e10f3-b9753.png 200w,\n/static/微信截图_20180416122107-9618c2207e9a6a54a6bc2e00be7e10f3-7c7b5.png 400w,\n/static/微信截图_20180416122107-9618c2207e9a6a54a6bc2e00be7e10f3-4d589.png 713w"\n        sizes="(max-width: 713px) 100vw, 713px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60381294271673246000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public abstract class Key\n{\n    private string name;\n    public string Name\n    {\n        get { return name; }\n        set { name = value; }\n    }\n\n    private string owner;\n    public string Owner\n    {\n        get { return owner; }\n        set { owner = value; }\n    }\n\n    public Key(string name, string owner)\n    {\n        this.name = name;\n        this.owner = owner;\n    }\n    //钥匙复制自身的抽象定义\n    public abstract Key Clone();\n    public override String ToString()\n    {\n        return this.Name + &quot;, 属于 &quot; + this.Owner;\n    }\n}\n\n//大门钥匙\npublic class GateKey : Key\n{\n    public GateKey(string owner) : base(&quot;大门 钥匙&quot;, owner) { }\n\n    public override Key Clone()\n    {\n        return new GateKey(this.Owner);\n    }\n}\n\n//橱柜钥匙\npublic class CabinetKey : Key\n{\n    public CabinetKey(string owner) : base(&quot;房间 钥匙&quot;, owner) { }\n\n    public override Key Clone()\n    {\n        return new CabinetKey(this.Owner);\n    }\n}\n\npublic static void Main(string[] args)\n{\n    Key oldGateKey, newGateKey, oldCabinetKey, newCabinetKey;\n    oldGateKey = new GateKey(&quot;同学&quot;);\n    newGateKey = oldGateKey.Clone();\n    newGateKey.Owner = &quot;我&quot;;\n\n    oldCabinetKey = new CabinetKey(&quot;我&quot;);\n    newCabinetKey = oldCabinetKey.Clone();\n    newCabinetKey.Owner = &quot;同学&quot;;\n\n    Console.WriteLine(oldGateKey.ToString());\n    Console.WriteLine(newGateKey.ToString());\n    Console.WriteLine(oldCabinetKey.ToString());\n    Console.WriteLine(newCabinetKey.ToString());\n    Console.Read();\n}`, `60381294271673246000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> abstract <span class="token keyword">class</span> <span class="token class-name">Key</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string Name\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> name <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">private</span> string owner<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string Owner\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> owner<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> owner <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token function">Key</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> string owner<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token operator">=</span> owner<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">//钥匙复制自身的抽象定义</span>\n    <span class="token keyword">public</span> abstract Key <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> override String <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Name <span class="token operator">+</span> <span class="token string">", 属于 "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Owner<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//大门钥匙</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GateKey</span> <span class="token operator">:</span> Key\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">GateKey</span><span class="token punctuation">(</span>string owner<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span><span class="token string">"大门 钥匙"</span><span class="token punctuation">,</span> owner<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override Key <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">GateKey</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Owner<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">//橱柜钥匙</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CabinetKey</span> <span class="token operator">:</span> Key\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">CabinetKey</span><span class="token punctuation">(</span>string owner<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span><span class="token string">"房间 钥匙"</span><span class="token punctuation">,</span> owner<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override Key <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">CabinetKey</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Owner<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Key oldGateKey<span class="token punctuation">,</span> newGateKey<span class="token punctuation">,</span> oldCabinetKey<span class="token punctuation">,</span> newCabinetKey<span class="token punctuation">;</span>\n    oldGateKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">GateKey</span><span class="token punctuation">(</span><span class="token string">"同学"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    newGateKey <span class="token operator">=</span> oldGateKey<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    newGateKey<span class="token punctuation">.</span>Owner <span class="token operator">=</span> <span class="token string">"我"</span><span class="token punctuation">;</span>\n\n    oldCabinetKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">CabinetKey</span><span class="token punctuation">(</span><span class="token string">"我"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    newCabinetKey <span class="token operator">=</span> oldCabinetKey<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    newCabinetKey<span class="token punctuation">.</span>Owner <span class="token operator">=</span> <span class="token string">"同学"</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>oldGateKey<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>newGateKey<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>oldCabinetKey<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>newCabinetKey<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="模式动机-3"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<p>有些对象的创建过程较为复杂，而且有时候需要频繁创建，原型模式通过给出一个原型对象来指明所要创建的对象的类型，然后用复制这个原型对象的办法创建出更多同类型的对象。这就是原型模式的动机。</p>\n<h3 id="模式定义-3"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>它是一种对象创建型模式，用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。原型模式允许一个对象再创建另外一个可定制的对象，无需知道任何创建的细节。</p>\n<p>通过将一个原型对象传给那个要发动创建的对象，这个要发动创建的对象通过请求原型对象拷贝原型自己来实现创建过程。</p>\n<h3 id="模式结构-3"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-6604a.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 35.73113207547169%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABdUlEQVQoz5VRz0sCURB+KtYGHSLonwiEoA71P3QNBOkWFEKw7EECzx2Drl08hETswQ4dFly0g6Kbii6LLuKKsIqKIiL+oF0ypxlzu0iHBh7fm+97b96bb1ij0XgoFotPtVpNxHXEMADAtUICVi6XfZVKJVwoFG4Q+WQyuUM8IluLXq8HTuCFc+L8fv8WgjcQCBAyfDBEum3bYFkWpFKpfeIlSXKvFWy1Wo+TyeRlMBi8lkqlY+JEUdyMRCLeRCKxQXk6nT5UVfUef/rc6XTC8Xh8j/j5fO7Brjz5fH5ZGB9k/43tvwTDMH425BN55vgWi8V2dV2/wHWJrV4hXmcymRPH22g0yuVyuTPkg6RXq9Ug5qekox2MKYpCplNb7pUvB+12G8hbtANmsxlgu3dOQZ7nORyMMR6Podlswmg0Ak3T3lfzcP1+OZvNLhNZln148LPf739Np1OLhmGa5q1TUBAErl6vq8PhEND7j8ViAd1u983RvwEu0wjzEKpLlwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416120752"\n        title=""\n        src="/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-fee1c.png"\n        srcset="/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-a67b7.png 200w,\n/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-0b187.png 400w,\n/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-fee1c.png 800w,\n/static/微信截图_20180416120752-c52ed7101b5c3123657e48579d8a0578-6604a.png 848w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Prototype：抽象原型类</li>\n<li>ConcretePrototype：具体原型类</li>\n<li>Client：客户</li>\n</ul>\n<p><strong>抽象原型类</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32271314069375754000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`abstract class Prototype\n{\n    private string id;\n\n    // Constructor\n    public Prototype(string id)\n    {\n        this.id = id;\n    }\n\n    // Property\n    public string Id\n    {\n        get { return id; }\n    }\n\n    public abstract Prototype Clone();\n}`, `32271314069375754000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">abstract <span class="token keyword">class</span> <span class="token class-name">Prototype</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string id<span class="token punctuation">;</span>\n\n    <span class="token comment">// Constructor</span>\n    <span class="token keyword">public</span> <span class="token function">Prototype</span><span class="token punctuation">(</span>string id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment">// Property</span>\n    <span class="token keyword">public</span> string Id\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> abstract Prototype <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>具体原型类</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="58384905862171950000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class ConcretePrototype1 : Prototype\n{\n    // Constructor\n    public ConcretePrototype1(string id) : base(id)\n    {\n    }\n\n    public override Prototype Clone()\n    {\n        // Shallow copy\n        return (Prototype) new ConcretePrototype1(this.Id);\n    }\n}`, `58384905862171950000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">ConcretePrototype1</span> <span class="token operator">:</span> Prototype\n<span class="token punctuation">{</span>\n    <span class="token comment">// Constructor</span>\n    <span class="token keyword">public</span> <span class="token function">ConcretePrototype1</span><span class="token punctuation">(</span>string id<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override Prototype <span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token comment">// Shallow copy</span>\n        <span class="token keyword">return</span> <span class="token punctuation">(</span>Prototype<span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token function">ConcretePrototype1</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>客户端代码</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60293666575819380000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`static void Main(string[] args)\n{\n    Prototype p1, c1;\n\n    p1 = new ConcretePrototype1(“Design Pattern&quot;);\n\n    c1 = p1.Clone();\n\n    Console.WriteLine(&quot;Cloned: {0}&quot;, c1.Id);\n\n    Console.Read();\n}`, `60293666575819380000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Prototype p1<span class="token punctuation">,</span> c1<span class="token punctuation">;</span>\n\n    p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ConcretePrototype1</span><span class="token punctuation">(</span>“Design Pattern"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    c1 <span class="token operator">=</span> p1<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Cloned: {0}"</span><span class="token punctuation">,</span> c1<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="模式解析"><a href="#%E6%A8%A1%E5%BC%8F%E8%A7%A3%E6%9E%90" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式解析</h3>\n<ul>\n<li>对于.Net 而言，其他许多语言同理，原型抽象类 Prototype 是用不着的，因为克隆实在太常用了，所以.Net 在 System 命名空间中提供了 Icloneable 接口，其中就是一个唯一的方法 Clone()，这样，只用实现这个接口就可以完成原型模式了。</li>\n<li>另一方面，所有的 Java 类都继承自 java.lang.Object，而 Object 类提供一个 clone()方法，可以将一个 Java 对象复制一份。但是，这个 Java 类必须实现一个标识接口 Cloneable，标识这个 Java 类支持复制。</li>\n</ul>\n<p><strong>深克隆与浅克隆</strong></p>\n<p>接上例中的简历内容，给 Resume 添加一些新的内容</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="82824229296361060000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class IDInfo\n{\n    public int IdNumber;\n    public IDInfo(int IdNumber)\n    {\n        this.IdNumber = IdNumber;\n    }\n}\n//简历\nclass Resume : ICloneable\n{\n    private string name;\n    private string sex;\n    private string age;\n    private string timeArea;\n    private string company;\n    public IDInfo idinfo;\n\n    public Resume(string name)\n    {\n        this.name = name;\n        idinfo = new IDInfo(123456);\n    }\n    public void Display()\n    {\n        Console.WriteLine(&quot;尊敬的&quot; + AimCompany + &quot;公司领导，您好：&quot;);\n        Console.WriteLine(&quot;{0} {1} {2}&quot;, name, sex, age);\n        Console.WriteLine(&quot;工作经历：{0} {1}&quot;, timeArea, company);\n        Console.WriteLine(&quot;ID号码:&quot; + idinfo.IdNumber.ToString());\n        Console.WriteLine(&quot;&quot;);\n    }\n}\nstatic void Main(string[] args)\n{\n    Resume a = new Resume(“张三&quot;);\n    a.SetPersonalInfo(&quot;男&quot;, &quot;22&quot;);\n    a.SetWorkExperience(&quot;1998-2000&quot;, “XX 公司&quot;);\n    a.SetAimCompany(&quot;Google&quot;);\n\n    Resume b = (Resume)a.Clone();\n\n    a.Display();\n    b.Display();\n\n    b.SetAimCompany(“Baidu&quot;);\n    b.idinfo.IdNumber = 56789;\n\n    a.Display();\n    b.Display();\n\n    Console.Read();\n}`, `82824229296361060000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IDInfo</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">int</span> IdNumber<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">IDInfo</span><span class="token punctuation">(</span><span class="token keyword">int</span> IdNumber<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>IdNumber <span class="token operator">=</span> IdNumber<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//简历</span>\n<span class="token keyword">class</span> <span class="token class-name">Resume</span> <span class="token operator">:</span> ICloneable\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string sex<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string age<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string timeArea<span class="token punctuation">;</span>\n    <span class="token keyword">private</span> string company<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> IDInfo idinfo<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token function">Resume</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n        idinfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">IDInfo</span><span class="token punctuation">(</span><span class="token number">123456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"尊敬的"</span> <span class="token operator">+</span> AimCompany <span class="token operator">+</span> <span class="token string">"公司领导，您好："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"{0} {1} {2}"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"工作经历：{0} {1}"</span><span class="token punctuation">,</span> timeArea<span class="token punctuation">,</span> company<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"ID号码:"</span> <span class="token operator">+</span> idinfo<span class="token punctuation">.</span>IdNumber<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Resume a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Resume</span><span class="token punctuation">(</span>“张三"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetPersonalInfo</span><span class="token punctuation">(</span><span class="token string">"男"</span><span class="token punctuation">,</span> <span class="token string">"22"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetWorkExperience</span><span class="token punctuation">(</span><span class="token string">"1998-2000"</span><span class="token punctuation">,</span> “XX 公司"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    a<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Resume b <span class="token operator">=</span> <span class="token punctuation">(</span>Resume<span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">Clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    b<span class="token punctuation">.</span><span class="token function">SetAimCompany</span><span class="token punctuation">(</span>“Baidu"<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span>idinfo<span class="token punctuation">.</span>IdNumber <span class="token operator">=</span> <span class="token number">56789</span><span class="token punctuation">;</span>\n\n    a<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    b<span class="token punctuation">.</span><span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-3f6d7.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 65.36180308422301%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABY0lEQVQoz5WRTU/CQBCGF0jbpQn9sq3tbhFTiFSiiR5MTDSKET8wxoMnf4V3LyZIUGJMtKJAgKKAcPDm3R/nYI16wnUyh3dn8uw7k0GDt0a9X230r5qD6sPz5X23XHuq+J0LPxjnXad02y7BE4QflP1OqT26br7eDM5P3ytn6Oi46GWzudw8pYQQe9oydWOKFzgcFzAep4D5UHxV4lgUMRbjj0EN5QtriqISQm3bTiQSoijGYjHEEK2gjrb3NkzDdJKOoiiSJImfMYGJRCKh6A+7aKeYp9RJp11KqaZp8IUgCCxw7yUYjy1JsmVZgIEnkDzPs8K7B1up1Gwmk4GdDcNQVZVx7NB5XVU1mBkWBluM8Xf7b7iwn6fEgSvpug62sixHo1F2eNO2ieu6pmkCCdf6x84rq0ugOI773Z4QMFfI94YBWlz2QEEFscWPM9z5+OQwt+DNeelkitAZizFJ0uqNWh8TklVSu6r8UgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416130349"\n        title=""\n        src="/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-fee1c.png"\n        srcset="/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-a67b7.png 200w,\n/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-0b187.png 400w,\n/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-fee1c.png 800w,\n/static/微信截图_20180416130349-bdb0dd62f232398439a623bfd3219651-3f6d7.png 843w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>结果错误！张三的 ID 也跟着变了！</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-9b502.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 73.14095449500554%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD40lEQVQ4y0WU2U9bRxSH/WdV7UOjtsoeVVEf+tKXqm9VpSqKUhkogcRAgACmYGNsJywui5drGxvvBtsBgw1egoES4svFmD1hMZtTJa3y9cY8dKTRzDn6nW/OzDkahbR3hrhVYm33HHHnjPzOKdLuqWyfsl96R7lc5tM4vnhf8a3tnCDuniHtXVxqZVvaP2f/6Ix///mAwtyfYMK7gt0UwjUSY9q7xKR3GedwGrM1wfb+mwowHMtjG0wSkbU+S1ze+4mNLxIaX8Y+OIfgTnIuH64I9E0w2dCP05XC507h8S8R6nLgbTJhCS6xsblzCczuEm63ElRbcXkX8I4l8fgWiTYN4tK4ECYWOCqdolh1TSDVqZgvnJDJHzC3XWbdYELs1hNYOURaL8LHj0SlM4q9/bzSGEnKmox4wHzxlO3GVpYdfjzZIoeHxyieZK3oMk4ask45iw26FqN0pK1oXjqpitpYXStUMmxOB1FnhMpsTnuYXNiiJeelOyXw9KWd2oCFk6NzFJ9NK/luTs3nESXjiTW+n+riy4kabs028YWzhtfiJfBuTM3VWRU3Ek1cDzfgTW3wVaSOW7FGrkzXckdQUT7+G0W1r5eesS7uRy0IL0Qez4Rp8fbQPq7l53ELheLlG1bHArS5NLTJfmXEhSMuUR13o5Nj63x6lON2Lk7fofD3hliq0+Ka3cM3t4krc0j6D4FEiwmtv3BZlI/Q/2KHZMso82ozY+kD/LLWPfeGVyojgV4/hsBrTk7konQqA5ieRNG2T+HJ7TIwnEP/MEyfKkLD00nEze1KhppnKXQ1QZ49DGEwzuFZ2kOvSfC8PiT7Q7TqIpTOz+QrX3uO6qqRR784ELLb6HQpar8xUH/VQNVvY0jbuxVgZ+cM1bdNVF3rp70xjHNxj47aCWpuD1J1fYDGNh+l8gWKDhmgbotjtGWxzm5hCubpkX3t7XGa/0wiFrYqwO7AGo4aM5YHA2h9qwxHJfS+PKH7fRjrBFptKUqlExR6IY3LHKE2VKBz4S1dyR2G7AlGhVmahUXyUrEC7PGLBAwOgv0OeoMSz2SoMSAyox/BNhSmzZbm+BNwUOth+l493zpXuRte52agwJDKgPdRDw8t/wOr3Xl+Tb6lNXfIY88qOtdf3PNIKLNHNKXe8PtIktKxDKw25XgiB7bYV/jJs8GD0QVazDnqLSs0D89T3LpsG1W0yBWnyE3PGj8Ov6TDtswPdpEbvnW+Fl6hHJnmfVlu7EH3LJ3yp9A9GkM7NIlGXrvMU3SPRJmMZzg+OqoA16VN1P4MddZpnlun0Ntn6BPiPHKnabO/IJvO8eHDe/4D63e1u8scorAAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416131200"\n        title=""\n        src="/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-fee1c.png"\n        srcset="/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-a67b7.png 200w,\n/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-0b187.png 400w,\n/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-fee1c.png 800w,\n/static/微信截图_20180416131200-6204b2e1aefe65191743535775badbd1-9b502.png 901w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>在浅克隆中，被复制对象的所有变量都具有与原来的对象相同的值，而所有对其它对象的引用仍然指向原来的对象。换言之，浅克隆仅仅复制所考虑的对象，而不复制它所引用的对象，也就是说其中的成员对象并不复制。在浅克隆中，当对象被复制时它所包含的成员对象却没有被复制。</li>\n<li>在深克隆中，对象在复制的同时其成员对象也将复制。</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="17617643814683804000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 将代码加入Resume类中\npublic Object DeepClone()\n{\n    Resume rsm = (Resume)this.MemberwiseClone();\n    rsm.idinfo = new IDInfo(this.idinfo.IdNumber);\n    return rsm;\n}\n// 调用\nResume b = (Resume)a.DeepClone();`, `17617643814683804000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token comment">// 将代码加入Resume类中</span>\n<span class="token keyword">public</span> Object <span class="token function">DeepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Resume rsm <span class="token operator">=</span> <span class="token punctuation">(</span>Resume<span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">MemberwiseClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    rsm<span class="token punctuation">.</span>idinfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">IDInfo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>idinfo<span class="token punctuation">.</span>IdNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> rsm<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 调用</span>\nResume b <span class="token operator">=</span> <span class="token punctuation">(</span>Resume<span class="token punctuation">)</span>a<span class="token punctuation">.</span><span class="token function">DeepClone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="优缺点-3"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>当创建新的对象实例较为复杂时，使用原型模式可以简化的对象的创建过程，通过复制一个已有实例可以提高新实例的创建效率。</li>\n<li>原型模式允许动态增加或减少产品类。</li>\n<li>原型模式具有给一个应用软件动态加载新功能的能力。</li>\n<li>产品类不需要非得有任何事先确定的等级结构 。</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>原型模式的最主要缺点就是每一个类必须配备一个克隆方法。而且这个克隆方法需要对类的功能进行通盘考虑，这对全新的类来说不是很难，但对已有的类进行改造时，不一定是件容易的事。</li>\n<li>原型模式的另一个缺点是在实现深克隆时需要编写较为复杂的代码。</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用-3"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>创建新对象成本较大(CPU，初始化)。</li>\n<li>系统要保存对象的状态，对象状态变化很小。</li>\n<li>当一个类的实例只有几个不同状态组合时，建立相应数目的原型并克隆它们可能比每次用合适的状态手工实例化更为方便。</li>\n</ul>\n<h3 id="模式应用-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<p>原型模式在很多软件都可以找到它的应用，如果实例化一个类要花大量时间，原型模式是最好的解决方案。很多软件提供的复制、粘贴功能都是原型模式的应用。类型相同，但内存地址不同的对象。</p>',
excerpt:"根据其目的（模式是用来做什么的）可分为创建型(Creational)，结构型(Structural)和行为型(Behavioral…",timeToRead:21,tableOfContents:'<ul>\n<li>\n<p><a href="/design-pattern-construction/#%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F">创建型模式</a></p>\n<ul>\n<li>\n<p><a href="/design-pattern-construction/#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8Fsingleton">单例模式(Singleton)</a></p>\n<ul>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA">模式动机</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89">模式定义</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84">模式结构</a></li>\n<li><a href="/design-pattern-construction/#%E4%BC%98%E7%BC%BA%E7%82%B9">优缺点</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8">模式使用</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8">模式应用</a></li>\n<li><a href="/design-pattern-construction/#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E6%89%A9%E5%B1%95">单例模式扩展</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/design-pattern-construction/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8Ffactory-method">工厂方法模式(Factory Method)</a></p>\n<ul>\n<li><a href="/design-pattern-construction/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF">简单工厂问题背景</a></li>\n<li><a href="/design-pattern-construction/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E8%8C%83%E4%BE%8B">简单工厂范例</a></li>\n<li><a href="/design-pattern-construction/#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A6%82%E8%BF%B0">简单工厂概述</a></li>\n<li><a href="/design-pattern-construction/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF">工厂方法问题背景</a></li>\n<li><a href="/design-pattern-construction/#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A6%82%E8%BF%B0">工厂方法概述</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/design-pattern-construction/#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8Fabstract-factory">抽象工厂模式(Abstract Factory)</a></p>\n<ul>\n<li><a href="/design-pattern-construction/#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF">问题背景</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-1">模式动机</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-1">模式定义</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-1">模式结构</a></li>\n<li><a href="/design-pattern-construction/#%E4%BC%98%E7%BC%BA%E7%82%B9-1">优缺点</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-1">模式使用</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/design-pattern-construction/#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8Fbuilder">建造者模式(Builder)</a></p>\n<ul>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF">模式背景</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-2">模式动机</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-2">模式定义</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-2">模式结构</a></li>\n<li><a href="/design-pattern-construction/#%E4%BC%98%E7%BC%BA%E7%82%B9-2">优缺点</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-2">模式使用</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-1">模式应用</a></li>\n</ul>\n</li>\n<li>\n<p><a href="/design-pattern-construction/#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8Fprototype">原型模式(Prototype)</a></p>\n<ul>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF-1">模式背景</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-3">模式动机</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-3">模式定义</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-3">模式结构</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E8%A7%A3%E6%9E%90">模式解析</a></li>\n<li><a href="/design-pattern-construction/#%E4%BC%98%E7%BC%BA%E7%82%B9-3">优缺点</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-3">模式使用</a></li>\n<li><a href="/design-pattern-construction/#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-2">模式应用</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>',wordCount:{words:685},frontmatter:{date:"2018-04-19 00:03:47",path:"/design-pattern-construction/",tags:"面试, 设计模式",title:"设计模式之创建型模式",draft:null,catalog_number:null}},nextPost:{html:'<h2 id="请解释事件委托（event-delegation）"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%88event-delegation%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释事件委托（event delegation）</h2>\n<p>事件委托是将事件监听器添加到父元素，而不是每个子元素单独设置事件监听器。当触发子元素时，事件会冒泡到父元素，监听器就会触发。这种技术的好处是：</p>\n<ul>\n<li>内存占用减少，因为只需要一个父元素的事件处理程序，而不必为每个后代都添加事件处理程序。</li>\n<li>无需从已删除的元素中解绑处理程序，也无需将处理程序绑定到新元素上。</li>\n</ul>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://davidwalsh.name/event-delegate" target="_blank" rel="nofollow noreferrer noopener">https://davidwalsh.name/event-delegate</a></li>\n<li><a href="https://stackoverflow.com/questions/1687296/what-is-dom-event-delegation" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/1687296/what-is-dom-event-delegation</a></li>\n</ul>\n<h2 id="请简述-javascript-中的-this"><a href="#%E8%AF%B7%E7%AE%80%E8%BF%B0-javascript-%E4%B8%AD%E7%9A%84-this" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请简述 JavaScript 中的 this</h2>\n<p>JS 中的<code class="language-text">this</code>是一个相对复杂的概念，不是简单几句能解释清楚的。粗略地讲，函数的调用方式决定了<code class="language-text">this</code>的值。我阅读了网上很多关于<code class="language-text">this</code>的文章，<a href="https://medium.com/@arnav_aggarwal" target="_blank" rel="nofollow noreferrer noopener">Arnav Aggrawal</a> 写的比较清楚。<code class="language-text">this</code>取值符合以下规则：</p>\n<ol>\n<li>在调用函数时使用<code class="language-text">new</code>关键字，函数内的<code class="language-text">this</code>是一个全新的对象。</li>\n<li>如果<code class="language-text">apply</code>、<code class="language-text">call</code>或<code class="language-text">bind</code>方法用于调用、创建一个函数，函数内的 this 就是作为参数传入这些方法的对象。</li>\n<li>当函数作为对象里的方法被调用时，函数内的<code class="language-text">this</code>是调用该函数的对象。比如当<code class="language-text">obj.method()</code>被调用时，函数内的 this 将绑定到<code class="language-text">obj</code>对象。</li>\n<li>如果调用函数不符合上述规则，那么<code class="language-text">this</code>的值指向全局对象（global object）。浏览器环境下<code class="language-text">this</code>的值指向<code class="language-text">window</code>对象，但是在严格模式下(<code class="language-text">&#39;use strict&#39;</code>)，<code class="language-text">this</code>的值为<code class="language-text">undefined</code>。</li>\n<li>如果符合上述多个规则，则较高的规则（1 号最高，4 号最低）将决定<code class="language-text">this</code>的值。</li>\n<li>如果该函数是 ES2015 中的箭头函数，将忽略上面的所有规则，<code class="language-text">this</code>被设置为它被创建时的上下文。</li>\n</ol>\n<p>想获得更深入的解释，请查看<a href="https://codeburst.io/the-simple-rules-to-this-in-javascript-35d97f31bde3" target="_blank" rel="nofollow noreferrer noopener">他在 Medium 上的文章</a>。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://codeburst.io/the-simple-rules-to-this-in-javascript-35d97f31bde3" target="_blank" rel="nofollow noreferrer noopener">https://codeburst.io/the-simple-rules-to-this-in-javascript-35d97f31bde3</a></li>\n<li><a href="https://stackoverflow.com/a/3127440/1751946" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/a/3127440/1751946</a></li>\n</ul>\n<h2 id="请解释原型继承（prototypal-inheritance）的工作原理"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF%EF%BC%88prototypal-inheritance%EF%BC%89%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释原型继承（prototypal inheritance）的工作原理</h2>\n<p>这是一个非常常见的 JavaScript 问题。所有 JS 对象都有一个<code class="language-text">prototype</code>属性，指向它的原型对象。当试图访问一个对象的属性时，如果没有在该对象上找到，它还会搜寻该对象的原型，以及该对象的原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾。这种行为是在模拟经典的继承，<a href="https://davidwalsh.name/javascript-objects" target="_blank" rel="nofollow noreferrer noopener">但是与其说是继承，不如说是委托（delegation）</a>。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://www.quora.com/What-is-prototypal-inheritance/answer/Kyle-Simpson" target="_blank" rel="nofollow noreferrer noopener">https://www.quora.com/What-is-prototypal-inheritance/answer/Kyle-Simpson</a></li>\n<li><a href="https://davidwalsh.name/javascript-objects" target="_blank" rel="nofollow noreferrer noopener">https://davidwalsh.name/javascript-objects</a></li>\n</ul>\n<h2 id="说说你对-amd-和-commonjs-的了解"><a href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9-amd-%E5%92%8C-commonjs-%E7%9A%84%E4%BA%86%E8%A7%A3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>说说你对 AMD 和 CommonJS 的了解</h2>\n<p>它们都是实现模块体系的方式，直到 ES2015 出现之前，JavaScript 一直没有模块体系。CommonJS 是同步的，而 AMD（Asynchronous Module Definition）从全称中可以明显看出是异步的。CommonJS 的设计是为服务器端开发考虑的，而 AMD 支持异步加载模块，更适合浏览器。</p>\n<p>我发现 AMD 的语法非常冗长，CommonJS 更接近其他语言 import 声明语句的用法习惯。大多数情况下，我认为 AMD 没有使用的必要，因为如果把所有 JavaScript 都捆绑进一个文件中，将无法得到异步加载的好处。此外，CommonJS 语法上更接近 Node 编写模块的风格，在前后端都使用 JavaScript 开发之间进行切换时，语境的切换开销较小。</p>\n<p>我很高兴看到 ES2015 的模块加载方案同时支持同步和异步，我们终于可以只使用一种方案了。虽然它尚未在浏览器和 Node 中完全推出，但是我们可以使用代码转换工具进行转换。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://auth0.com/blog/javascript-module-systems-showdown/" target="_blank" rel="nofollow noreferrer noopener">https://auth0.com/blog/javascript-module-systems-showdown/</a></li>\n<li><a href="https://stackoverflow.com/questions/16521471/relation-between-commonjs-amd-and-requirejs" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/16521471/relation-between-commonjs-amd-and-requirejs</a></li>\n</ul>\n<h2 id="请解释下面代码为什么不能用作-iife：function-foo-，需要作出哪些修改才能使其成为-iife？"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E4%B8%8B%E9%9D%A2%E4%BB%A3%E7%A0%81%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E7%94%A8%E4%BD%9C-iife%EF%BC%9Afunction-foo-%EF%BC%8C%E9%9C%80%E8%A6%81%E4%BD%9C%E5%87%BA%E5%93%AA%E4%BA%9B%E4%BF%AE%E6%94%B9%E6%89%8D%E8%83%BD%E4%BD%BF%E5%85%B6%E6%88%90%E4%B8%BA-iife%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释下面代码为什么不能用作 IIFE：function foo(){ }();，需要作出哪些修改才能使其成为 IIFE？</h2>\n<p>IIFE（Immediately Invoked Function Expressions）代表立即执行函数。 JavaScript 解析器将 <code class="language-text">function foo(){ }();</code>解析成<code class="language-text">function foo(){ }</code>和<code class="language-text">();</code>。其中，前者是函数声明；后者（一对括号）是试图调用一个函数，却没有指定名称，因此它会抛出<code class="language-text">Uncaught SyntaxError: Unexpected token )</code>的错误。</p>\n<p>修改方法是：再添加一对括号，形式上有两种：<code class="language-text">(function foo(){ })()</code>和<code class="language-text">(function foo(){ }())</code>。以上函数不会暴露到全局作用域，如果不需要在函数内部引用自身，可以省略函数的名称。</p>\n<p>你可能会用到 <code class="language-text">void</code> 操作符：<code class="language-text">void function foo(){ }();</code>。但是，这种做法是有问题的。表达式的值是<code class="language-text">undefined</code>，所以如果你的 IIFE 有返回值，不要用这种做法。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="65374407445628060000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// Don\'t add JS syntax to this code block to prevent Prettier from formatting it.\nconst foo = void (function bar() {\n  return \'foo\';\n})();\n\nconsole.log(foo); // undefined`, `65374407445628060000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// Don\'t add JS syntax to this code block to prevent Prettier from formatting it.</span>\n<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token string">\'foo\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="http://lucybain.com/blog/2014/immediately-invoked-function-expression/" target="_blank" rel="nofollow noreferrer noopener">http://lucybain.com/blog/2014/immediately-invoked-function-expression/</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void</a></li>\n</ul>\n<h2 id="null、undefined-和未声明变量之间有什么区别？如何检查判断这些状态值？"><a href="#null%E3%80%81undefined-%E5%92%8C%E6%9C%AA%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F%E5%A6%82%E4%BD%95%E6%A3%80%E6%9F%A5%E5%88%A4%E6%96%AD%E8%BF%99%E4%BA%9B%E7%8A%B6%E6%80%81%E5%80%BC%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>null、undefined 和未声明变量之间有什么区别？如何检查判断这些状态值？</h2>\n<p>当你没有提前使用<code class="language-text">var</code>、<code class="language-text">let</code>或<code class="language-text">const</code>声明变量，就为一个变量赋值时，该变量是未声明变量（undeclared variables）。未声明变量会脱离当前作用域，成为全局作用域下定义的变量。在严格模式下，给未声明的变量赋值，会抛出<code class="language-text">ReferenceError</code>错误。和使用全局变量一样，使用未声明变量也是非常不好的做法，应当尽可能避免。要检查判断它们，需要将用到它们的代码放在<code class="language-text">try</code>/<code class="language-text">catch</code>语句中。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="58729043082251930000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function foo() {\n  x = 1; // 在严格模式下，抛出 ReferenceError 错误\n}\n\nfoo();\nconsole.log(x); // 1`, `58729043082251930000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 在严格模式下，抛出 ReferenceError 错误</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>当一个变量已经声明，但没有赋值时，该变量的值是<code class="language-text">undefined</code>。如果一个函数的执行结果被赋值给一个变量，但是这个函数却没有返回任何值，那么该变量的值是<code class="language-text">undefined</code>。要检查它，需要使用严格相等（<code class="language-text">===</code>）；或者使用<code class="language-text">typeof</code>，它会返回<code class="language-text">&#39;undefined&#39;</code>字符串。请注意，不能使用非严格相等（<code class="language-text">==</code>）来检查，因为如果变量值为<code class="language-text">null</code>，使用非严格相等也会返回<code class="language-text">true</code>。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="50239279083569840000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var foo;\nconsole.log(foo); // undefined\nconsole.log(foo === undefined); // true\nconsole.log(typeof foo === \'undefined\'); // true\n\nconsole.log(foo == null); // true. 错误，不要使用非严格相等！\n\nfunction bar() {}\nvar baz = bar();\nconsole.log(baz); // undefined`, `50239279083569840000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> foo<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo <span class="token operator">===</span> <span class="token string">\'undefined\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true. 错误，不要使用非严格相等！</span>\n\n<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class="language-text">null</code>只能被显式赋值给变量。它表示<code class="language-text">空值</code>，与被显式赋值 <code class="language-text">undefined</code> 的意义不同。要检查判断<code class="language-text">null</code>值，需要使用严格相等运算符。请注意，和前面一样，不能使用非严格相等（<code class="language-text">==</code>）来检查，因为如果变量值为<code class="language-text">undefined</code>，使用非严格相等也会返回<code class="language-text">true</code>。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="98142933236887290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var foo = null;\nconsole.log(foo === null); // true\n\nconsole.log(foo == undefined); // true. 错误，不要使用非严格相等！`, `98142933236887290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true. 错误，不要使用非严格相等！</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>作为一种个人习惯，我从不使用未声明变量。如果定义了暂时没有用到的变量，我会在声明后明确地给它们赋值为<code class="language-text">null</code>。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/questions/15985875/effect-of-declared-and-undeclared-variables" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/15985875/effect-of-declared-and-undeclared-variables</a></li>\n<li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/undefined</a></li>\n</ul>\n<h2 id="什么是闭包（closure），为什么使用闭包？"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85%EF%BC%88closure%EF%BC%89%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E9%97%AD%E5%8C%85%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是闭包（closure），为什么使用闭包？</h2>\n<p>闭包是函数和声明该函数的词法环境的组合。词法作用域中使用的域，是变量在代码中声明的位置所决定的。闭包是即使被外部函数返回，依然可以访问到外部（封闭）函数作用域的函数。</p>\n<p><strong>为什么使用闭包？</strong></p>\n<ul>\n<li>利用闭包实现数据私有化或模拟私有方法。这个方式也称为<a href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript" target="_blank" rel="nofollow noreferrer noopener">模块模式（module pattern）</a>。</li>\n<li><a href="https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8#.l4b6l1i3x" target="_blank" rel="nofollow noreferrer noopener">部分参数函数（partial applications）柯里化（currying）</a>.</li>\n</ul>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures</a></li>\n<li><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-closure-b2f0d2152b36" target="_blank" rel="nofollow noreferrer noopener">https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-closure-b2f0d2152b36</a></li>\n</ul>\n<h2 id="请说明foreach-循环和map循环的主要区别，它们分别在什么情况下使用？"><a href="#%E8%AF%B7%E8%AF%B4%E6%98%8Eforeach-%E5%BE%AA%E7%8E%AF%E5%92%8Cmap%E5%BE%AA%E7%8E%AF%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB%EF%BC%8C%E5%AE%83%E4%BB%AC%E5%88%86%E5%88%AB%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BD%BF%E7%94%A8%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请说明.forEach 循环和.map()循环的主要区别，它们分别在什么情况下使用？</h2>\n<p>为了理解两者的区别，我们看看它们分别是做什么的。</p>\n<p><strong><code class="language-text">forEach</code></strong></p>\n<ul>\n<li>遍历数组中的元素。</li>\n<li>为每个元素执行回调。</li>\n<li>无返回值。</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="50268340054377636000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const a = [1, 2, 3];\nconst doubled = a.forEach((num, index) => {\n  // 执行与 num、index 相关的代码\n});\n\n// doubled = undefined`, `50268340054377636000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> doubled <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// 执行与 num、index 相关的代码</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// doubled = undefined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong><code class="language-text">map</code></strong></p>\n<ul>\n<li>遍历数组中的元素</li>\n<li>通过对每个元素调用函数，将每个元素“映射（map）”到一个新元素，从而创建一个新数组。</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="71417090755576560000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const a = [1, 2, 3];\nconst doubled = a.map((num) => {\n  return num * 2;\n});\n\n// doubled = [2, 4, 6]`, `71417090755576560000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> doubled <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// doubled = [2, 4, 6]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class="language-text">.forEach</code>和<code class="language-text">.map()</code>的主要区别在于<code class="language-text">.map()</code>返回一个新的数组。如果你想得到一个结果，但不想改变原始数组，用<code class="language-text">.map()</code>。如果你只需要在数组上做迭代修改，用<code class="language-text">forEach</code>。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://codeburst.io/javascript-map-vs-foreach-f38111822c0f" target="_blank" rel="nofollow noreferrer noopener">https://codeburst.io/javascript-map-vs-foreach-f38111822c0f</a></li>\n</ul>\n<h2 id="匿名函数的典型应用场景是什么？"><a href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E7%9A%84%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>匿名函数的典型应用场景是什么？</h2>\n<p>匿名函数可以在 IIFE 中使用，来封装局部作用域内的代码，以便其声明的变量不会暴露到全局作用域。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="27267252818880426000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`(function() {\n  // 一些代码。\n})();`, `27267252818880426000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 一些代码。</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>匿名函数可以作为只用一次，不需要在其他地方使用的回调函数。当处理函数在调用它们的程序内部被定义时，代码具有更好地自闭性和可读性，可以省去寻找该处理函数的函数体位置的麻烦。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="42491643683573170"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`setTimeout(function() {\n  console.log(\'Hello world!\');\n}, 1000);`, `42491643683573170`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Hello world!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>匿名函数可以用于函数式编程或 Lodash（类似于回调函数）。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53893592485680685000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const arr = [1, 2, 3];\nconst double = arr.map(function(el) {\n  return el * 2;\n});\nconsole.log(double); // [2, 4, 6]`, `53893592485680685000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> double <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> el <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>double<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 4, 6]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://www.quora.com/What-is-a-typical-usecase-for-anonymous-functions" target="_blank" rel="nofollow noreferrer noopener">https://www.quora.com/What-is-a-typical-usecase-for-anonymous-functions</a></li>\n<li><a href="https://stackoverflow.com/questions/10273185/what-are-the-benefits-to-using-anonymous-functions-instead-of-named-functions-fo" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/10273185/what-are-the-benefits-to-using-anonymous-functions-instead-of-named-functions-fo</a></li>\n</ul>\n<h2 id="你如何组织自己的代码？（使用模块模式（module-pattern）还是经典继承（classical-inheritance）？）"><a href="#%E4%BD%A0%E5%A6%82%E4%BD%95%E7%BB%84%E7%BB%87%E8%87%AA%E5%B7%B1%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%9F%EF%BC%88%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E6%A8%A1%E5%BC%8F%EF%BC%88module-pattern%EF%BC%89%E8%BF%98%E6%98%AF%E7%BB%8F%E5%85%B8%E7%BB%A7%E6%89%BF%EF%BC%88classical-inheritance%EF%BC%89%EF%BC%9F%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你如何组织自己的代码？（使用模块模式（module pattern）还是经典继承（classical inheritance）？）</h2>\n<p>我以前使用 Backbone 组织我的模型（model），Backbone 鼓励采用面向对象的方法——创建 Backbone 模型，并为其添加方法。</p>\n<p>模块模式仍然是很好的方式，但是现在我使用基于 React/Redux 的 Flux 体系结构，它鼓励使用单向函数编程的方法。我用普通对象（plain object）表示我的 app 模型，编写实用纯函数去操作这些对象。使用动作（actions）和化简器（reducers）来处理状态，就像其他 Redux 应用一样。</p>\n<p>我尽可能避免使用经典继承。如果非要这么做，我会坚持<a href="https://medium.com/@dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4" target="_blank" rel="nofollow noreferrer noopener">这些原则</a>。</p>\n<h2 id="宿主对象（host-objects）和原生对象（native-objects）的区别是什么？"><a href="#%E5%AE%BF%E4%B8%BB%E5%AF%B9%E8%B1%A1%EF%BC%88host-objects%EF%BC%89%E5%92%8C%E5%8E%9F%E7%94%9F%E5%AF%B9%E8%B1%A1%EF%BC%88native-objects%EF%BC%89%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>宿主对象（host objects）和原生对象（native objects）的区别是什么？</h2>\n<p>原生对象是由 ECMAScript 规范定义的 JavaScript 内置对象，比如<code class="language-text">String</code>、<code class="language-text">Math</code>、<code class="language-text">RegExp</code>、<code class="language-text">Object</code>、<code class="language-text">Function</code>等等。</p>\n<p>宿主对象是由运行时环境（浏览器或 Node）提供，比如<code class="language-text">window</code>、<code class="language-text">XMLHTTPRequest</code>等等。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/questions/7614317/what-is-the-difference-between-native-objects-and-host-objects" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/7614317/what-is-the-difference-between-native-objects-and-host-objects</a></li>\n</ul>\n<h2 id="下列语句有什么区别：function-person、var-person--person和-var-person--new-person？"><a href="#%E4%B8%8B%E5%88%97%E8%AF%AD%E5%8F%A5%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9Afunction-person%E3%80%81var-person--person%E5%92%8C-var-person--new-person%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>下列语句有什么区别：function Person(){}、var person = Person()和 var person = new Person()？</h2>\n<p>这个问题问得很含糊。我猜这是在考察 JavaScript 中的构造函数（constructor）。从技术上讲，<code class="language-text">function Person(){}</code>只是一个普通的函数声明。使用 PascalCase 方式命名函数作为构造函数，是一个惯例。</p>\n<p><code class="language-text">var person = Person()</code>将<code class="language-text">Person</code>以普通函数调用，而不是构造函数。如果该函数是用作构造函数的，那么这种调用方式是一种常见错误。通常情况下，构造函数不会返回任何东西，因此，像普通函数一样调用构造函数，只会返回<code class="language-text">undefined</code>赋给用作实例的变量。</p>\n<p><code class="language-text">var person = new Person()</code>使用<code class="language-text">new</code>操作符，创建<code class="language-text">Person</code>对象的实例，该实例继承自<code class="language-text">Person.prototype</code>。另外一种方式是使用<code class="language-text">Object.create</code>，例如：Object.create(Person.prototype)`。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="90046365353647460000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Person(name) {\n  this.name = name;\n}\n\nvar person = Person(\'John\');\nconsole.log(person); // undefined\nconsole.log(person.name); // Uncaught TypeError: Cannot read property \'name\' of undefined\n\nvar person = new Person(\'John\');\nconsole.log(person); // Person { name: &quot;John&quot; }\nconsole.log(person.name); // &quot;john&quot;`, `90046365353647460000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">\'John\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: Cannot read property \'name\' of undefined</span>\n\n<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">\'John\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person { name: "John" }</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "john"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new</a></li>\n</ul>\n<h2 id="call-和apply-有什么区别？"><a href="#call-%E5%92%8Capply-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.call 和.apply 有什么区别？</h2>\n<p><code class="language-text">.call</code>和<code class="language-text">.apply</code>都用于调用函数，第一个参数将用作函数内 this 的值。然而，<code class="language-text">.call</code>接受逗号分隔的参数作为后面的参数，而<code class="language-text">.apply</code>接受一个参数数组作为后面的参数。一个简单的记忆方法是，从<code class="language-text">call</code>中的 C 联想到逗号分隔（comma-separated），从<code class="language-text">apply</code>中的 A 联想到数组（array）。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52466262477250100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function add(a, b) {\n  return a + b;\n}\n\nconsole.log(add.call(null, 1, 2)); // 3\nconsole.log(add.apply(null, [1, 2])); // 3`, `52466262477250100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="请说明-functionprototypebind-的用法。"><a href="#%E8%AF%B7%E8%AF%B4%E6%98%8E-functionprototypebind-%E7%9A%84%E7%94%A8%E6%B3%95%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请说明 Function.prototype.bind 的用法。</h2>\n<p>摘自<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" target="_blank" rel="nofollow noreferrer noopener">MDN</a>：</p>\n<blockquote>\n<p><code class="language-text">bind()</code>方法创建一个新的函数, 当被调用时，将其 this 关键字设置为提供的值，在调用新函数时，在任何提供之前提供一个给定的参数序列。</p>\n</blockquote>\n<p>根据我的经验，将<code class="language-text">this</code>的值绑定到想要传递给其他函数的类的方法中是非常有用的。在 React 组件中经常这样做。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind</a></li>\n</ul>\n<h2 id="什么时候会用到-documentwrite？"><a href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E7%94%A8%E5%88%B0-documentwrite%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么时候会用到 document.write()？</h2>\n<p><code class="language-text">document.write()</code>用来将一串文本写入由<code class="language-text">document.open()</code>打开的文档流中。当页面加载后执行<code class="language-text">document.write()</code>时，它将调用<code class="language-text">document.open</code>，会清除整个文档（<code class="language-text">&lt;head&gt;</code>和<code class="language-text">&lt;body&gt;</code>会被移除！），并将文档内容替换成给定的字符串参数。因此它通常被认为是危险的并且容易被误用。</p>\n<p>网上有一些答案，解释了<code class="language-text">document.write()</code>被用于分析代码中，或者<a href="https://www.quirksmode.org/blog/archives/2005/06/three_javascrip_1.html" target="_blank" rel="nofollow noreferrer noopener">当你想包含只有在启用了 JavaScript 的情况下才能工作的样式</a>。它甚至在 HTML5 样板代码中用于<a href="https://github.com/paulirish/html5-boilerplate/wiki/Script-Loading-Techniques#documentwrite-script-tag" target="_blank" rel="nofollow noreferrer noopener">并行加载脚本并保持执行顺序</a>！但是，我怀疑这些使用原因是过时的，现在可以在不使用<code class="language-text">document.write()</code>的情况下实现。如果我的观点有错，请纠正我。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://www.quirksmode.org/blog/archives/2005/06/three_javascrip_1.html" target="_blank" rel="nofollow noreferrer noopener">https://www.quirksmode.org/blog/archives/2005/06/three<em>javascrip</em>1.html</a></li>\n<li><a href="https://github.com/h5bp/html5-boilerplate/wiki/Script-Loading-Techniques#documentwrite-script-tag" target="_blank" rel="nofollow noreferrer noopener">https://github.com/h5bp/html5-boilerplate/wiki/Script-Loading-Techniques#documentwrite-script-tag</a></li>\n</ul>\n<h2 id="功能检测（feature-detection）、功能推断（feature-inference）和使用-ua-字符串之间有什么区别？"><a href="#%E5%8A%9F%E8%83%BD%E6%A3%80%E6%B5%8B%EF%BC%88feature-detection%EF%BC%89%E3%80%81%E5%8A%9F%E8%83%BD%E6%8E%A8%E6%96%AD%EF%BC%88feature-inference%EF%BC%89%E5%92%8C%E4%BD%BF%E7%94%A8-ua-%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>功能检测（feature detection）、功能推断（feature inference）和使用 UA 字符串之间有什么区别？</h2>\n<p><strong>功能检测（feature detection）</strong></p>\n<p>功能检测包括确定浏览器是否支持某段代码，以及是否运行不同的代码（取决于它是否执行），以便浏览器始终能够正常运行代码功能，而不会在某些浏览器中出现崩溃和错误。例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25955180647872790000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`if (\'geolocation\' in navigator) {\n  // 可以使用 navigator.geolocation\n} else {\n  // 处理 navigator.geolocation 功能缺失\n}`, `25955180647872790000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">\'geolocation\'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 可以使用 navigator.geolocation</span>\n<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 处理 navigator.geolocation 功能缺失</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href="https://modernizr.com/" target="_blank" rel="nofollow noreferrer noopener">Modernizr</a>是处理功能检测的优秀工具。</p>\n<p><strong>功能推断（feature inference）</strong></p>\n<p>功能推断与功能检测一样，会对功能可用性进行检查，但是在判断通过后，还会使用其他功能，因为它假设其他功能也可用，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="43858841867353630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`if (document.getElementsByTagName) {\n  element = document.getElementById(id);\n}`, `43858841867353630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>getElementsByTagName<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>非常不推荐这种方式。功能检测更能保证万无一失。</p>\n<p><strong>UA 字符串</strong></p>\n<p>这是一个浏览器报告的字符串，它允许网络协议对等方（network protocol peers）识别请求用户代理的应用类型、操作系统、应用供应商和应用版本。它可以通过<code class="language-text">navigator.userAgent</code>访问。 然而，这个字符串很难解析并且很可能存在欺骗性。例如，Chrome 会同时作为 Chrome 和 Safari 进行报告。因此，要检测 Safari，除了检查 Safari 字符串，还要检查是否存在 Chrome 字符串。不要使用这种方式。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Learn/Tools<em>and</em>testing/Cross<em>browser</em>testing/Feature_detection</a></li>\n<li><a href="https://stackoverflow.com/questions/20104930/whats-the-difference-between-feature-detection-feature-inference-and-using-th" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/20104930/whats-the-difference-between-feature-detection-feature-inference-and-using-th</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser<em>detection</em>using<em>the</em>user_agent</a></li>\n</ul>\n<h2 id="请尽可能详细地解释-ajax。"><a href="#%E8%AF%B7%E5%B0%BD%E5%8F%AF%E8%83%BD%E8%AF%A6%E7%BB%86%E5%9C%B0%E8%A7%A3%E9%87%8A-ajax%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请尽可能详细地解释 Ajax。</h2>\n<p>Ajax（asynchronous JavaScript and XML）是使用客户端上的许多 Web 技术，创建异步 Web 应用的一种 Web 开发技术。借助 Ajax，Web 应用可以异步（在后台）向服务器发送数据和从服务器检索数据，而不会干扰现有页面的显示和行为。通过将数据交换层与表示层分离，Ajax 允许网页和扩展 Web 应用程序动态更改内容，而无需重新加载整个页面。实际上，现在通常将 JSON 替换为 XML，因为 JavaScript 对 JSON 有原生支持优势。</p>\n<p><code class="language-text">XMLHttpRequest</code> API 经常用于异步通信。此外还有最近流行的<code class="language-text">fetch</code> API。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://en.wikipedia.org/wiki/Ajax_(programming)" target="_blank" rel="nofollow noreferrer noopener">https://en.wikipedia.org/wiki/Ajax_(programming)</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/AJAX" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/AJAX</a></li>\n</ul>\n<h2 id="使用-ajax-的优缺点分别是什么？"><a href="#%E4%BD%BF%E7%94%A8-ajax-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用 Ajax 的优缺点分别是什么？</h2>\n<p><strong>优点</strong></p>\n<ul>\n<li>交互性更好。来自服务器的新内容可以动态更改，无需重新加载整个页面。</li>\n<li>减少与服务器的连接，因为脚本和样式只需要被请求一次。</li>\n<li>状态可以维护在一个页面上。JavaScript 变量和 DOM 状态将得到保持，因为主容器页面未被重新加载。</li>\n<li>基本上包括大部分 SPA 的优点。</li>\n</ul>\n<p><strong>缺点</strong></p>\n<ul>\n<li>动态网页很难收藏。</li>\n<li>如果 JavaScript 已在浏览器中被禁用，则不起作用。</li>\n<li>有些网络爬虫不执行 JavaScript，也不会看到 JavaScript 加载的内容。</li>\n<li>基本上包括大部分 SPA 的缺点。</li>\n</ul>\n<h2 id="请说明-jsonp-的工作原理，它为什么不是真正的-ajax？"><a href="#%E8%AF%B7%E8%AF%B4%E6%98%8E-jsonp-%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%EF%BC%8C%E5%AE%83%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AF%E7%9C%9F%E6%AD%A3%E7%9A%84-ajax%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请说明 JSONP 的工作原理，它为什么不是真正的 Ajax？</h2>\n<p>JSONP（带填充的 JSON）是一种通常用于绕过 Web 浏览器中的跨域限制的方法，因为 Ajax 不允许跨域请求。</p>\n<p>JSONP 通过<code class="language-text">&lt;script&gt;</code>标签发送跨域请求，通常使用<code class="language-text">callback</code>查询参数，例如：<code class="language-text">https://example.com?callback=printData</code>。 然后服务器将数据包装在一个名为<code class="language-text">printData</code>的函数中并将其返回给客户端。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="36942389062004556000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<!-- https://mydomain.com -->\n<script>\n  function printData(data) {\n    console.log(\\`My name is \\${data.name}!\\`);\n  }\n</script>\n\n<script src=&quot;https://example.com?callback=printData&quot;></script>`, `36942389062004556000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                html 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="html"><pre style="counter-reset: linenumber NaN" class="language-html line-numbers"><code class="language-html"><span class="token comment">&lt;!-- https://mydomain.com --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n  <span class="token keyword">function</span> <span class="token function">printData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://example.com?callback=printData<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="24803390528488014000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 文件加载自 https://example.com?callback=printData\nprintData({ name: \'Yang Shun\' });`, `24803390528488014000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 文件加载自 https://example.com?callback=printData</span>\n<span class="token function">printData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'Yang Shun\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>\n<p>客户端必须在其全局范围内具有<code class="language-text">printData</code>函数，并且在收到来自跨域的响应时，该函数将由客户端执行。</p>\n<p>JSONP 可能具有一些安全隐患。由于 JSONP 是纯 JavaScript 实现，它可以完成 JavaScript 所能做的一切，因此需要信任 JSONP 数据的提供者。</p>\n<p>现如今，<a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_blank" rel="nofollow noreferrer noopener">跨来源资源共享（CORS）</a> 是推荐的主流方式，JSONP 已被视为一种比较 hack 的方式。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/a/2067584/1751946" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/a/2067584/1751946</a></li>\n</ul>\n<h2 id="你使用过-javascript-模板吗？用过什么相关的库？"><a href="#%E4%BD%A0%E4%BD%BF%E7%94%A8%E8%BF%87-javascript-%E6%A8%A1%E6%9D%BF%E5%90%97%EF%BC%9F%E7%94%A8%E8%BF%87%E4%BB%80%E4%B9%88%E7%9B%B8%E5%85%B3%E7%9A%84%E5%BA%93%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你使用过 JavaScript 模板吗？用过什么相关的库？</h2>\n<p>使用过。Handlebars、Underscore、Lodash、AngularJS 和 JSX。我不喜欢 AngularJS 中的模板，因为它在指令中大量使用了字符串，并且书写错误会被忽略。JSX 是我的新宠，因为它更接近 JavaScript，几乎没有什么学习成本。现在，可以使用 ES2015 模板字符串快速创建模板，而不需依赖第三方代码。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="23353077824936250000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const template = \\`<div>My name is: \\${name}</div>\\`;`, `23353077824936250000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div>My name is: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>但是，请注意上述方法中可能存在的 XSS，因为内容不会被转义，与模板库不同。</p>\n<h2 id="请解释变量提升（hosting）。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%88hosting%EF%BC%89%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释变量提升（hosting）。</h2>\n<p>变量提升（hoisting）是用于解释代码中变量声明行为的术语。使用<code class="language-text">var</code>关键字声明或初始化的变量，会将声明语句“提升”到当前作用域的顶部。 但是，只有声明才会触发提升，赋值语句（如果有的话）将保持原样。我们用几个例子来解释一下。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="29551855284908536000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 用 var 声明得到提升\nconsole.log(foo); // undefined\nvar foo = 1;\nconsole.log(foo); // 1\n\n// 用 let/const 声明不会提升\nconsole.log(bar); // ReferenceError: bar is not defined\nlet bar = 2;\nconsole.log(bar); // 2`, `29551855284908536000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 用 var 声明得到提升</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\n<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\n\n<span class="token comment">// 用 let/const 声明不会提升</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: bar is not defined</span>\n<span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>函数声明会使函数体提升，但函数表达式（以声明变量的形式书写）只有变量声明会被提升。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="91763790949615480000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 函数声明\nconsole.log(foo); // [Function: foo]\nfoo(); // \'FOOOOO\'\nfunction foo() {\n  console.log(\'FOOOOO\');\n}\nconsole.log(foo); // [Function: foo]\n\n// 函数表达式\nconsole.log(bar); // undefined\nbar(); // Uncaught TypeError: bar is not a function\nvar bar = function() {\n  console.log(\'BARRRR\');\n};\nconsole.log(bar); // [Function: bar]`, `91763790949615480000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 函数声明</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: foo]</span>\n<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \'FOOOOO\'</span>\n<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'FOOOOO\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: foo]</span>\n\n<span class="token comment">// 函数表达式</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\n<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: bar is not a function</span>\n<span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'BARRRR\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: bar]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="请描述事件冒泡。"><a href="#%E8%AF%B7%E6%8F%8F%E8%BF%B0%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请描述事件冒泡。</h2>\n<p>当一个事件在 DOM 元素上触发时，如果有事件监听器，它将尝试处理该事件，然后事件冒泡到其父级元素，并发生同样的事情。最后直到事件到达祖先元素。事件冒泡是实现事件委托的原理（event delegation）。</p>\n<h2 id="attribute-和-property-之间有什么区别？"><a href="#attribute-%E5%92%8C-property-%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>attribute 和 property 之间有什么区别？</h2>\n<p>“Attribute” 是在 HTML 中定义的，而 “property” 是在 DOM 上定义的。为了说明区别，假设我们在 HTML 中有一个文本框：<code class="language-text">&lt;input type=&quot;text&quot; value=&quot;Hello&quot;&gt;</code>。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="26850493333273140000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const input = document.querySelector(\'input\');\nconsole.log(input.getAttribute(\'value\')); // Hello\nconsole.log(input.value); // Hello`, `26850493333273140000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'input\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">\'value\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>但是在文本框中键入“ World!”后:</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="97918812982476440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`console.log(input.getAttribute(\'value\')); // Hello\nconsole.log(input.value); // Hello World!`, `97918812982476440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">\'value\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello World!</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/questions/6003819/properties-and-attributes-in-html" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/6003819/properties-and-attributes-in-html</a></li>\n</ul>\n<h2 id="为什么扩展-javascript-内置对象是不好的做法？"><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%89%A9%E5%B1%95-javascript-%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E6%98%AF%E4%B8%8D%E5%A5%BD%E7%9A%84%E5%81%9A%E6%B3%95%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>为什么扩展 JavaScript 内置对象是不好的做法？</h2>\n<p>扩展 JavaScript 内置（原生）对象意味着将属性或方法添加到其<code class="language-text">prototype</code>中。虽然听起来很不错，但事实上这样做很危险。想象一下，你的代码使用了一些库，它们通过添加相同的 contains 方法来扩展<code class="language-text">Array.prototype</code>，如果这两个方法的行为不相同，那么这些实现将会相互覆盖，你的代码将不能正常运行。</p>\n<p>扩展内置对象的唯一使用场景是创建 polyfill，本质上为老版本浏览器缺失的方法提供自己的实现，该方法是由 JavaScript 规范定义的。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="http://lucybain.com/blog/2014/js-extending-built-in-objects/" target="_blank" rel="nofollow noreferrer noopener">http://lucybain.com/blog/2014/js-extending-built-in-objects/</a></li>\n</ul>\n<h2 id="document-中的-load-事件和-domcontentloaded-事件之间的区别是什么？"><a href="#document-%E4%B8%AD%E7%9A%84-load-%E4%BA%8B%E4%BB%B6%E5%92%8C-domcontentloaded-%E4%BA%8B%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>document 中的 load 事件和 DOMContentLoaded 事件之间的区别是什么？</h2>\n<p>当初始的 HTML 文档被完全加载和解析完成之后，<code class="language-text">DOMContentLoaded</code>事件被触发，而无需等待样式表、图像和子框架的完成加载。</p>\n<p><code class="language-text">window</code>的<code class="language-text">load</code>事件仅在 DOM 和所有相关资源全部完成加载后才会触发。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/Events/load" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/Events/load</a></li>\n</ul>\n<h2 id="-和--的区别是什么？"><a href="#-%E5%92%8C--%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>== 和 === 的区别是什么？</h2>\n<p><code class="language-text">==</code>是抽象相等运算符，而<code class="language-text">===</code>是严格相等运算符。<code class="language-text">==</code>运算符是在进行必要的类型转换后，再比较。<code class="language-text">===</code>运算符不会进行类型转换，所以如果两个值不是相同的类型，会直接返回<code class="language-text">false</code>。使用<code class="language-text">==</code>时，可能发生一些特别的事情，例如：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="71126639789497580000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`1 == \'1\'; // true\n1 == [1]; // true\n1 == true; // true\n0 == \'\'; // true\n0 == \'0\'; // true\n0 == false; // true`, `71126639789497580000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token number">1</span> <span class="token operator">==</span> <span class="token string">\'1\'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token number">1</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token number">1</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token number">0</span> <span class="token operator">==</span> <span class="token string">\'\'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token number">0</span> <span class="token operator">==</span> <span class="token string">\'0\'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n<span class="token number">0</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我的建议是从不使用<code class="language-text">==</code>运算符，除了方便与<code class="language-text">null</code>或<code class="language-text">undefined</code>比较时，<code class="language-text">a == null</code>如果<code class="language-text">a</code>为<code class="language-text">null</code>或<code class="language-text">undefined</code>将返回<code class="language-text">true</code>。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="77021412984910970000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var a = null;\nconsole.log(a == null); // true\nconsole.log(a == undefined); // true`, `77021412984910970000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/questions/359494/which-equals-operator-vs-should-be-used-in-javascript-comparisons" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/359494/which-equals-operator-vs-should-be-used-in-javascript-comparisons</a></li>\n</ul>\n<h2 id="请解释关于-javascript-的同源策略。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%85%B3%E4%BA%8E-javascript-%E7%9A%84%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释关于 JavaScript 的同源策略。</h2>\n<p>同源策略可防止 JavaScript 发起跨域请求。源被定义为 URI、主机名和端口号的组合。此策略可防止页面上的恶意脚本通过该页面的文档对象模型，访问另一个网页上的敏感数据。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://en.wikipedia.org/wiki/Same-origin_policy" target="_blank" rel="nofollow noreferrer noopener">https://en.wikipedia.org/wiki/Same-origin_policy</a></li>\n</ul>\n<h2 id="请使下面的语句生效："><a href="#%E8%AF%B7%E4%BD%BF%E4%B8%8B%E9%9D%A2%E7%9A%84%E8%AF%AD%E5%8F%A5%E7%94%9F%E6%95%88%EF%BC%9A" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请使下面的语句生效：</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60469038235060494000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`duplicate([1, 2, 3, 4, 5]); // [1,2,3,4,5,1,2,3,4,5]`, `60469038235060494000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">duplicate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4,5,1,2,3,4,5]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="74116088308565670000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function duplicate(arr) {\n  return arr.concat(arr);\n}\n\nduplicate([1, 2, 3, 4, 5]); // [1,2,3,4,5,1,2,3,4,5]`, `74116088308565670000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">duplicate</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token function">duplicate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4,5,1,2,3,4,5]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="请说明三元表达式中三元这个词代表什么？"><a href="#%E8%AF%B7%E8%AF%B4%E6%98%8E%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%AD%E4%B8%89%E5%85%83%E8%BF%99%E4%B8%AA%E8%AF%8D%E4%BB%A3%E8%A1%A8%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请说明三元表达式中“三元”这个词代表什么？</h2>\n<p>“三元”表示接受三个操作数：判断条件，<code class="language-text">then</code>表达式和<code class="language-text">else</code>表达式。三元表达式不是 JavaScript 特有的，我不知道这个问题为什么会出现在这里。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator</a></li>\n</ul>\n<h2 id="什么是use-strict？使用它有什么优缺点？"><a href="#%E4%BB%80%E4%B9%88%E6%98%AFuse-strict%EF%BC%9F%E4%BD%BF%E7%94%A8%E5%AE%83%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是”use strict”;？使用它有什么优缺点？</h2>\n<p>‘use strict’ 是用于对整个脚本或单个函数启用严格模式的语句。严格模式是可选择的一个限制 JavaScript 的变体一种方式 。</p>\n<p><strong>优点：</strong></p>\n<ul>\n<li>无法再意外创建全局变量。</li>\n<li>会使引起静默失败（silently fail，即：不报错也没有任何效果）的赋值操抛出异常。</li>\n<li>试图删除不可删除的属性时会抛出异常（之前这种操作不会产生任何效果）。</li>\n<li>要求函数的参数名唯一。</li>\n<li>全局作用域下，<code class="language-text">this</code>的值为<code class="language-text">undefined</code>。</li>\n<li>捕获了一些常见的编码错误，并抛出异常。</li>\n<li>禁用令人困惑或欠佳的功能。</li>\n</ul>\n<p><strong>缺点：</strong></p>\n<ul>\n<li>缺失许多开发人员已经习惯的功能。</li>\n<li>无法访问<code class="language-text">function.caller</code>和<code class="language-text">function.arguments</code>。</li>\n<li>以不同严格模式编写的脚本合并后可能导致问题。</li>\n</ul>\n<p>总的来说，我认为利大于弊，我从来不使用严格模式禁用的功能，因此我推荐使用严格模式。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="http://2ality.com/2011/10/strict-mode-hatred.html" target="_blank" rel="nofollow noreferrer noopener">http://2ality.com/2011/10/strict-mode-hatred.html</a></li>\n<li><a href="http://lucybain.com/blog/2014/js-use-strict/" target="_blank" rel="nofollow noreferrer noopener">http://lucybain.com/blog/2014/js-use-strict/</a></li>\n</ul>\n<h2 id="创建一个循环，从-1-迭代到-100，3-的倍数时输出-fizz，5-的倍数时输出-buzz，同时为-3-和-5-的倍数时输出-fizzbuzz。"><a href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%BE%AA%E7%8E%AF%EF%BC%8C%E4%BB%8E-1-%E8%BF%AD%E4%BB%A3%E5%88%B0-100%EF%BC%8C3-%E7%9A%84%E5%80%8D%E6%95%B0%E6%97%B6%E8%BE%93%E5%87%BA-fizz%EF%BC%8C5-%E7%9A%84%E5%80%8D%E6%95%B0%E6%97%B6%E8%BE%93%E5%87%BA-buzz%EF%BC%8C%E5%90%8C%E6%97%B6%E4%B8%BA-3-%E5%92%8C-5-%E7%9A%84%E5%80%8D%E6%95%B0%E6%97%B6%E8%BE%93%E5%87%BA-fizzbuzz%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建一个循环，从 1 迭代到 100，3 的倍数时输出 “fizz”，5 的倍数时输出 “buzz”，同时为 3 和 5 的倍数时输出 “fizzbuzz”。</h2>\n<p>来自 <a href="https://gist.github.com/jaysonrowe/1592432#gistcomment-790724" target="_blank" rel="nofollow noreferrer noopener">Paul Irish</a>的 FizzBuzz。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25170104297692066000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`for (let i = 1; i <= 100; i++) {\n  let f = i % 3 == 0,\n    b = i % 5 == 0;\n  console.log(f ? (b ? \'FizzBuzz\' : \'Fizz\') : b ? \'Buzz\' : i);\n}`, `25170104297692066000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> f <span class="token operator">=</span> i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    b <span class="token operator">=</span> i <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f <span class="token operator">?</span> <span class="token punctuation">(</span>b <span class="token operator">?</span> <span class="token string">\'FizzBuzz\'</span> <span class="token punctuation">:</span> <span class="token string">\'Fizz\'</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> b <span class="token operator">?</span> <span class="token string">\'Buzz\'</span> <span class="token punctuation">:</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>我不建议你在面试时写上面的代码。只要写得清晰即可。关于更多千奇百怪的 FizzBuzz 实现，请查看下面的参考链接。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://gist.github.com/jaysonrowe/1592432" target="_blank" rel="nofollow noreferrer noopener">https://gist.github.com/jaysonrowe/1592432</a></li>\n</ul>\n<h2 id="为什么不要使用全局作用域？"><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>为什么不要使用全局作用域？</h2>\n<p>每个脚本都可以访问全局作用域，如果人人都使用全局命名空间来定义自己的变量，肯定会发生冲突。使用模块模式（IIFE）将变量封装在本地命名空间中。</p>\n<h2 id="为什么要使用-load-事件？这个事件有什么缺点吗？你知道一些代替方案吗，为什么使用它们？"><a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8-load-%E4%BA%8B%E4%BB%B6%EF%BC%9F%E8%BF%99%E4%B8%AA%E4%BA%8B%E4%BB%B6%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9%E5%90%97%EF%BC%9F%E4%BD%A0%E7%9F%A5%E9%81%93%E4%B8%80%E4%BA%9B%E4%BB%A3%E6%9B%BF%E6%96%B9%E6%A1%88%E5%90%97%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%AE%83%E4%BB%AC%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>为什么要使用 load 事件？这个事件有什么缺点吗？你知道一些代替方案吗，为什么使用它们？</h2>\n<p>在文档装载完成后会触发<code class="language-text">load</code>事件。此时，在文档中的所有对象都在 DOM 中，所有图像、脚本、链接和子框架都完成了加载。</p>\n<p>DOM 事件<code class="language-text">DOMContentLoaded</code>将在页面的 DOM 构建完成后触发，但不要等待其他资源完成加载。如果在初始化之前不需要装入整个页面，这个事件是使用首选。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onload" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onload</a></li>\n</ul>\n<h2 id="请解释单页应用是什么，如何使其对-seo-友好。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%8D%95%E9%A1%B5%E5%BA%94%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BD%BF%E5%85%B6%E5%AF%B9-seo-%E5%8F%8B%E5%A5%BD%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释单页应用是什么，如何使其对 SEO 友好。</h2>\n<p>以下摘自 <a href="https://github.com/grab/front-end-guide" target="_blank" rel="nofollow noreferrer noopener">Grab Front End Guide</a>，碰巧的是，这正是我自己写的！</p>\n<p>现如今，Web 开发人员将他们构建的产品称为 Web 应用，而不是网站。虽然这两个术语之间没有严格的区别，但网络应用往往具有高度的交互性和动态性，允许用户执行操作并接收他们的操作响应。在过去，浏览器从服务器接收 HTML 并渲染。当用户导航到其它 URL 时，需要整页刷新，服务器会为新页面发送新的 HTML。这被称为服务器端渲染。</p>\n<p>然而，在现代的 SPA 中，客户端渲染取而代之。浏览器从服务器加载初始页面、整个应用程序所需的脚本（框架、库、应用代码）和样式表。当用户导航到其他页面时，不会触发页面刷新。该页面的 URL 通过 <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" target="_blank" rel="nofollow noreferrer noopener">HTML5 History API</a> 进行更新。浏览器通过 <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" target="_blank" rel="nofollow noreferrer noopener">AJAX</a> 请求向服务器检索新页面所需的数据（通常采用 JSON 格式）。然后，SPA 通过 JavaScript 来动态更新页面，这些 JavaScript 在初始页面加载时已经下载。这种模式类似于原生移动应用的工作方式。</p>\n<p><strong>好处：</strong></p>\n<ul>\n<li>用户感知响应更快，用户切换页面时，不再看到因页面刷新而导致的白屏。</li>\n<li>对服务器进行的 HTTP 请求减少，因为对于每个页面加载，不必再次下载相同的资源。</li>\n<li>客户端和服务器之间的关注点分离。可以为不同平台（例如手机、聊天机器人、智能手表）建立新的客户端，而无需修改服务器代码。只要 API 没有修改，可以单独修改客户端和服务器上的代码。</li>\n</ul>\n<p><strong>坏处：</strong></p>\n<ul>\n<li>由于加载了多个页面所需的框架、应用代码和资源，导致初始页面加载时间较长。</li>\n<li>服务器还需要进行额外的工作，需要将所有请求路由配置到单个入口点，然后由客户端接管路由。</li>\n<li>SPA 依赖于 JavaScript 来呈现内容，但并非所有搜索引擎都在抓取过程中执行 JavaScript，他们可能会在你的页面上看到空的内容。这无意中损害了应用的搜索引擎优化（SEO）。然而，当你构建应用时，大多数情况下，搜索引擎优化并不是最重要的因素，因为并非所有内容都需要通过搜索引擎进行索引。为了解决这个问题，可以在服务器端渲染你的应用，或者使用诸如 <a href="https://prerender.io/" target="_blank" rel="nofollow noreferrer noopener">Prerender</a> 的服务来“在浏览器中呈现你的 javascript，保存静态 HTML，并将其返回给爬虫”。</li>\n</ul>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://github.com/grab/front-end-guide#single-page-apps-spas" target="_blank" rel="nofollow noreferrer noopener">https://github.com/grab/front-end-guide#single-page-apps-spas</a></li>\n<li><a href="http://stackoverflow.com/questions/21862054/single-page-app-advantages-and-disadvantages" target="_blank" rel="nofollow noreferrer noopener">http://stackoverflow.com/questions/21862054/single-page-app-advantages-and-disadvantages</a></li>\n<li><a href="http://blog.isquaredsoftware.com/presentations/2016-10-revolution-of-web-dev/" target="_blank" rel="nofollow noreferrer noopener">http://blog.isquaredsoftware.com/presentations/2016-10-revolution-of-web-dev/</a></li>\n<li><a href="https://medium.freecodecamp.com/heres-why-client-side-rendering-won-46a349fadb52" target="_blank" rel="nofollow noreferrer noopener">https://medium.freecodecamp.com/heres-why-client-side-rendering-won-46a349fadb52</a></li>\n</ul>\n<h2 id="你对-promises-及其-polyfill-的掌握程度如何？"><a href="#%E4%BD%A0%E5%AF%B9-promises-%E5%8F%8A%E5%85%B6-polyfill-%E7%9A%84%E6%8E%8C%E6%8F%A1%E7%A8%8B%E5%BA%A6%E5%A6%82%E4%BD%95%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你对 Promises 及其 polyfill 的掌握程度如何？</h2>\n<p>掌握它的工作原理。<code class="language-text">Promise</code>是一个可能在未来某个时间产生结果的对象：操作成功的结果或失败的原因（例如发生网络错误）。 <code class="language-text">Promise</code>可能处于以下三种状态之一：fulfilled、rejected 或 pending。 用户可以对<code class="language-text">Promise</code>添加回调函数来处理操作成功的结果或失败的原因。</p>\n<p>一些常见的 polyfill 是<code class="language-text">$.deferred</code>、Q 和 Bluebird，但不是所有的 polyfill 都符合规范。ES2015 支持 Promises，现在通常不需要使用 polyfills。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-promise-27fc71e77261" target="_blank" rel="nofollow noreferrer noopener">https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-promise-27fc71e77261</a></li>\n</ul>\n<h2 id="promise-代替回调函数有什么优缺点？"><a href="#promise-%E4%BB%A3%E6%9B%BF%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Promise 代替回调函数有什么优缺点？</h2>\n<p><strong>优点：</strong></p>\n<ul>\n<li>避免可读性极差的回调地狱。</li>\n<li>使用<code class="language-text">.then()</code>编写的顺序异步代码，既简单又易读。</li>\n<li>使用<code class="language-text">Promise.all()</code>编写并行异步代码变得很容易。</li>\n</ul>\n<p><strong>缺点：</strong></p>\n<ul>\n<li>轻微地增加了代码的复杂度（这点存在争议）。</li>\n<li>在不支持 ES2015 的旧版浏览器中，需要引入 polyfill 才能使用。</li>\n</ul>\n<h2 id="用转译成-javascript-的语言写-javascript-有什么优缺点？"><a href="#%E7%94%A8%E8%BD%AC%E8%AF%91%E6%88%90-javascript-%E7%9A%84%E8%AF%AD%E8%A8%80%E5%86%99-javascript-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用转译成 JavaScript 的语言写 JavaScript 有什么优缺点？</h2>\n<p>Some examples of languages that compile to JavaScript include CoffeeScript, Elm, ClojureScript, PureScript and TypeScript. 这些是转译成 JavaScript 的语言，包括 CoffeeScript、Elm、ClojureScript、PureScript 和 TypeScript。</p>\n<p><strong>优点：</strong></p>\n<ul>\n<li>修复了 JavaScript 中的一些长期问题，并摒弃了 JavaScript 不好的做法。</li>\n<li>在 JavaScript 的基础上提供一些语法糖，使我们能够编写更短的代码，我认为 ES5 缺乏语法糖的支持，但 ES2015 非常好。</li>\n<li>对于需要长时间维护的大型项目，静态类型非常好用（针对 TypeScript）。</li>\n</ul>\n<p><strong>缺点：</strong></p>\n<ul>\n<li>由于浏览器只运行 JavaScript，所以需要构建、编译过程，在将代码提供给浏览器之前，需要将代码转译为 JavaScript。</li>\n<li>如果 source map 不能很好地映射到预编译的源代码，调试会很痛苦。</li>\n<li>大多数开发人员不熟悉这些语言，需要学习它。如果将其用于项目，会增加团队成本。</li>\n<li>社区比较小（取决于语言），这意味着资源、教程、图书和工具难以找到。</li>\n<li>可能缺乏 IDE（编辑器）的支持。</li>\n<li>这些语言将始终落后于最新的 JavaScript 标准。</li>\n<li>开发人员应该清楚代码正在被编译到什么地方——因为这是实际运行的内容，是最重要的。</li>\n</ul>\n<p>实际上，ES2015 已经大大改进了 JavaScript，编写体验很好。我现在还没有真正看到对 CoffeeScript 的需求。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://softwareengineering.stackexchange.com/questions/72569/what-are-the-pros-and-cons-of-coffeescript" target="_blank" rel="nofollow noreferrer noopener">https://softwareengineering.stackexchange.com/questions/72569/what-are-the-pros-and-cons-of-coffeescript</a></li>\n</ul>\n<h2 id="你使用什么工具和技巧调试-javascript-代码？"><a href="#%E4%BD%A0%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E5%B7%A5%E5%85%B7%E5%92%8C%E6%8A%80%E5%B7%A7%E8%B0%83%E8%AF%95-javascript-%E4%BB%A3%E7%A0%81%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你使用什么工具和技巧调试 JavaScript 代码？</h2>\n<ul>\n<li>\n<p>React 和 Redux</p>\n<ul>\n<li><a href="https://github.com/facebook/react-devtools" target="_blank" rel="nofollow noreferrer noopener">React Devtools</a></li>\n<li><a href="https://github.com/gaearon/redux-devtools" target="_blank" rel="nofollow noreferrer noopener">Redux Devtools</a></li>\n</ul>\n</li>\n<li>\n<p>Vue</p>\n<ul>\n<li><a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="nofollow noreferrer noopener">Vue Devtools</a></li>\n</ul>\n</li>\n<li>\n<p>JavaScript</p>\n<ul>\n<li><a href="https://hackernoon.com/twelve-fancy-chrome-devtools-tips-dc1e39d10d9d" target="_blank" rel="nofollow noreferrer noopener">Chrome Devtools</a></li>\n<li><code class="language-text">debugger</code>声明</li>\n<li>使用万金油<code class="language-text">console.log</code>进行调试</li>\n</ul>\n</li>\n</ul>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://hackernoon.com/twelve-fancy-chrome-devtools-tips-dc1e39d10d9d" target="_blank" rel="nofollow noreferrer noopener">https://hackernoon.com/twelve-fancy-chrome-devtools-tips-dc1e39d10d9d</a></li>\n<li><a href="https://raygun.com/blog/javascript-debugging/" target="_blank" rel="nofollow noreferrer noopener">https://raygun.com/blog/javascript-debugging/</a></li>\n</ul>\n<h2 id="你使用什么语句遍历对象的属性和数组的元素？"><a href="#%E4%BD%A0%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E8%AF%AD%E5%8F%A5%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你使用什么语句遍历对象的属性和数组的元素？</h2>\n<p><strong>对象：</strong></p>\n<ul>\n<li><code class="language-text">for</code>循环：<code class="language-text">for (var property in obj) { console.log(property); }</code>。但是，这还会遍历到它的继承属性，在使用之前，你需要加入<code class="language-text">obj.hasOwnProperty(property)</code>检查。</li>\n<li><code class="language-text">Object.keys()</code>：<code class="language-text">Object.keys(obj).forEach(function (property) { ... })</code>。<code class="language-text">Object.keys()</code>方法会返回一个由一个给定对象的自身可枚举属性组成的数组。</li>\n<li><code class="language-text">Object.getOwnPropertyNames()</code>：<code class="language-text">Object.getOwnPropertyNames(obj).forEach(function (property) { ... })</code>。<code class="language-text">Object.getOwnPropertyNames()</code>方法返回一个由指定对象的所有自身属性的属性名（包括不可枚举属性但不包括 Symbol 值作为名称的属性）组成的数组。</li>\n</ul>\n<p><strong>数组：</strong></p>\n<ul>\n<li><code class="language-text">for</code> loops：<code class="language-text">for (var i = 0; i &lt; arr.length; i++)</code>。这里的常见错误是<code class="language-text">var</code>是函数作用域而不是块级作用域，大多数时候你想要迭代变量在块级作用域中。ES2015 引入了具有块级作用域的<code class="language-text">let</code>，建议使用它。所以就变成了：<code class="language-text">for (let i = 0; i &lt; arr.length; i++)</code>。</li>\n<li><code class="language-text">forEach</code>：<code class="language-text">arr.forEach(function (el, index) { ... })</code>。这个语句结构有时会更精简，因为如果你所需要的只是数组元素，你不必使用<code class="language-text">index</code>。还有<code class="language-text">every</code>和<code class="language-text">some</code>方法可以让你提前终止遍历。</li>\n</ul>\n<p>大多数情况下，我更喜欢<code class="language-text">.forEach</code>方法，但这取决于你想要做什么。<code class="language-text">for</code>循环有更强的灵活性，比如使用<code class="language-text">break</code>提前终止循环，或者递增步数大于一。</p>\n<h2 id="请解释可变对象和不可变对象之间的区别。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E5%92%8C%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释可变对象和不可变对象之间的区别。</h2>\n<ul>\n<li>什么是 JavaScript 中的不可变对象的例子？</li>\n<li>不变性有什么优点和缺点？</li>\n<li>你如何在自己的代码中实现不变性？</li>\n</ul>\n<p><strong><em>可变对象</em></strong> 在创建之后是可以被改变的。</p>\n<p><strong><em>不可变对象</em></strong> 在创建之后是不可以被改变的。</p>\n<ol>\n<li>在 <code class="language-text">JavaScript</code> 中，<code class="language-text">string</code> 和 <code class="language-text">number</code> 从设计之初就是不可变(Immutable)。</li>\n<li><strong><em>不可变</em></strong> 其实是保持一个对象状态不变，这样做的好处是使得开发更加简单，可回溯，测试友好，减少了任何可能的副作用。但是，每当你想添加点东西到一个不可变(Immutable)对象里时，它一定是先拷贝已存在的值到新实例里，然后再给新实例添加内容，最后返回新实例。相比可变对象，这势必会有更多内存、计算量消耗。</li>\n<li>比如：构造一个纯函数</li>\n</ol>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="65548614690024020000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const student1 = {\n  school: \'Baidu\',\n  name: \'HOU Ce\',\n  birthdate: \'1995-12-15\'\n};\n\nconst changeStudent = (student, newName, newBday) => {\n  return {\n    ...student, // 使用解构\n    name: newName, // 覆盖name属性\n    birthdate: newBday // 覆盖birthdate属性\n  };\n};\n\nconst student2 = changeStudent(student1, \'YAN Haijing\', \'1990-11-10\');\n\n// both students will have the name properties\nconsole.log(student1, student2);\n// Object {school: &quot;Baidu&quot;, name: &quot;HOU Ce&quot;, birthdate: &quot;1995-12-15&quot;}\n// Object {school: &quot;Baidu&quot;, name: &quot;YAN Haijing&quot;, birthdate: &quot;1990-11-10&quot;}`, `65548614690024020000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> student1 <span class="token operator">=</span> <span class="token punctuation">{</span>\n  school<span class="token punctuation">:</span> <span class="token string">\'Baidu\'</span><span class="token punctuation">,</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'HOU Ce\'</span><span class="token punctuation">,</span>\n  birthdate<span class="token punctuation">:</span> <span class="token string">\'1995-12-15\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">changeStudent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">student<span class="token punctuation">,</span> newName<span class="token punctuation">,</span> newBday</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    <span class="token operator">...</span>student<span class="token punctuation">,</span> <span class="token comment">// 使用解构</span>\n    name<span class="token punctuation">:</span> newName<span class="token punctuation">,</span> <span class="token comment">// 覆盖name属性</span>\n    birthdate<span class="token punctuation">:</span> newBday <span class="token comment">// 覆盖birthdate属性</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> student2 <span class="token operator">=</span> <span class="token function">changeStudent</span><span class="token punctuation">(</span>student1<span class="token punctuation">,</span> <span class="token string">\'YAN Haijing\'</span><span class="token punctuation">,</span> <span class="token string">\'1990-11-10\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// both students will have the name properties</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student1<span class="token punctuation">,</span> student2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// Object {school: "Baidu", name: "HOU Ce", birthdate: "1995-12-15"}</span>\n<span class="token comment">// Object {school: "Baidu", name: "YAN Haijing", birthdate: "1990-11-10"}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://juejin.im/post/58d0ff6f1b69e6006b8fd4e9" target="_blank" rel="nofollow noreferrer noopener">https://juejin.im/post/58d0ff6f1b69e6006b8fd4e9</a></li>\n<li><a href="https://www.interviewcake.com/concept/java/mutable" target="_blank" rel="nofollow noreferrer noopener">https://www.interviewcake.com/concept/java/mutable</a></li>\n<li><a href="https://www.sitepoint.com/immutability-javascript/" target="_blank" rel="nofollow noreferrer noopener">https://www.sitepoint.com/immutability-javascript/</a></li>\n</ul>\n<h2 id="请解释同步和异步函数之间的区别。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5%E5%87%BD%E6%95%B0%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释同步和异步函数之间的区别。</h2>\n<p>同步函数阻塞，而异步函数不阻塞。在同步函数中，语句完成后，下一句才执行。在这种情况下，程序可以按照语句的顺序进行精确评估，如果其中一个语句需要很长时间，程序的执行会停滞很长时间。</p>\n<p>异步函数通常接受回调作为参数，在调用异步函数后立即继续执行下一行。回调函数仅在异步操作完成且调用堆栈为空时调用。诸如从 Web 服务器加载数据或查询数据库等重负载操作应该异步完成，以便主线程可以继续执行其他操作，而不会出现一直阻塞，直到费时操作完成的情况（在浏览器中，界面会卡住）。</p>\n<h2 id="什么是事件循环？调用堆栈和任务队列之间有什么区别？"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%EF%BC%9F%E8%B0%83%E7%94%A8%E5%A0%86%E6%A0%88%E5%92%8C%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么是事件循环？调用堆栈和任务队列之间有什么区别？</h2>\n<p>事件循环是一个单线程循环，用于监视调用堆栈并检查是否有工作即将在任务队列中完成。如果调用堆栈为空并且任务队列中有回调函数，则将回调函数出队并推送到调用堆栈中执行。</p>\n<p>如果你没有看过 Philip Robert <a href="https://2014.jsconf.eu/speakers/philip-roberts-what-the-heck-is-the-event-loop-anyway.html" target="_blank" rel="nofollow noreferrer noopener">关于事件循环的演讲</a>，你应该看一下。这是观看次数最多的 JavaScript 相关视频之一。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://2014.jsconf.eu/speakers/philip-roberts-what-the-heck-is-the-event-loop-anyway.html" target="_blank" rel="nofollow noreferrer noopener">https://2014.jsconf.eu/speakers/philip-roberts-what-the-heck-is-the-event-loop-anyway.html</a></li>\n<li><a href="http://theproactiveprogrammer.com/javascript/the-javascript-event-loop-a-stack-and-a-queue/" target="_blank" rel="nofollow noreferrer noopener">http://theproactiveprogrammer.com/javascript/the-javascript-event-loop-a-stack-and-a-queue/</a></li>\n</ul>\n<h2 id="请解释-function-foo-和-var-foo--function-之间-foo-的用法上的区别。"><a href="#%E8%AF%B7%E8%A7%A3%E9%87%8A-function-foo-%E5%92%8C-var-foo--function-%E4%B9%8B%E9%97%B4-foo-%E7%9A%84%E7%94%A8%E6%B3%95%E4%B8%8A%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请解释 function foo() {}和 var foo = function() {}之间 foo 的用法上的区别。</h2>\n<p>前者是函数声明，后者是函数表达式。关键的区别在于函数声明会使函数体提升（具有与变量相同的提升行为），但函数表达式的函数体不能。有关变量提升的更多解释，请参阅上面关于变量提升的问题。如果你试图在定义函数表达式之前调用它，你会得到一个<code class="language-text">Uncaught TypeError: XXX is not a function</code>的错误。</p>\n<p><strong>函数声明</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="73820523492559440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`foo(); // \'FOOOOO\'\nfunction foo() {\n  console.log(\'FOOOOO\');\n}`, `73820523492559440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \'FOOOOO\'</span>\n<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'FOOOOO\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>函数表达式</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="54348558511774850000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`foo(); // Uncaught TypeError: foo is not a function\nvar foo = function() {\n  console.log(\'FOOOOO\');\n};`, `54348558511774850000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught TypeError: foo is not a function</span>\n<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'FOOOOO\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function</a></li>\n</ul>\n<h2 id="使用-let、var-和-const-创建变量有什么区别？"><a href="#%E4%BD%BF%E7%94%A8-let%E3%80%81var-%E5%92%8C-const-%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用 let、var 和 const 创建变量有什么区别？</h2>\n<p>用<code class="language-text">var</code>声明的变量的作用域是它当前的执行上下文，它可以是嵌套的函数，也可以是声明在任何函数外的变量。<code class="language-text">let</code>和<code class="language-text">const</code>是块级作用域，意味着它们只能在最近的一组花括号（function、if-else 代码块或 for 循环中）中访问。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="97106144692884600000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function foo() {\n  // 所有变量在函数中都可访问\n  var bar = \'bar\';\n  let baz = \'baz\';\n  const qux = \'qux\';\n\n  console.log(bar); // bar\n  console.log(baz); // baz\n  console.log(qux); // qux\n}\n\nconsole.log(bar); // ReferenceError: bar is not defined\nconsole.log(baz); // ReferenceError: baz is not defined\nconsole.log(qux); // ReferenceError: qux is not defined`, `97106144692884600000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 所有变量在函数中都可访问</span>\n  <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token string">\'baz\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> qux <span class="token operator">=</span> <span class="token string">\'qux\'</span><span class="token punctuation">;</span>\n\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// baz</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>qux<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// qux</span>\n<span class="token punctuation">}</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: bar is not defined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: baz is not defined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>qux<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: qux is not defined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="84167610641977440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`if (true) {\n  var bar = \'bar\';\n  let baz = \'baz\';\n  const qux = \'qux\';\n}\n\n// 用 var 声明的变量在函数作用域上都可访问\nconsole.log(bar); // bar\n// let 和 const 定义的变量在它们被定义的语句块之外不可访问\nconsole.log(baz); // ReferenceError: baz is not defined\nconsole.log(qux); // ReferenceError: qux is not defined`, `84167610641977440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token string">\'baz\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> qux <span class="token operator">=</span> <span class="token string">\'qux\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 用 var 声明的变量在函数作用域上都可访问</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span>\n<span class="token comment">// let 和 const 定义的变量在它们被定义的语句块之外不可访问</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: baz is not defined</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>qux<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: qux is not defined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class="language-text">var</code>会使变量提升，这意味着变量可以在声明之前使用。<code class="language-text">let</code>和<code class="language-text">const</code>不会使变量提升，提前使用会报错。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="82799162940586740000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`console.log(foo); // undefined\n\nvar foo = \'foo\';\n\nconsole.log(baz); // ReferenceError: can\'t access lexical declaration \'baz\' before initialization\n\nlet baz = \'baz\';\n\nconsole.log(bar); // ReferenceError: can\'t access lexical declaration \'bar\' before initialization\n\nconst bar = \'bar\';`, `82799162940586740000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>\n\n<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">\'foo\'</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: can\'t access lexical declaration \'baz\' before initialization</span>\n\n<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token string">\'baz\'</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: can\'t access lexical declaration \'bar\' before initialization</span>\n\n<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>用<code class="language-text">var</code>重复声明不会报错，但<code class="language-text">let</code>和<code class="language-text">const</code>会。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="43139811602420105000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var foo = \'foo\';\nvar foo = \'bar\';\nconsole.log(foo); // &quot;bar&quot;\n\nlet baz = \'baz\';\nlet baz = \'qux\'; // Uncaught SyntaxError: Identifier \'baz\' has already been declared`, `43139811602420105000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">\'foo\'</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "bar"</span>\n\n<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token string">\'baz\'</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token string">\'qux\'</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught SyntaxError: Identifier \'baz\' has already been declared</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class="language-text">let</code>和<code class="language-text">const</code>的区别在于：<code class="language-text">let</code>允许多次赋值，而<code class="language-text">const</code>只允许一次。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="48204748560878084000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 这样不会报错。\nlet foo = \'foo\';\nfoo = \'bar\';\n\n// 这样会报错。\nconst baz = \'baz\';\nbaz = \'qux\';`, `48204748560878084000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 这样不会报错。</span>\n<span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token string">\'foo\'</span><span class="token punctuation">;</span>\nfoo <span class="token operator">=</span> <span class="token string">\'bar\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 这样会报错。</span>\n<span class="token keyword">const</span> baz <span class="token operator">=</span> <span class="token string">\'baz\'</span><span class="token punctuation">;</span>\nbaz <span class="token operator">=</span> <span class="token string">\'qux\'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const</a></li>\n</ul>\n<h2 id="es6-的类和-es5-的构造函数有什么区别？"><a href="#es6-%E7%9A%84%E7%B1%BB%E5%92%8C-es5-%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ES6 的类和 ES5 的构造函数有什么区别？</h2>\n<ul>\n<li>ES5 的构造函数的原型上的属性和方法可以遍历，ES6 不能够遍历</li>\n<li>ES6 的类必须通过 new 调用，构造函数则可以不用</li>\n<li>类不存在变量提升</li>\n<li>ES6 的类没有私有方法和私有属性（正在提议中）</li>\n<li>class 多了一个静态方法（static），里面的 this 指向的是类本身，静态方法可以被子类继承</li>\n<li>ES6 的静态属性和静态方法</li>\n<li>ES6 类多了一个 new Target 可以判定 new 的构造函数</li>\n</ul>\n<h2 id="你能给出一个使用箭头函数的例子吗，箭头函数与其他函数有什么不同？"><a href="#%E4%BD%A0%E8%83%BD%E7%BB%99%E5%87%BA%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E4%BE%8B%E5%AD%90%E5%90%97%EF%BC%8C%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8E%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你能给出一个使用箭头函数的例子吗，箭头函数与其他函数有什么不同？</h2>\n<ol>\n<li>\n<p>定义对象方法</p>\n<ul>\n<li>定义字面量方法 <strong>错误情况：</strong></li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85790302645455630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const calculator = {\n  array: [1, 2, 3],\n  sum: () => {\n    console.log(this === window); // => true\n    return this.array.reduce((result, item) => result + item);\n  }\n};\n\nconsole.log(this === window); // => true\n\n// Throws &quot;TypeError: Cannot read property \'reduce\' of undefined&quot;\ncalculator.sum();`, `85790302645455630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> calculator <span class="token operator">=</span> <span class="token punctuation">{</span>\n  array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token function-variable function">sum</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> result <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n\n<span class="token comment">// Throws "TypeError: Cannot read property \'reduce\' of undefined"</span>\ncalculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p> <strong>修正情况</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32881423871776326000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const calculator = {\n  array: [1, 2, 3],\n  sum() {\n    console.log(this === calculator); // => true\n    return this.array.reduce((result, item) => result + item);\n  }\n};\ncalculator.sum(); // => 6`, `32881423871776326000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> calculator <span class="token operator">=</span> <span class="token punctuation">{</span>\n  array<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> calculator<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> result <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\ncalculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>定义原型方法 <strong>错误情况：</strong></li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="18196503295165512000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Cat(name) {\n  this.name = name;\n}\n\nCat.prototype.sayCatName = () => {\n  console.log(this === window); // => true\n  return this.name;\n};\n\nconst cat = new Cat(\'Mew\');\ncat.sayCatName(); // => undefined`, `18196503295165512000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayCatName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">\'Mew\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\ncat<span class="token punctuation">.</span><span class="token function">sayCatName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => undefined</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p> <strong>修正情况</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47376828099687730000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Cat(name) {\n  this.name = name;\n}\n\nCat.prototype.sayCatName = function() {\n  console.log(this === cat); // => true\n  return this.name;\n};\n\nconst cat = new Cat(\'Mew\');\ncat.sayCatName(); // => \'Mew\'`, `47376828099687730000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayCatName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> cat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">\'Mew\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\ncat<span class="token punctuation">.</span><span class="token function">sayCatName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => \'Mew\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>定义事件回调函数 <strong>错误情况：</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47940395386935640000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const button = document.getElementById(\'myButton\');\nbutton.addEventListener(\'click\', () => {\n console.log(this === window); // => true\n this.innerHTML = \'Clicked button\';\n});`, `47940395386935640000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'myButton\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nbutton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'Clicked button\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>修正情况</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="65686372758608820000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const button = document.getElementById(\'myButton\');\nbutton.addEventListener(\'click\', function() {\n console.log(this === button); // => true\n this.innerHTML = \'Clicked button\';\n});`, `65686372758608820000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'myButton\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nbutton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => true</span>\n <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'Clicked button\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>定义构造函数 <strong>错误情况：</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13545513417022902000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const Message = (text) => {\n this.text = text;\n};\n// Throws &quot;TypeError: Message is not a constructor&quot;\nconst helloMessage = new Message(\'Hello World!\');`, `13545513417022902000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// Throws "TypeError: Message is not a constructor"</span>\n<span class="token keyword">const</span> helloMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token string">\'Hello World!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>修正情况</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="15792723574197676000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const Message = function(text) {\n this.text = text;\n};\nconst helloMessage = new Message(\'Hello World!\');\nconsole.log(helloMessage.text); // => \'Hello World!\'`, `15792723574197676000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">Message</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n <span class="token keyword">this</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> helloMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token string">\'Hello World!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>helloMessage<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => \'Hello World!\'</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>追求过短的代码 <strong>不建议情况：</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="80485851171710750000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const multiply = (a, b) => (b === undefined ? (b) => a * b : a * b);\nconst double = multiply(2);\ndouble(3); // => 6\nmultiply(2, 3); // => 6`, `80485851171710750000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">*</span> b <span class="token punctuation">:</span> a <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6</span>\n<span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>建议情况</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="91997305683577540000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function multiply(a, b) {\n if (b === undefined) {\n   return function(b) {\n     return a * b;\n   };\n }\n return a * b;\n}\n\nconst double = multiply(2);\ndouble(3); // => 6\nmultiply(2, 3); // => 6`, `91997305683577540000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n     <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>\n   <span class="token punctuation">}</span><span class="token punctuation">;</span>\n <span class="token punctuation">}</span>\n <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> double <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">double</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6</span>\n<span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 6</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>总结：在箭头函数中，this 被设置为它被创建时的上下文，不会改变。</p>\n</li>\n</ol>\n<h2 id="在构造函数中使用箭头函数有什么好处？"><a href="#%E5%9C%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>在构造函数中使用箭头函数有什么好处？</h2>\n<p>箭头函数固然好用，但是不能用于构造函数，即不能被 new 一下</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55552869111287450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`///使用function方法定义构造函数\nfunction per(){\n    this.name=\'aaa\';\n    this.sex=\'man\'\n};\nvar ming=new per();\nconsole.log(ming); /// {name: &quot;aaa&quot;, sex: &quot;man&quot;}\n\n\n///使用箭头函数定义构造函数\nvar per=>{\n    this.name=\'bbb\';\n    this.sex=\'women\';\n};\nvar gang=new per();\n///运行便会报错：Uncaught TypeError: per is not a constructor`, `55552869111287450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">///使用function方法定义构造函数</span>\n<span class="token keyword">function</span> <span class="token function">per</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">\'aaa\'</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span><span class="token string">\'man\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> ming<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">per</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ming<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/// {name: "aaa", sex: "man"}</span>\n\n\n<span class="token comment">///使用箭头函数定义构造函数</span>\n<span class="token keyword">var</span> <span class="token parameter">per</span><span class="token operator">=></span><span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">\'bbb\'</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>sex<span class="token operator">=</span><span class="token string">\'women\'</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> gang<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">per</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">///运行便会报错：Uncaught TypeError: per is not a constructor</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="高阶函数（higher-order）的定义是什么？"><a href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%EF%BC%88higher-order%EF%BC%89%E7%9A%84%E5%AE%9A%E4%B9%89%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>高阶函数（higher-order）的定义是什么？</h2>\n<p>高阶函数是将一个或多个函数作为参数的函数，它用于数据处理，也可能将函数作为返回结果。高阶函数是为了抽象一些重复执行的操作。一个典型的例子是<code class="language-text">map</code>，它将一个数组和一个函数作为参数。<code class="language-text">map</code>使用这个函数来转换数组中的每个元素，并返回一个包含转换后元素的新数组。JavaScript 中的其他常见示例是<code class="language-text">forEach</code>、<code class="language-text">filter</code>和<code class="language-text">reduce</code>。高阶函数不仅需要操作数组的时候会用到，还有许多函数返回新函数的用例，<code class="language-text">Function.prototype.bind</code>就是一个例子。</p>\n<p><strong>Map 示例：</strong></p>\n<p>假设我们有一个由名字组成的数组，我们需要将每个字符转换为大写字母。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="39130529252624190000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const names = [\'irish\', \'daisy\', \'anna\'];`, `39130529252624190000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'irish\'</span><span class="token punctuation">,</span> <span class="token string">\'daisy\'</span><span class="token punctuation">,</span> <span class="token string">\'anna\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>不使用高阶函数的方法是这样：</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="42563976150041800000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const transformNamesToUppercase = function(names) {\n  const results = [];\n  for (let i = 0; i < names.length; i++) {\n    results.push(names[i].toUpperCase());\n  }\n  return results;\n};\ntransformNamesToUppercase(names); // [\'IRISH\', \'DAISY\', \'ANNA\']`, `42563976150041800000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">transformNamesToUppercase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> names<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> results<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">transformNamesToUppercase</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [\'IRISH\', \'DAISY\', \'ANNA\']</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>使用<code class="language-text">.map(transformerFn)</code>使代码更简明</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="51109986501825946000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const transformNamesToUppercase = function(names) {\n  return names.map((name) => name.toUpperCase());\n};\ntransformNamesToUppercase(names); // [\'IRISH\', \'DAISY\', \'ANNA\']`, `51109986501825946000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">transformNamesToUppercase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">names</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token function">transformNamesToUppercase</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [\'IRISH\', \'DAISY\', \'ANNA\']</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://medium.com/javascript-scene/higher-order-functions-composing-software-5365cf2cbe99" target="_blank" rel="nofollow noreferrer noopener">https://medium.com/javascript-scene/higher-order-functions-composing-software-5365cf2cbe99</a></li>\n<li><a href="https://hackernoon.com/effective-functional-javascript-first-class-and-higher-order-functions-713fde8df50a" target="_blank" rel="nofollow noreferrer noopener">https://hackernoon.com/effective-functional-javascript-first-class-and-higher-order-functions-713fde8df50a</a></li>\n<li><a href="https://eloquentjavascript.net/05_higher_order.html" target="_blank" rel="nofollow noreferrer noopener">https://eloquentjavascript.net/05<em>higher</em>order.html</a></li>\n</ul>\n<h2 id="请给出一个解构（destructuring）对象或数组的例子。"><a href="#%E8%AF%B7%E7%BB%99%E5%87%BA%E4%B8%80%E4%B8%AA%E8%A7%A3%E6%9E%84%EF%BC%88destructuring%EF%BC%89%E5%AF%B9%E8%B1%A1%E6%88%96%E6%95%B0%E7%BB%84%E7%9A%84%E4%BE%8B%E5%AD%90%E3%80%82" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>请给出一个解构（destructuring）对象或数组的例子。</h2>\n<p>解构是 ES6 中新功能，它提供了一种简洁方便的方法来提取对象或数组的值，并将它们放入不同的变量中。</p>\n<p><strong>数组解构</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76987902118199440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 变量赋值\nconst foo = [\'one\', \'two\', \'three\'];\n\nconst [one, two, three] = foo;\nconsole.log(one); // &quot;one&quot;\nconsole.log(two); // &quot;two&quot;\nconsole.log(three); // &quot;three&quot;`, `76987902118199440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 变量赋值</span>\n<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">\'one\'</span><span class="token punctuation">,</span> <span class="token string">\'two\'</span><span class="token punctuation">,</span> <span class="token string">\'three\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">]</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "one"</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>two<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "two"</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>three<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "three"</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="21671796309479840000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 变量交换\nlet a = 1;\nlet b = 3;\n\n[a, b] = [b, a];\nconsole.log(a); // 3\nconsole.log(b); // 1`, `21671796309479840000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 变量交换</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>\n\n<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>对象解构</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68915132877101470000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 变量赋值\nconst o = { p: 42, q: true };\nconst { p, q } = o;\n\nconsole.log(p); // 42\nconsole.log(q); // true`, `68915132877101470000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 变量赋值</span>\n<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> p<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span> q<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> p<span class="token punctuation">,</span> q <span class="token punctuation">}</span> <span class="token operator">=</span> o<span class="token punctuation">;</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></li>\n<li><a href="https://ponyfoo.com/articles/es6-destructuring-in-depth" target="_blank" rel="nofollow noreferrer noopener">https://ponyfoo.com/articles/es6-destructuring-in-depth</a></li>\n</ul>\n<h2 id="es6-的模板字符串为生成字符串提供了很大的灵活性，你可以举个例子吗？"><a href="#es6-%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%94%9F%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%90%E4%BE%9B%E4%BA%86%E5%BE%88%E5%A4%A7%E7%9A%84%E7%81%B5%E6%B4%BB%E6%80%A7%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90%E5%90%97%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ES6 的模板字符串为生成字符串提供了很大的灵活性，你可以举个例子吗？</h2>\n<p><strong><em>模板字面量</em></strong>（Template literals） 是允许嵌入表达式的字符串字面量。你可以使用多行字符串和字符串插值功能。</p>\n<p><strong>语法</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25187419162992230000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`\\`string text\\`\\`string text line 1\n string text line 2\\`\\`string text \\${expression} string text\\`;\n\ntag\\`string text \\${expression} string text\\`;`, `25187419162992230000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1\n string text line 2</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expression<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> string text</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n\ntag<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expression<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> string text</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>示例</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="56279039408727360000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`console.log(\\`string text line 1\nstring text line 2\\`);\n// &quot;string text line 1\n// string text line 2&quot;\n\nvar a = 5;\nvar b = 10;\nconsole.log(\\`Fifteen is \\${a + b} and\\nnot \\${2 * a + b}.\\`);\n// &quot;Fifteen is 15 and\n// not 20.&quot;`, `56279039408727360000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">string text line 1\nstring text line 2</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// "string text line 1</span>\n<span class="token comment">// string text line 2"</span>\n\n<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Fifteen is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>a <span class="token operator">+</span> b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> and\\nnot </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">2</span> <span class="token operator">*</span> a <span class="token operator">+</span> b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// "Fifteen is 15 and</span>\n<span class="token comment">// not 20."</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4964567827817046000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`//show函数采用rest参数的写法如下：\nlet name = \'张三\',\n  age = 20,\n  message = show\\`我来给大家介绍:\\${name}的年龄是\\${age}.\\`;\n\nfunction show(stringArr, ...values) {\n  let output = \'\';\n\n  let index = 0;\n\n  for (; index < values.length; index++) {\n    output += stringArr[index] + values[index];\n  }\n\n  output += stringArr[index];\n\n  return output;\n}\n\nmessage; //&quot;我来给大家介绍:张三的年龄是20.&quot;`, `4964567827817046000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">//show函数采用rest参数的写法如下：</span>\n<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">\'张三\'</span><span class="token punctuation">,</span>\n  age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>\n  message <span class="token operator">=</span> show<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">我来给大家介绍:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">stringArr<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> values<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    output <span class="token operator">+=</span> stringArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  output <span class="token operator">+=</span> stringArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> output<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nmessage<span class="token punctuation">;</span> <span class="token comment">//"我来给大家介绍:张三的年龄是20."</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings</a></li>\n</ul>\n<h2 id="你能举出一个柯里化函数（curry-function）的例子吗？它有哪些好处？"><a href="#%E4%BD%A0%E8%83%BD%E4%B8%BE%E5%87%BA%E4%B8%80%E4%B8%AA%E6%9F%AF%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0%EF%BC%88curry-function%EF%BC%89%E7%9A%84%E4%BE%8B%E5%AD%90%E5%90%97%EF%BC%9F%E5%AE%83%E6%9C%89%E5%93%AA%E4%BA%9B%E5%A5%BD%E5%A4%84%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>你能举出一个柯里化函数（curry function）的例子吗？它有哪些好处？</h2>\n<p>柯里化（currying）是一种模式，其中具有多个参数的函数被分解为多个函数，当被串联调用时，将一次一个地累积所有需要的参数。这种技术帮助编写函数式风格的代码，使代码更易读、紧凑。值得注意的是，对于需要被 curry 的函数，它需要从一个函数开始，然后分解成一系列函数，每个函数都需要一个参数。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67737302931201460000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function curry(fn) {\n  if (fn.length === 0) {\n    return fn;\n  }\n\n  function _curried(depth, args) {\n    return function(newArgument) {\n      if (depth - 1 === 0) {\n        return fn(...args, newArgument);\n      }\n      return _curried(depth - 1, [...args, newArgument]);\n    };\n  }\n\n  return _curried(fn.length, []);\n}\n\nfunction add(a, b) {\n  return a + b;\n}\n\nvar curriedAdd = curry(add);\nvar addFive = curriedAdd(5);\n\nvar result = [0, 1, 2, 3, 4, 5].map(addFive); // [5, 6, 7, 8, 9, 10]`, `67737302931201460000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>fn<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> fn<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">function</span> <span class="token function">_curried</span><span class="token punctuation">(</span><span class="token parameter">depth<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newArgument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>depth <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> newArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">return</span> <span class="token function">_curried</span><span class="token punctuation">(</span>depth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">,</span> newArgument<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token function">_curried</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> addFive <span class="token operator">=</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>addFive<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [5, 6, 7, 8, 9, 10]</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://hackernoon.com/currying-in-js-d9ddc64f162e" target="_blank" rel="nofollow noreferrer noopener">https://hackernoon.com/currying-in-js-d9ddc64f162e</a></li>\n</ul>\n<h2 id="使用扩展运算符（spread）的好处是什么，它与使用剩余参数语句（rest）有什么区别？"><a href="#%E4%BD%BF%E7%94%A8%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88spread%EF%BC%89%E7%9A%84%E5%A5%BD%E5%A4%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E5%AE%83%E4%B8%8E%E4%BD%BF%E7%94%A8%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0%E8%AF%AD%E5%8F%A5%EF%BC%88rest%EF%BC%89%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>使用扩展运算符（spread）的好处是什么，它与使用剩余参数语句（rest）有什么区别？</h2>\n<p>在函数泛型编码时，ES6 的扩展运算符非常有用，因为我们可以轻松创建数组和对象的拷贝，而无需使用<code class="language-text">Object.create</code>、<code class="language-text">slice</code>或其他函数库。这个语言特性在 Redux 和 rx.js 的项目中经常用到。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47802570204361980000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function putDookieInAnyArray(arr) {\n  return [...arr, \'dookie\'];\n}\n\nconst result = putDookieInAnyArray([\'I\', \'really\', &quot;don\'t&quot;, \'like\']); // [&quot;I&quot;, &quot;really&quot;, &quot;don\'t&quot;, &quot;like&quot;, &quot;dookie&quot;]\n\nconst person = {\n  name: \'Todd\',\n  age: 29\n};\n\nconst copyOfTodd = { ...person };`, `47802570204361980000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">putDookieInAnyArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">,</span> <span class="token string">\'dookie\'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">putDookieInAnyArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">\'I\'</span><span class="token punctuation">,</span> <span class="token string">\'really\'</span><span class="token punctuation">,</span> <span class="token string">"don\'t"</span><span class="token punctuation">,</span> <span class="token string">\'like\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["I", "really", "don\'t", "like", "dookie"]</span>\n\n<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> <span class="token string">\'Todd\'</span><span class="token punctuation">,</span>\n  age<span class="token punctuation">:</span> <span class="token number">29</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> copyOfTodd <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>person <span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ES6 的剩余参数语句提供了一个简写，允许我们将不定数量的参数表示为一个数组。它就像是扩展运算符语法的反面，将数据收集到数组中，而不是解构数组。剩余参数语句在函数参数、数组和对象的解构赋值中有很大作用。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="33179837705697636000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function addFiveToABunchOfNumbers(...numbers) {\n  return numbers.map((x) => x + 5);\n}\n\nconst result = addFiveToABunchOfNumbers(4, 5, 6, 7, 8, 9, 10); // [9, 10, 11, 12, 13, 14, 15]\n\nconst [a, b, ...rest] = [1, 2, 3, 4]; // a: 1, b: 2, rest: [3, 4]\n\nconst { e, f, ...others } = {\n  e: 1,\n  f: 2,\n  g: 3,\n  h: 4\n}; // e: 1, f: 2, others: { g: 3, h: 4 }`, `33179837705697636000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">addFiveToABunchOfNumbers</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> x <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">addFiveToABunchOfNumbers</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [9, 10, 11, 12, 13, 14, 15]</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// a: 1, b: 2, rest: [3, 4]</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> <span class="token operator">...</span>others <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n  e<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  f<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  g<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n  h<span class="token punctuation">:</span> <span class="token number">4</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// e: 1, f: 2, others: { g: 3, h: 4 }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters</a></li>\n<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="nofollow noreferrer noopener">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></li>\n</ul>\n<h2 id="如何在文件之间共用代码？"><a href="#%E5%A6%82%E4%BD%95%E5%9C%A8%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E5%85%B1%E7%94%A8%E4%BB%A3%E7%A0%81%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>如何在文件之间共用代码？</h2>\n<p>这取决于执行 JavaScript 的环境。</p>\n<p>在客户端（浏览器环境）上，只要变量或函数在全局作用域（<code class="language-text">window</code>）中声明，所有脚本都可以引用它们。或者，通过 RequireJS 采用异步模块定义（AMD）以获得更多模块化方法。</p>\n<p>在服务器（Node.js）上，常用的方法是使用 CommonJS。每个文件都被视为一个模块，可以通过将它们附加到<code class="language-text">module.exports</code>对象来导出变量和函数。</p>\n<p>ES2015 定义了一个模块语法，旨在替换 AMD 和 CommonJS。 这最终将在浏览器和 Node 环境中得到支持。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="http://requirejs.org/docs/whyamd.html" target="_blank" rel="nofollow noreferrer noopener">http://requirejs.org/docs/whyamd.html</a></li>\n<li><a href="https://nodejs.org/docs/latest/api/modules.html" target="_blank" rel="nofollow noreferrer noopener">https://nodejs.org/docs/latest/api/modules.html</a></li>\n<li><a href="http://2ality.com/2014/09/es6-modules-final.html" target="_blank" rel="nofollow noreferrer noopener">http://2ality.com/2014/09/es6-modules-final.html</a></li>\n</ul>\n<h2 id="什么情况下会用到静态类成员？"><a href="#%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E7%94%A8%E5%88%B0%E9%9D%99%E6%80%81%E7%B1%BB%E6%88%90%E5%91%98%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>什么情况下会用到静态类成员？</h2>\n<p>静态类成员（属性或方法）不绑定到某个类的特定实例，不管哪个实例引用它，都具有相同的值。静态属性通常是配置变量，而静态方法通常是纯粹的实用函数，不依赖于实例的状态。</p>\n<p><strong>参考</strong></p>\n<ul>\n<li><a href="https://stackoverflow.com/questions/21155438/when-to-use-static-variables-methods-and-when-to-use-instance-variables-methods" target="_blank" rel="nofollow noreferrer noopener">https://stackoverflow.com/questions/21155438/when-to-use-static-variables-methods-and-when-to-use-instance-variables-methods</a></li>\n</ul>\n<h2 id="其他答案"><a href="#%E5%85%B6%E4%BB%96%E7%AD%94%E6%A1%88" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他答案</h2>\n<ul>\n<li><a href="http://flowerszhong.github.io/2013/11/20/javascript-questions.html" target="_blank" rel="nofollow noreferrer noopener">http://flowerszhong.github.io/2013/11/20/javascript-questions.html</a></li>\n</ul>',
excerpt:"请解释事件委托（event delegation…",frontmatter:{date:"2018-04-14 17:25:42",path:"/front-end-interview-js/",tags:"面试, JS, 前端",title:"前端面试题JS部分",draft:null}},prePost:{html:'<h2 id="适配器模式adapter"><a href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8Fadapter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>适配器模式(Adapter)</h2>\n<p>将一个类的接口转换成客户希望的另外一个接口。Adapter 模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p>\n<h3 id="问题背景"><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>问题背景</h3>\n<p>在 NBA 我需要翻译</p>\n<ul>\n<li>姚明刚来到 NBA，身材够高，球技够好</li>\n<li>但是英语不是很懂，听不懂教练的战术安排</li>\n<li>球员分为前锋、中锋和后卫</li>\n<li>教练会给球员分配进攻、防守任务</li>\n</ul>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-fc791.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 46.23655913978495%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB0UlEQVQoz5VSO2iaURS+f/4pkKlLS2JSKkKra8dSaCFpNpfSzdnFzdlBxRBsQVppUcyiUyW4CA6ColIQHVRU8Ac1vh+lPn+0Kj7w9rtWoRRCkg8u53A45zvfOfcQ8h8SiQTHbDweVxQKhY/hcPgC9jIWi0lZHJYjD0E+n+eZzWQyHygwmUzocrmkqVTqHYtns1n+QYTJZJLfKnw/Ho+pKIp0tVpRQRBO/214K1DI5XI5DmLYI91udzNSKBR6mU6nr9HgR7PZ/I4cBYtDKa/X60k0GuU8Hg/n8/k4+BuuWq12t2K1Wi29z2S9Xu+vEwgEJCaTSWY2m5/bbLbHKpXqwOVyyTQajdzhcMiVSuW+0+l8YrfbX1itVhmUH2q1Wt7tdkuMRuNTi8XyzOv1Ptp+GCGtVutnqVRaoANtt9tfg8Hg68FgQIvF4nQ0GtFIJHKG+JfpdEqRSzudjmAwGI4bjUYVH7eqVqsU9Z8Z4Xq93iP1el1ky2dA0pXf738zm83oLgbCc+zGzvz5fE77/X5Zp9OdYK+/WBOGcrn8jRHC3SNY9g3ubIDENZRZsOhXUPe7Uqn0hsPhEmfyFu8TitgE6DNOYD1HUCeAVMRJLaDcvCP8A69lT+bSWGZ1AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416133847"\n        title=""\n        src="/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-fee1c.png"\n        srcset="/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-a67b7.png 200w,\n/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-0b187.png 400w,\n/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-fee1c.png 800w,\n/static/微信截图_20180416133847-17395a88d6fee2e7017cac384bfb5dbb-fc791.png 930w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="模式动机"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<ul>\n<li>通常，客户类(client of class)通过类的接口访问它提供的服务。有时现有的类(existing class)可以提供客户类的功能需要，但是它所提供的接口不一定是客户类所期望的。这是由于现有的接口名称与客户类所查找的不同等诸多不同原因导致的。</li>\n<li>在这种情况下， 现有的接口需要转化 (convert) 为客户类期望的接口，这样保证了对现有类的重用。适配器模式(Adapter Pattern)可以完成这样的转化。</li>\n</ul>\n<h3 id="模式定义"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>适配器模式(Adapter Pattern)： 将一个接口转换成客户希望的另一个接口，适配器模式使接口不兼容的那些类可以一起工作，其别名为包装器(Wrapper)。适配器模式既可以作为类结构型模式，也可以作为对象结构型模式。</p>\n<h3 id="模式结构"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-63438.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 38.49416755037115%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABVElEQVQoz4VRu06EQBTlEbOJdn6FfgGFjVbG1t5YrFli4wdoSe0/YKOJiZFixWxsLEiAgscuWd7y2mxDoNmOAvDOBIy62ewkcGbOnXvOnXsJTdOefN9/nM/nBwSstm1phGma3hiG8Wrb9ovneacdRxHbVtstSZLO0JnjuD2EjuN89jEQvEPccrmktwquVquHPM95WZZxhTzP7yBUVZWdTqcfSZK8BUFw0glur/BftRirqsI4HA73GYbZRfvZbEb294qioKIoohVFocuypHsjnA8/En11Xf8Ii6K4ZjaZTP6YbiqGsCyLgMEQ4/EYn2EIuBLXdY+hr9emabLw5MPfSYvF4hx6fAXxS6iODcPwaKNZ3/g4jt+bpsFDAZNbxI1GowHAAO4UiIfe4zhM/7kTXO8xTBSTuq7fw0ASSPoC7gJxgiAgMwpeJWZZFoKpCZhBnOsEyW9Zb/Wnb5ajQQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416135051"\n        title=""\n        src="/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-fee1c.png"\n        srcset="/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-a67b7.png 200w,\n/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-0b187.png 400w,\n/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-fee1c.png 800w,\n/static/微信截图_20180416135051-c8e47e0b5701c51205e47d820496a6a5-63438.png 943w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Target：目标抽象类</li>\n<li>Adapter：适配器类</li>\n<li>Adaptee：适配者类（被适配）</li>\n<li>Client：客户类</li>\n</ul>\n<p><strong>篮球运动员</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416135031-07cbd4be104a5bef7536a76b0d70bfd9-ce704.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 767px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 60.104302477183836%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACPUlEQVQoz5VTS4iSURi9OlA5NkkGM0xRWLSJNuFWxlUtXVSLFm60FhaKi8KloUtLAnssCl2UC0FcKLMSUUTEt4mv8YWv8YGPSEaZiYSwc//8ZYIa6sLl5zv3/873fefcS5rN5ptwOPxxf3//w+7u7jZZrng8zmu326ZUKmXD95XX6xVSPBAIkBPXZDJZsMvhcNxawmtGo3EbRb5TfDweL1DsGj0AMedEQiS9nE6n74fD4etQKLTJ4h6P5/ze3l693+8vcN6LRCJXKA5+DttpMBjkoBAnnU4Tk8n01xqrDmw221Wr1frA5XLdQMhlcYlE8scui8Xir4qz2WzdYrFs6XS6LbVafVav12/I5fKLMpnsAv7jiUSidaVSeclgMGyqVCo+sFPQnWs2mwVarVbgdDo3aJfHx35erVYPsb+hipLGrVbrqFarHeVyufu9Xu8F4sNGo3FQr9fv0ZxSqXQdZ10Qfa1UKnGNRsNbEQJ4yxoD0mfQ7h0bo8DDcrn8iY1B/IjmRKPRm4PBgMFg7BepVMpfESYSicdITHQ6nTQI78KAJyBNIU7ieycWiz1FR0nEMRDepjkw5HImk/F3u934aDRy7OzsnCFL18j/LqFQePqYeWssrlAoyIr0pA0NmWSMzoeGTkzwGQ/Cl8/nmavk8/m4v1XEDySbzVItSTKZJHCQQHBKQLUiEJ4hdLvdAozcn8/nC9zPH3CXeQiFQoErFov/fUS/388Q2u32c9C7iu4WMGSCh0DvJ4HOq3v5E6aolpzg7D0mAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416135031"\n        title=""\n        src="/static/微信截图_20180416135031-07cbd4be104a5bef7536a76b0d70bfd9-ce704.png"\n        srcset="/static/微信截图_20180416135031-07cbd4be104a5bef7536a76b0d70bfd9-6b8f1.png 200w,\n/static/微信截图_20180416135031-07cbd4be104a5bef7536a76b0d70bfd9-35c41.png 400w,\n/static/微信截图_20180416135031-07cbd4be104a5bef7536a76b0d70bfd9-ce704.png 767w"\n        sizes="(max-width: 767px) 100vw, 767px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="79559916330312000000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`abstract class Player    //篮球运动员\n{\n    protected string name;\n    public Player(string name)\n    {\n        this.name = name;\n    }\n    public abstract void Attack();\n    public abstract void Defense();\n}\nclass Forwards : Player   //前锋\n{\n    public Forwards(string name) : base(name)\n    {\n    }\n    public override void Attack()\n    {\n        Console.WriteLine(&quot;前锋 {0} 进攻&quot;, name);\n    }\n    public override void Defense()\n    {\n        Console.WriteLine(&quot;前锋 {0} 防守&quot;, name);\n    }\n}\nclass ForeignCenter   //外籍中锋\n{\n    private string name;\n    public string Name\n    {\n        get { return name; }\n        set { name = value; }\n    }\n    public void 进攻()\n    {\n        Console.WriteLine(&quot;外籍中锋 {0} 进攻&quot;, name);\n    }\n    public void 防守()\n    {\n        Console.WriteLine(&quot;外籍中锋 {0} 防守&quot;, name);\n    }\n}\nstatic void Main(string[] args)\n{\n    Player pp = new Forwards(&quot;Patrick Patterson&quot;);\n    pp.Attack();\n\n    Player tw = new Guards(&quot;Terrence Williams&quot;);\n    tw.Attack();\n\n    ForeignCenter ym = new ForeignCenter(&quot;姚明&quot;);\n    ym.进攻();\n\n    Console.Read();\n}\nclass Translator : Player   //翻译者\n{\n    private ForeignCenter wjzf = new ForeignCenter();\n\n    public Translator(string name) : base(name)\n    {\n        wjzf.Name = name;\n    }\n\n    public override void Attack()\n    {\n        wjzf.进攻();\n    }\n\n    public override void Defense()\n    {\n        wjzf.防守();\n    }\n}\nstatic void Main(string[] args)\n{\n    Player pp = new Forwards(&quot;Patrick Patterson&quot;);\n    pp.Attack();\n\n    Player tw = new Guards(&quot;Terrence Williams&quot;);\n    tw.Attack();\n\n    Player ym = new Translator (&quot;姚明&quot;);\n    ym.Attack ();\n\n    Console.Read();\n}`, `79559916330312000000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">abstract <span class="token keyword">class</span> <span class="token class-name">Player</span>    <span class="token comment">//篮球运动员</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Player</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Defense</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Forwards</span> <span class="token operator">:</span> Player   <span class="token comment">//前锋</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">Forwards</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"前锋 {0} 进攻"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Defense</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"前锋 {0} 防守"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">ForeignCenter</span>   <span class="token comment">//外籍中锋</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> string Name\n    <span class="token punctuation">{</span>\n        get <span class="token punctuation">{</span> <span class="token keyword">return</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n        set <span class="token punctuation">{</span> name <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> 进攻<span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"外籍中锋 {0} 进攻"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> 防守<span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"外籍中锋 {0} 防守"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Player pp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Forwards</span><span class="token punctuation">(</span><span class="token string">"Patrick Patterson"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pp<span class="token punctuation">.</span><span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Player tw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Guards</span><span class="token punctuation">(</span><span class="token string">"Terrence Williams"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    tw<span class="token punctuation">.</span><span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    ForeignCenter ym <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ForeignCenter</span><span class="token punctuation">(</span><span class="token string">"姚明"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    ym<span class="token punctuation">.</span>进攻<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Translator</span> <span class="token operator">:</span> Player   <span class="token comment">//翻译者</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> ForeignCenter wjzf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ForeignCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token function">Translator</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        wjzf<span class="token punctuation">.</span>Name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        wjzf<span class="token punctuation">.</span>进攻<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Defense</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        wjzf<span class="token punctuation">.</span>防守<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Player pp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Forwards</span><span class="token punctuation">(</span><span class="token string">"Patrick Patterson"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    pp<span class="token punctuation">.</span><span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Player tw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Guards</span><span class="token punctuation">(</span><span class="token string">"Terrence Williams"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    tw<span class="token punctuation">.</span><span class="token function">Attack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Player ym <span class="token operator">=</span> <span class="token keyword">new</span> Translator <span class="token punctuation">(</span><span class="token string">"姚明"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    ym<span class="token punctuation">.</span>Attack <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>鸭子适配器</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="11033135524065130000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`interface Duck\n{\n    public void quack();\n    public void fly();\n}\n// 野鸭子类\nclass MallardDuck : Duck\n{\n    public void quack()\n    {\n        Console.WriteLine(&quot;嘎嘎嘎...&quot;);\n    }\n\n    public void fly()\n    {\n        Console.WriteLine(&quot;我在飞哦！&quot;);\n    }\n}\ninterface Turkey\n{\n    public void gobble();\n    public void fly();\n}\n// 野火鸡类\nclass WildTurkey : Turkey\n{\n    public void gobble()\n    {\n        Console.WriteLine(&quot;咕咕咕...&quot;);\n    }\n\n    public void fly()\n    {\n        Console.WriteLine(&quot;我在飞，不过飞不远。&quot;);\n    }\n}\n// 火鸡适配器\nclass TurkeyAdapter : Duck\n{\n    Turkey turkey;\n    public TurkeyAdapter(Turkey turkey)\n    {\n        this.turkey = turkey;\n    }\n    public void quack()\n    {\n        turkey.gobble();\n    }\n    public void fly()\n    {\n        turkey.fly();\n    }\n}\n// 使用适配器\nstatic void Main(string[] args)\n{\n    MallardDuck duck = new MallardDuck();\n    WildTurkey turkey = new WildTurkey();\n    Duck turkeyAdapter = new TurkeyAdapter(turkey);\n\n    turkey.gobble();\n    turkey.fly();\n\n    testDuck(duck);\n    testDuck(turkeyAdapter);\n}\nstatic void testDuck(Duck duck)\n{\n    duck.quack();\n    duck.fly();\n}`, `11033135524065130000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">interface Duck\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 野鸭子类</span>\n<span class="token keyword">class</span> <span class="token class-name">MallardDuck</span> <span class="token operator">:</span> Duck\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"嘎嘎嘎..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"我在飞哦！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\ninterface Turkey\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">gobble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 野火鸡类</span>\n<span class="token keyword">class</span> <span class="token class-name">WildTurkey</span> <span class="token operator">:</span> Turkey\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">gobble</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"咕咕咕..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"我在飞，不过飞不远。"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 火鸡适配器</span>\n<span class="token keyword">class</span> <span class="token class-name">TurkeyAdapter</span> <span class="token operator">:</span> Duck\n<span class="token punctuation">{</span>\n    Turkey turkey<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">TurkeyAdapter</span><span class="token punctuation">(</span>Turkey turkey<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>turkey <span class="token operator">=</span> turkey<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">quack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        turkey<span class="token punctuation">.</span><span class="token function">gobble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        turkey<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// 使用适配器</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    MallardDuck duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MallardDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    WildTurkey turkey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">WildTurkey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Duck turkeyAdapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TurkeyAdapter</span><span class="token punctuation">(</span>turkey<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    turkey<span class="token punctuation">.</span><span class="token function">gobble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    turkey<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">testDuck</span><span class="token punctuation">(</span>duck<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">testDuck</span><span class="token punctuation">(</span>turkeyAdapter<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testDuck</span><span class="token punctuation">(</span>Duck duck<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    duck<span class="token punctuation">.</span><span class="token function">quack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    duck<span class="token punctuation">.</span><span class="token function">fly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>类适配器与对象适配器</strong></p>\n<p>假设我们在软件开发中要记录日志，包括数据库记录日志 DatabaseLog 和文本文件记录日志 WriteLog</p>\n<p>开发过程需要引入一个新的日志接口，但新的日志接口和以前的不一样</p>\n<p><em>类适配器方式如下</em></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416141540-8255832a64faa7da5fea3259a1490d39-d1477.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 536px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 84.88805970149254%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACWklEQVQ4y41SbXOaQBDm//+Vth860zaTTpMYNbYx+NKAeryICPKiICrHwXHHYVfMOJl8SLNzLDsP9+wuz650fGVZXiZpkaR5vMsSTFNSHt816fyq6xq8Zke3fededq47ekv2RmjTfPoYOYx34+nseYb8TbTebsM4+VjlxicHrJnGcDxy/VVWkCRN/0OuT/bSW3IonBAbdoSs9TLEYZwBKMTrzuuLQXxpW1SciYoJUZWUspIe6wqQWtTvVQaFScF3B5LlDE7JKkAp45iU+7TAWZnTqqAcwEpAkNMyx+RAS8J4IXVHzm3f+3w1/N5CN31/4e3hnrnaXT9YX66Gn37IX3/NxloEIHBU+2nm/mnJ31S7p/uyhCx38FedaKYfxW4YJWmWZdgJopGKRsrUCUJvEwdRAv9IWY4WiqINkaXEqRelKymMY3OuIWN2yPaUEUxyKLLH2dK1pzM1jIKSFynBlag5p+HGR9oEPPRMaSatwoNmhePJwnITN8S79Eym5jJWkYPMwA3SdSM7r8rtwXcC0w3MJA3gvKjNGKMnK0B4IQQ8p9ucM1aC/o2JE94MDfBzIF10L4qcEHIZ5RmEcYkm0Qss6kuKExlSquamN7Taj6jd1+RpiAmDMoqx6Q3mXdm4603ufk8Vc8u4eDtnXomH0eJnR73pTTtPRne4hD0DsDtYXLeV1qPe7uv3j3pf9WizAq+XRoIiju/quur5tjgWWQGal6Ct4ztIU4K1U9U5FwTne15VbysDee5Eg2d9YrhBnNneDnaOV7Xlxk9jNJt7QYy9TboMdoy/Jf8DJWm/SCpS/SYAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416141540"\n        title=""\n        src="/static/微信截图_20180416141540-8255832a64faa7da5fea3259a1490d39-d1477.png"\n        srcset="/static/微信截图_20180416141540-8255832a64faa7da5fea3259a1490d39-bb263.png 200w,\n/static/微信截图_20180416141540-8255832a64faa7da5fea3259a1490d39-9a78f.png 400w,\n/static/微信截图_20180416141540-8255832a64faa7da5fea3259a1490d39-d1477.png 536w"\n        sizes="(max-width: 536px) 100vw, 536px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="83371287099792260000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class DatabaseLogAdapter : DatabaseLog, Ilog\n{\n    public void Write()\n    {\n        this.WirteLog();\n    }\n}\nclass FileLogAdapter : FileLog, Ilog\n{\n    public void Write()\n    {\n        this.WirteLog();\n    }\n}`, `83371287099792260000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">DatabaseLogAdapter</span> <span class="token operator">:</span> DatabaseLog<span class="token punctuation">,</span> Ilog\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">WirteLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">FileLogAdapter</span> <span class="token operator">:</span> FileLog<span class="token punctuation">,</span> Ilog\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">WirteLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em>对象适配器</em></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416141951-6ef137141ef0134cc8f0ab1d710c55b4-eca56.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 554px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.44404332129964%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABkUlEQVQoz3VRf2+bMBDl+3+cSWv/mLZmS7u1JF1+uRASjAPEEIjBYMABXNNh0nTRpD2dT/K9O53eO+3tX3RD/AcXUkrZyU57Lw6lKCkMhwJI5mYAYBqS8u29WaWKl5gg/7gBmylOtgkLPoYV7Yb0xwSOp7a+8iYveBfQyzLFFhUFjr60H6fGGEYLTLaX4YFOGbNsY7ma5QVpX8vyVHVXCurmBNF2vpwl9NgIXvFcu1aUFbXjxcBCloP9MDum7JptxOmYYeRbB+KnRZSX5K9mKV+bpq14k7OqrHhKWZ6zrq8qCPVEe6orIZoh11IKTQ5yOed1XfcOKhP7UCZ0bQ8h5DAvB/TffoGyetCjQT+9X8Q3d6vb0ct4HsN91ldtn37TvdvvxucR+PrkHhJ+NnVmxXe6++nL7GZk/lxEmhcmD8/rx9/mGgUmCv1IDaN98uvZfJgAE2LDCUhWnqUBG9/rq8nS2roH2481yhhybQdt+kvUbUkL1Zfmubd3INqUPGtEbzs/32yHD2C9tne7JM9IRv8AlM8wnKdpoIsAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416141951"\n        title=""\n        src="/static/微信截图_20180416141951-6ef137141ef0134cc8f0ab1d710c55b4-eca56.png"\n        srcset="/static/微信截图_20180416141951-6ef137141ef0134cc8f0ab1d710c55b4-77254.png 200w,\n/static/微信截图_20180416141951-6ef137141ef0134cc8f0ab1d710c55b4-789d0.png 400w,\n/static/微信截图_20180416141951-6ef137141ef0134cc8f0ab1d710c55b4-eca56.png 554w"\n        sizes="(max-width: 554px) 100vw, 554px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="35415144645721440000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class LogAdapter : Ilog\n{\n    private Log log;\n    public LogAdapter(Log log)\n    {\n        this.log = log;\n    }\n    public void Write()\n    {\n        log.WriteLog();\n    }\n}`, `35415144645721440000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">LogAdapter</span> <span class="token operator">:</span> Ilog\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> Log log<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">LogAdapter</span><span class="token punctuation">(</span>Log log<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>log <span class="token operator">=</span> log<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        log<span class="token punctuation">.</span><span class="token function">WriteLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>上面两种适配方式，可以看出在类适配方式中，是通过类的继承来实现的，同时也具有接口 ILog 的所有行为，这些就违背了面向对象设计原则中的类的单一职责原则，而对象适配器则是通过对象组合的方式来实现的，则符合面向对象的精神，所以推荐用对象适配的模式。</p>\n<h3 id="优缺点"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li><em>将目标类和适配者类解耦</em>，通过引入一个适配器类来重用现有的适配者类，而无须修改原有代码。</li>\n<li><em>增加了类的透明性和复用性</em>，将具体的实现封装在适配者类中，对于客户端类来说是透明的，而且提高了适配者的复用性。</li>\n<li><em>灵活性和扩展性都非常好</em>，通过使用配置文件，可以很方便地更换适配器，也可以在不修改原有代码的基础上增加新的适配器类，完全符合“开闭原则”。</li>\n</ul>\n<h3 id="模式使用"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>系统需要使用的类的接口不符合系统的要求。</li>\n<li>想要建立一个可以重复使用的类，用于与一些彼此之间没有太大关联的一些类，包括一些可能在将来引进的类一起工作。这些源类不一定有很复杂的接口。</li>\n<li>（对象适配器而言）在设计里，需要改变多个已有子类的接口，如果使用类的适配器模式，就要针对每一个子类做一个适配器，而这不太实际。</li>\n</ul>\n<h2 id="桥接模式bridge"><a href="#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8Fbridge" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>桥接模式(Bridge)</h2>\n<p>将抽象部分与它的实现部分分离，使它们都可以独立地变化。</p>\n<h3 id="问题背景-1"><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>问题背景</h3>\n<p>凭什么你的手机游戏我不能玩？</p>\n<ul>\n<li>M 品牌手机的游戏，N 品牌不能玩</li>\n<li>不同品牌手机操作系统不同，软件不通用</li>\n<li>用程序模拟，N 品牌手机，有一个游戏，运行游戏的程序如何写</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="51892209087509450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`static void Main(string[] args)\n{\n    MobilePhoneNGame game = new MobilePhoneNGame();\n    game.Run();\n\n    Console.Read();\n}\n\nclass MobilePhoneNGame\n{\n    public void Run()\n    {\n        Console.WriteLine(&quot;运行N品牌手机游戏&quot;);\n    }\n}`, `51892209087509450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    MobilePhoneNGame game <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MobilePhoneNGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    game<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneNGame</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行N品牌手机游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>如果有一个 M 品牌手机，也有游戏可以运行，如何设计？</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="22103548490077450000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class MobilePhoneGame\n{\n    public virtual void Run()\n    {\n    }\n}\n\nclass MobilePhoneNGame : MobilePhoneGame\n{\n    public override void Run()\n    {\n        Console.WriteLine(&quot;运行N品牌手机游戏&quot;);\n    }\n}\n\nclass MobilePhoneMGame : MobilePhoneGame\n{\n    public override void Run()\n    {\n        Console.WriteLine(&quot;运行M品牌手机游戏&quot;);\n    }\n}`, `22103548490077450000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">MobilePhoneGame</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneNGame</span> <span class="token operator">:</span> MobilePhoneGame\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行N品牌手机游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneMGame</span> <span class="token operator">:</span> MobilePhoneGame\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行M品牌手机游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>如果 M 品牌和 N 品牌手机，都添加了通讯录怎么办？</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-9bee3.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 57.4698795180723%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACVUlEQVQoz3VSS28SURQeGEyMrdhQpSgJS/0VbLpwQ4htCImPsGTB0q0xITFsqIQGlrqjgDamGAqGJi6EhIeUN7SQlqc8awBbsCVEEsbvjtNqSb3JzPnud7577rnnHIqaWTRNU91ulya41WolGW4BfyYcIC0Siaj/roODA9YeHR1RuVyOf3h4yO/1egLCAb+sVquxer0eLZVKz7mAAmB+IBCg9/b22LPpdPpy0OPj46vuYrNUqVRSuVwu5rhrsyJceplIJBKszWQy1+Px+Krdbn+ys7PzDPzd2cMOh+NGKpVacTqdT91u92No7hE+FArx/n0yjwsobTabDPlGoxEDfoXwjUZDgAN8gre3t2Wo5bTT6TAoC7O/v68mPCx9ETAcDrPiYDAoabfb34bD4aDf7//CBQ/PxR6Ph89lKEXDyoPB4Cc0p6i5gnulgLv873NkMhnl9/uXNjY2Vl0u131gwRV15YGX2Gy2Rz6f74HX673QrK+v/wEWi2VBr9cv6nQ6iUKhWJifn59bXl4WajQascFguGM0Gm+azeZbwItarVaiVCoXxGLxHBolVKvVS2tra7dNJpOQxLJarRSVTCZzu7u7nXw+3wD+HolENrPZbDUWizULhcIPjIcHzfoCTQ9jUkdTuvB9REny0LZh+9Fo9BMJiJKxv+F0OmUbQRYC+09OTpjxeMzua7VaAo0oEnx2dsYQLRr2FZrTyWRyPvRpbkZ5FLJ5U6lU3mNYHbCbaM6LYrFow96JoXYhu1fI4jV8W+Ds8H1AZnrYt9i/K5fLW/AbuIDUb2RfojJLaf4NAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416151749"\n        title=""\n        src="/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-fee1c.png"\n        srcset="/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-a67b7.png 200w,\n/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-0b187.png 400w,\n/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-fee1c.png 800w,\n/static/微信截图_20180416151749-a051e28d97aba33e3bcfa5655f94df17-9bee3.png 830w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>如果再添加 Mp3 音乐播放功能，怎么修改？</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-46608.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 39.54635108481263%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABiElEQVQoz31QuWoCURS9EwVNM42FVf4lfZqAhZ0p/YMUQorUkiLLF6QQJwbCQCIhCGlSGHEbR1xGYSzc97jgRng5b3hClJALl3veeefe984lQhiGwQvN53NSVZUURaHJZCJxrl6vX5bLZbNarV7wc6lUkkKhEEUiEer3+yQ42gnGmFVrtZqFRVoDe73e9Ww2Y91u90popW0PHtnp34lkMrlP2Xl6PB5HMBg88nq9Tpxtgpe2okQisdul6zoVCgUupFardQz8WSwWX2KxmCwk0u+aSqWclUrlPpvN6qZpnnIOetv2t9RutyV82RoIWyeDwWA1Go2MeDwuCzsHIq2B0+nUAc0HdsywjjOhsWMo/Rk+n8/tcrkO6Z+QZdnp9/vd+3wgECDSNC2cy+VeYUGB3dtMJhMF94gX79Lp9DNWogr+CfwbdLfQh3EXBb7J5/MPuHuH7pyEza/FYsFgY4wd5tbrNRsOhytgHda/eTabTZ1zy+WSAWvQTjabDWs0Ghr4MSyzTqej8Hk/AFslEJb08VsAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416151933"\n        title=""\n        src="/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-fee1c.png"\n        srcset="/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-a67b7.png 200w,\n/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-0b187.png 400w,\n/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-fee1c.png 800w,\n/static/微信截图_20180416151933-4e2679a8e357636390d60f090a3a3aba-46608.png 1014w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>如果再添加 S 品牌手机，并且有相同功能，怎么修改？</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-41931.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 27.015706806282726%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABDUlEQVQY02NgwAH+///PCKIfPXpkcP369RdXrlwJhIozMeAD7e3tIEUwLjMrEAgLC7Pq6OiwAfmMa9askTh16lTO7t27VUEKDA0N2Xh4eFiVlZVZgVwWqCUMJSUlDF++fGFg+PPnD1jw9u3bBVevXr108eJFSRB///79IA0MDx480AGKnb106ZIniA80GCz++/dvFqDLd127dm0yzOVbt25FuBTIMT9x4kSGjIwMB7IPOjs7xU6ePFm0du1aFXTfHTlyJObAgQMeKIJA27cDw2fbhQsXFgDxaiB7yeXLl/edP39+MZC/59y5cwuB7NVAF84D4v1AscUgPUCxJUB6JdBXS4FiG4B6VgAt5gIANf6aqjFs3L0AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416152431"\n        title=""\n        src="/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-fee1c.png"\n        srcset="/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-a67b7.png 200w,\n/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-0b187.png 400w,\n/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-fee1c.png 800w,\n/static/微信截图_20180416152431-e8183aad1797ae17fd5369e1ef1007fd-41931.png 955w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>怎么这么麻烦，换一种方式试一下</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-8fcb4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 26.769230769230766%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABI0lEQVQY02NgAIKMjAwGdPD//39GEP306VPpmzdvvrl69WoSVJwJXS0nJyeCM3nyZIYPHz6AmCAD2FRUVFgFBARYNTU1WYF8phkzZvCdOnUq5+jRozogRZaWlmxCQkKsIHXMzMxsIDVASxgaGhoYPn36BLaRGaTwzp07xbdv375y5MgRXhB/7dq1YPGHDx9KAF14ESgXDuKfOHGCGWQACNy/f3/L3bt3FyH7CATAGnft2mV98uTJbC4ggIqBFDAWFBQIAMVLt23bZgBVzwSVZwa6OurgwYPBUHEWMHn58uUdwPDZef78+UVAvPLixYvLr1+/fuTKlSsLgHjPpUuXFgLF1pw7d24OUN0+oPqlQPn9QFevB6pfCpRbDBTfBMTrgGwBAMAVm0QUWv9xAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416152545"\n        title=""\n        src="/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-fee1c.png"\n        srcset="/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-a67b7.png 200w,\n/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-0b187.png 400w,\n/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-fee1c.png 800w,\n/static/微信截图_20180416152545-586ec4ed015fe6ab45ae1ecb041ea664-8fcb4.png 975w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>违背了面向对象单一职责原则</p>\n<p>为什么抽象了手机品牌，或抽象了手机软件，当需求变化时，感觉如此不稳定？</p>\n<h3 id="模式动机-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<p>桥接模式的用意是“将抽象化(Abstraction)与实现化(Implementation)脱耦，使得二者可以独立地变化”。</p>\n<h3 id="模式定义-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>将抽象部分与它的实现部分分离，使它们都可以独立地变化。它是一种对象结构型模式，又称为柄体(Handle and Body)模式或接口(Interface)模式。</p>\n<h3 id="解耦变化"><a href="#%E8%A7%A3%E8%80%A6%E5%8F%98%E5%8C%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>解耦变化</h3>\n<p>我们需要解耦这两个方向的变化，把它们之间的强耦合关系改成弱联系。我们把手机品牌和手机软件的实现分别当作两个独立的部分来对待。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-63a9f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 46.559633027522935%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJklEQVQoz3WSy66CQBBE5/+/i7BFdMPCBUFAQBTlpTz75nQyxEjuJBVmuqtrunow67oKaxgGqeta0jSVJEnk+XyKzX2vcRylaRrlwH29XjJNk+bgG1uEQFmWcjqd5Hg8ShRFUlWVkuZ5VrAn9s3Lsky6rtsLQrzf7/J+v7Vbbr9cLirEGbCHAzh/Ph8Vb9t2L9j3vbYfhuFmZVmWnWVEyOEA24wJ8U3wt+DxeCjpv0URoEuEf+dsUKc7Wse2PTNTipgPQwfEuRCLdGq7pY7HAqYoCjmfz+K6rg45z3MhFgSBOI4jvu+rOEXY9DxPHwLO7XbT/eFw2BowBLDITfwOcRwrmRiwrw/YA/t7Xa/XrdbyjJ0FAb7cii0bozNrCy45AM9yATn4f6DlsGY9vqA0AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416153811"\n        title=""\n        src="/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-fee1c.png"\n        srcset="/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-a67b7.png 200w,\n/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-0b187.png 400w,\n/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-fee1c.png 800w,\n/static/微信截图_20180416153811-b650abf899ab58c97b069bcd59878589-63a9f.png 872w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这时对于手机品牌和手机软件这两个类都可以独立的变化了！我们要做的工作就是把这两部分之间连接起来，那如何连接呢？Bridge 使用了对象聚合的方式，像一座桥。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="35835358695680864000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`abstract class MobilePhoneSoft  //手机软件\n{\n\n    public abstract void Run();\n}\nclass MobilePhoneGame : MobilePhoneSoft   //手机游戏\n{\n    public override void Run()\n    {\n        Console.WriteLine(&quot;运行手机游戏&quot;);\n    }\n}\nclass MobilePhoneAddressList : MobilePhoneSoft    //手机通讯录\n{\n    public override void Run()\n    {\n        Console.WriteLine(&quot;运行手机通讯录&quot;);\n    }\n}\nclass MobilePhoneMP3 : MobilePhoneSoft    //手机MP3播放\n{\n    public override void Run()\n    {\n        Console.WriteLine(&quot;运行手机MP3播放&quot;);\n    }\n}\nabstract class MobilePhoneBrand //手机品牌\n{\n    protected MobilePhoneSoft soft;\n\n    //设置手机软件\n    public void SetHandsetSoft(MobilePhoneSoft soft)\n    {\n        this.soft = soft;\n    }\n    //运行\n    public abstract void Run();\n}\nclass MobilePhoneN : MobilePhoneBrand //手机品牌N\n{\n    public override void Run()\n    {\n        soft.Run();\n    }\n}\nstatic void Main(string[] args)\n{\n    MobilePhoneBrand ab;\n    ab = new MobilePhoneN();\n\n    ab.SetHandsetSoft(new MobilePhoneGame());\n    ab.Run();\n\n    ab.SetHandsetSoft(new MobilePhoneAddressList());\n    ab.Run();\n\n    Console.Read();\n}`, `35835358695680864000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">abstract <span class="token keyword">class</span> <span class="token class-name">MobilePhoneSoft</span>  <span class="token comment">//手机软件</span>\n<span class="token punctuation">{</span>\n\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneGame</span> <span class="token operator">:</span> MobilePhoneSoft   <span class="token comment">//手机游戏</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行手机游戏"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneAddressList</span> <span class="token operator">:</span> MobilePhoneSoft    <span class="token comment">//手机通讯录</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行手机通讯录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneMP3</span> <span class="token operator">:</span> MobilePhoneSoft    <span class="token comment">//手机MP3播放</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"运行手机MP3播放"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nabstract <span class="token keyword">class</span> <span class="token class-name">MobilePhoneBrand</span> <span class="token comment">//手机品牌</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> MobilePhoneSoft soft<span class="token punctuation">;</span>\n\n    <span class="token comment">//设置手机软件</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">SetHandsetSoft</span><span class="token punctuation">(</span>MobilePhoneSoft soft<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>soft <span class="token operator">=</span> soft<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">//运行</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">MobilePhoneN</span> <span class="token operator">:</span> MobilePhoneBrand <span class="token comment">//手机品牌N</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        soft<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    MobilePhoneBrand ab<span class="token punctuation">;</span>\n    ab <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MobilePhoneN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    ab<span class="token punctuation">.</span><span class="token function">SetHandsetSoft</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">MobilePhoneGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    ab<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    ab<span class="token punctuation">.</span><span class="token function">SetHandsetSoft</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">MobilePhoneAddressList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    ab<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="模式结构-1"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-99684.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 39.08174692049272%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABqUlEQVQoz31STUsCURSdEVtEEFS0yF/RH2gTgtui9i5aTtCqVVj9gAhdmDIaoosCcSEt0t1MyswoijOKjoLfYaDjRjcmGTOdJypl1IXLffedw3nvnveoZDJ5w/P8bSqV8mB9RCEMw6BJknWlUtmrVqsPiUTCKwiCV1XVx3K5bCMYqolajvF4bEwmE4NEPp8XrVbrJrZNDodjleA47JJgo9HIIFwSzWbzimCdTsf8S7Ber7+12+0BwHfc5o7ssSxrisfjK2TNcdwJBD4ajYaGqoH/WSqVTgkmy7LZ6XRSdrt9qsUwDEUFg8HtUCh0gLorSdLabORpzsTXA4HAjsvl2ne73TZwLT6fb+ObNQvuvP4X9Cz/whaxEMO1BTxIslgs8jA5G4vFDtPp9D3MT+dyuZdMJsMVCgUZexcYn8G4MnoO/QuqgKmiHo+H+E6Fw+Gp8o8A4Rx+vs57XdenFR4+4VB2md/tdnW/328hgtFolKZqtVoGZKnX64nD4bAgiuKxoighmK/gu0hIYTAYqK1W6xpf5wy9CkzAA0r9fj+radozvN0igpFIhP4CbNFdIZWoNW0AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416154303"\n        title=""\n        src="/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-fee1c.png"\n        srcset="/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-a67b7.png 200w,\n/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-0b187.png 400w,\n/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-fee1c.png 800w,\n/static/微信截图_20180416154303-7f1ebea2ad1c2304a4219c93a0a651b4-99684.png 893w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Abstraction：抽象类</li>\n<li>RefinedAbstraction：扩充抽象类</li>\n<li>Implementor：实现类接口</li>\n<li>ConcreteImplementor：具体实现类</li>\n</ul>\n<p>在桥接模式中不仅 Implementor 具有变化(ConcreateImplementior)，而且 Abstraction 也可以发生变化(RefinedAbstraction)，这是一个多对多的关系，而且两者的变化是完全独立的。RefinedAbstraction 与 ConcreateImplementior 之间松散耦合，它们仅仅通过 Abstraction 与 Implementor 之间的聚合关系联系起来。</p>\n<h3 id="模式范例"><a href="#%E6%A8%A1%E5%BC%8F%E8%8C%83%E4%BE%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式范例</h3>\n<p>考虑不同平台的日志记录，对于操作数据库、写入文本文件所调用的方式可能是不一样的，为此对于不同的日志记录方式，我们需要提供各种不同平台上的实现，对上面的类做进一步的设计得到了下面的结构图</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416154514-80797985756448c8c5a9362f30dd3fc0-bb574.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 410px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 52.926829268292686%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABzElEQVQoz3VSO2/TUBT276jEjASqVNhQBn4LO1XVdENMFQ0MiEe3zu2AaFRVYmJJlw6gKBUIYeJrJ7br67cT+9rX1En84LPTB5XgDEfnnO98557HFaq/pCxLaN/3J5NJEASSJAWNwK3+JcIVq6jKoixyOJZl2bYNjt9IXcj3lzmXabfJt14GVZKIruuEEE3TUCiM2H9fXmQ8sQmzZGN4ZpMz3xwlnIdhqCgKYyyOE1cfmtLAJN9iS05dZTG/uCGz8VfSefhjp/X9RUvpPLA+v6obQIdXmh5u/Npe+/myJXYeqW8fJ7a0hGpyRE6DnTv83T3+fpV1VpxPz5dYPUWzBfvgCeJ8d5W/ueu9vh9b4g15ei7Sblv/2CYH685R2/zyoajnb8jNDo2TPbu7Odx/anS36PGzyNPAKopcmM1mLE6ysvJZagXR77y6mOdJklzvD2Mjks5L6k1DnmVFhY3MsqyeWRnVYlIjz+sOcRVZJrIsq6oKjZ2NxmNNHYfTKdA8X+iaiiBu0e/3BdM0KaVwsqaY4zg4D21EFEXDMFzXBep5HlDkoCgoOH6v1xPSNOWcw0H/gGFEUYQIOkcV9AwDGpcDihx8mziOYQwGgz8o7VBQhoiXggAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416154514"\n        title=""\n        src="/static/微信截图_20180416154514-80797985756448c8c5a9362f30dd3fc0-bb574.png"\n        srcset="/static/微信截图_20180416154514-80797985756448c8c5a9362f30dd3fc0-0fa18.png 200w,\n/static/微信截图_20180416154514-80797985756448c8c5a9362f30dd3fc0-c3228.png 400w,\n/static/微信截图_20180416154514-80797985756448c8c5a9362f30dd3fc0-bb574.png 410w"\n        sizes="(max-width: 410px) 100vw, 410px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>现在的这种设计方案本身是没有任何错误的，假如现在我们要引入一种新的 xml 文件的记录方式，则上面的类结构图会变成</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416154617-1d2e4a24974ca076b9306c14a5c85aa3-37d31.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 624px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 34.77564102564102%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABUklEQVQY001Qy07DMBDMP3ApHPgiPoYzB1qQEJy4c0DiAyqVG1SAKEiIEwIJWlH6SNv4lcQxTUvjOLEdNgEhRnuwZ3dmVusUAGut0YU1ZVVQSgW+TzCiGPEw0Fr/8NYWxhbagKD8OsU/AAdzxhgpE8w4CmMSLfl8qVQKbGUB7vZvvhTL0KXt49H5Abk/TVWWyiTNbdS9+mjWB806714rXYCdzmTrKdhrDQ8vyLO3+hXH7x20v0ka6/hkqzQ05ZLh5QFtbOB6LWwfVVwZu91ktV28tjM7exSl2Bgbc8r7D/T1RrgvSSJhMZVpgQes24ESqJ/r8hYqlT1P3L75d71g6s+Nzh13PJ7O0OIrgTYNxLQCQp6HWZZrlWt4YIwJIZPJxKcIrPM0YQQNhyMHGkEQxPNPOLjPqBDCdd0oihilECWTlc8YkJ7ncc7BA7aIF0sYgIxvEGl64OF3p/AAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416154617"\n        title=""\n        src="/static/微信截图_20180416154617-1d2e4a24974ca076b9306c14a5c85aa3-37d31.png"\n        srcset="/static/微信截图_20180416154617-1d2e4a24974ca076b9306c14a5c85aa3-89539.png 200w,\n/static/微信截图_20180416154617-1d2e4a24974ca076b9306c14a5c85aa3-cb00c.png 400w,\n/static/微信截图_20180416154617-1d2e4a24974ca076b9306c14a5c85aa3-37d31.png 624w"\n        sizes="(max-width: 624px) 100vw, 624px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>我们新增加了一个继承于 Log 基类的子类，而没有修改其它的子类，这样也符合了开放-封闭原则。如果我们引入一种新的平台，比如说我们现在开发的日志记录工具还需要支持 Borland 平台，此时该类结构又变成</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416154718-ba3b8415467957cebd1ed76eabba1675-bb96f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 512px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 42.3828125%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABcklEQVQY021Qv0vDQBTuXyE4dXJwEJwcFAQ3/RP0H3Byt4WiICjSiovgppODDkILXXQTFHQpVNC2Sa+55JL7laRteomaJqlJiq1DP467x/ve9973LjP6QxSFUZicOAqCgFJqmiaEkHMexykfpGw4kWRGsxCGoaIouq5jjAkhcZeZZVOx7/W/erRH1S7VBgMnHmgYhizLjDHLsntctzF0beILO4qif+LUCS7npZMVqbTRudj6EdZ4k8mt3ey2i2tyaR1dbYdhMF40k7SJgpjHd3vG8QI5W1bPV78dPhWnD7rewaeLpLiELjf94TDNRslkz/OE6wkOu+1X1nxxyacQTpwc2/N93xkIwYAN3njz2aOScN2YTWwDABQFmgxLxC1UcK5Mqu+9QZe3AUAIwQQqw6gGrMMq26/Qh49+lxNV1eLvyLRaLd3ANtUfayh7AOZycv5eEZYONaRpWqPR0JDeN/HtUytbkOYL8KjSsYlKKKvX679kUqmxsvk5QQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416154718"\n        title=""\n        src="/static/微信截图_20180416154718-ba3b8415467957cebd1ed76eabba1675-bb96f.png"\n        srcset="/static/微信截图_20180416154718-ba3b8415467957cebd1ed76eabba1675-7728b.png 200w,\n/static/微信截图_20180416154718-ba3b8415467957cebd1ed76eabba1675-23f96.png 400w,\n/static/微信截图_20180416154718-ba3b8415467957cebd1ed76eabba1675-bb96f.png 512w"\n        sizes="(max-width: 512px) 100vw, 512px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Bridge 模式粉墨登场，我们需要解耦这两个方向的变化，把它们之间的强耦合关系改成弱联系。我们把日志记录方式和不同平台上的实现分别当作两个独立的部分来对待</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416154820-823a6fa9de71607fd1c2d87b7384b88c-aa6cd.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 597px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 25.29313232830821%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABEElEQVQY0yWOv0rEQBDG8yBiIRxY2PkEdtr7Bgc24hscqKiFiIWCjZ1iddgKllYiaKGNgWTvspLLP8zlvNvsbW43u+uXy8B8zAzzm/kcu4yqqpIkCcMQmqZplmVQzjnmYs6r2qZPx/Sk8322OTrfYIM3IEbXTguXZem6rud5URSBRyulrJvQStXS2uD5yr3Y8q536M32ZPhhrNVaO0isMsaEEEVRoEaBFlx712hpFjOjRDkXefEn5cJKrgQD7sCq7/tQOGy38zwnhAT0xyrxSkX3IezeDS9fprVuztFxtf/4u3c/OOiPGhgP4zjGT7s0A9vgozgxsuy/5ys9snoY7N4GSsG+/aSTtSPSOQ3Xe1//ljwGEgcEssUAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416154820"\n        title=""\n        src="/static/微信截图_20180416154820-823a6fa9de71607fd1c2d87b7384b88c-aa6cd.png"\n        srcset="/static/微信截图_20180416154820-823a6fa9de71607fd1c2d87b7384b88c-b82a2.png 200w,\n/static/微信截图_20180416154820-823a6fa9de71607fd1c2d87b7384b88c-6c81a.png 400w,\n/static/微信截图_20180416154820-823a6fa9de71607fd1c2d87b7384b88c-aa6cd.png 597w"\n        sizes="(max-width: 597px) 100vw, 597px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>这样的设计是脆弱的，它在遵循开放-封闭原则的同时，违背了类的单一职责原则，即一个类只有一个引起它变化的原因，而这里引起 Log 类变化的原因却有两个，即日志记录方式的变化和日志记录平台的变化。</li>\n<li>重复代码会很多，不同的日志记录方式在不同的平台上也会有一部分的代码是相同的；再次是类的结构过于复杂，继承关系太多，难于维护，最致命的一点是扩展性太差。上面我们分析的变化只是沿着某一个方向，如果变化沿着日志记录方式和不同的运行平台两个方向变化，我们会看到这个类的结构会迅速的变庞大。</li>\n</ul>\n<h3 id="优缺点-1"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>分离接口及其实现部分。桥接模式使用“对象间的组合关系”解耦了抽象和实现之间固有的绑定关系，使得抽象和实现可以沿着各自的维度来变化。 所谓抽象和实现沿着各自维度的变化，即“子类化”它们，得到各个子类之后，从而获得不同平台上的不同型号。</li>\n<li>桥接模式的应用一般在“两个非常强的变化维度”，有时候即使有两个变化的维度，但是某个方向的变化维度并不剧烈——换言之两个变化不会导致纵横交错的结果，并不一定要使用桥接模式。桥接模式提高了系统的可扩充性。</li>\n<li>实现细节对客户透明，可以对用户隐藏实现细节。</li>\n<li>桥接模式有时候类似于多继承方案，但是多继承方案往往违背了类的单一职责原则（即一个类只有一个变化的原因），复用性比较差。桥接模式是比多继承方案更好的解决方法。</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用-1"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>如果一个系统需要在构件的抽象化角色和具体化角色之间增加更多的灵活性， 避免在两个层次之间建立静态的联系。</li>\n<li>设计要求实现化角色的任何改变不应当影响客户端，或者说实现化角色的改变对客户端是完全透明的。</li>\n<li>一个构件有多于一个的抽象化角色和实现化角色，系统需要它们之间进行动态耦合。</li>\n<li>虽然在系统中使用继承是没有问题的，但是由于抽象化角色和具体化角色需要独立变化，设计要求需要独立管理这两者。</li>\n</ul>\n<h3 id="模式应用"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416155625-c51fd5d0febdd376ddbb2f17cf396c0a-ac14c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 674px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.02670623145401%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABiUlEQVQozz1Ry3KbMBTl/z+mzSJNsugmM3WaccZZ2JM2NjgGUhBYbwwSEkK3Eh33jEYLndfcqwQAxnGUXSe7ixBSCEEpJYTsF2y32zTN6AJCqJSdlFIrNc9zMCacMS7EoUDrt2z9Xrx8NA7A+7nI8yxLy7LA+AwLlJ12xz/PKcobyimxdkowxoFI2fSzHh9Ow5dMnXtvnZ8AQngIsj7YvJl8Kd0amdvCVQrGvgulCVuwp3Z9np8I/CCgXezxwezj/e8ECAsb4h8Kl7YXQbGxNvHeK60JY6jlVc0wiVmc82EYjDGj1mFIdgVqeI3Ype/DzCExgSvc5LW2s5tik5+d0UMf12ONWXjvJmvNPLv/DkgOn+1mX+xKogwEQvTmWJG3HL2mVSV0UHTK/DrVuxL3xgWBMbEzq+ihvSSrnN+n4vY4yKiET26ePtjjSXx9Zy8odp776THFN795KVzYobU+1Kzy7u6kkmcG31u4R9DbaEYK1gxWBL41sKHxpdUQNHcN1ANc/wxWOFr+AkTv+L/9quxQAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416155625"\n        title=""\n        src="/static/微信截图_20180416155625-c51fd5d0febdd376ddbb2f17cf396c0a-ac14c.png"\n        srcset="/static/微信截图_20180416155625-c51fd5d0febdd376ddbb2f17cf396c0a-2d27a.png 200w,\n/static/微信截图_20180416155625-c51fd5d0febdd376ddbb2f17cf396c0a-cc70c.png 400w,\n/static/微信截图_20180416155625-c51fd5d0febdd376ddbb2f17cf396c0a-ac14c.png 674w"\n        sizes="(max-width: 674px) 100vw, 674px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="组合模式composite"><a href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8Fcomposite" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>组合模式(Composite)</h2>\n<p>将对象组合成树形结构以表示”部分-整体”的层次结构，“Composite 使得用户对单个对象和组合对象的使用具有一致性。”</p>\n<h3 id="模式背景"><a href="#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式背景</h3>\n<p>设计一个绘图程序</p>\n<ul>\n<li>绘制基本图元线对象(Line)、圆对象(Circle)、矩形对象(Rectangle)</li>\n<li>绘制组合对象(Picture)，可包含任意基本图元的组合</li>\n</ul>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="59964865078308630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Line\n{\n    public void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Line&quot;);\n    }\n}\n\npublic class Circle\n{\n    public void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Circle&quot;);\n    }\n}\n\npublic class Rectangle\n{\n    public void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Rectangle&quot;);\n    }\n}\n\npublic class Picture\n{\n    protected ArrayList picList = new ArrayList();\n\n    public void Add(object pic)\n    {\n        picList.Add(pic);\n    }\n    public void Remove(object pic)\n    {\n        picList.Remove(pic);\n    }\n    public ArrayList GetChilds()\n    {\n        return picList;\n    }\n}\n\nstatic void Main(string[] args)\n{\n    Picture root = new Picture();\n    Picture branch1 = new Picture();\n    Picture branch2 = new Picture();\n\n    Line line1 = new Line();\n    Circle circle1 = new Circle();\n    Rectangle rect1 = new Rectangle();\n\n    Line line2 = new Line();\n    Circle circle2 = new Circle();\n    Rectangle rect2 = new Rectangle();\n\n    root.Add(line1);\n    root.Add(circle1);\n    root.Add(branch1);\n    branch1.Add(line2);\n    branch1.Add(branch2);\n    branch2.Add(circle2);\n    branch2.Add(rect2);\n    root.Add(rect1);\n\n    Display(root.GetChilds());\n\n    Console.Read();\n}\npublic static void Display(ArrayList root)\n{\n    for (int i = 0; i < root.Count; i++)\n    {\n        if (root[i] is Line)\n        {\n            ((Line)root[i]).Draw();\n        }\n        else if (root[i] is Circle)\n        {\n            ((Circle)root[i]).Draw();\n        }\n        else if (root[i] is Rectangle)\n        {\n            ((Rectangle)root[i]).Draw();\n        }\n        else if (root[i] is Picture)\n        {\n            Display(((Picture)root[i]).GetChilds());\n        }\n    }\n}`, `59964865078308630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Line</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Line"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Circle</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Circle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rectangle</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Rectangle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Picture</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> ArrayList picList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Add</span><span class="token punctuation">(</span>object pic<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        picList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>pic<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Remove</span><span class="token punctuation">(</span>object pic<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        picList<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>pic<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> ArrayList <span class="token function">GetChilds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> picList<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Picture root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Picture branch1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Picture branch2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Line line1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Circle circle1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Rectangle rect1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Line line2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Circle circle2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Rectangle rect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>line1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>circle1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>branch1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch1<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>line2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch1<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>branch2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch2<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>circle2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch2<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>rect1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">Display</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">GetChilds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Display</span><span class="token punctuation">(</span>ArrayList root<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> root<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Line<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token punctuation">(</span><span class="token punctuation">(</span>Line<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Circle<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token punctuation">(</span><span class="token punctuation">(</span>Circle<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Rectangle<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token punctuation">(</span><span class="token punctuation">(</span>Rectangle<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Picture<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Picture<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetChilds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>实现判断太麻烦！</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-cb2f0.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 38.59470468431772%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABa0lEQVQoz7VRPUvDUBSNTX+Gq3QQdAs4OXRQKCh0cHUSEV0c3Gz9E/oTHLp1EtIapDYhlIbU0ib0I/0uhbY2aWloitLEc4sWJxHBC493c899556cyzDfot/v++hutVrH4/H4UdO0eKVSiSNPGoZxSFiv1/Mxvw1d1/10FwqFWw8xnU692WxGqQfia8JqtRr7I8lwOPShn84aHaqlUqmtUqkUzmQyF7lc7mwwGIShNkDYZx9LxzRNFn/jbzQaLPMfwXEcw6iqGpQkaR+TdgRBWIeSYCwW21MUJVQsFgOwYTufz4cSiQT17PI8v9Htdq9Qj4qiGGm32zfVavVkxbpYLJYejUYjEySXlMOGZa3ZbN51Op0Hym3b9lzX9WRZPgf+RjUsa9kHS4wVIR491et1EZPuMf2gXC4/Q0ES9SwWcQqCKPAsvgWQ8+l0+gj+voKERMwdxyEB6p99wqI2sYT5ZDIhhe+k0LKsly/8A60KJhpXp729AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416161233"\n        title=""\n        src="/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-fee1c.png"\n        srcset="/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-a67b7.png 200w,\n/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-0b187.png 400w,\n/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-fee1c.png 800w,\n/static/微信截图_20180416161233-711b12ba9bb642931196e466026b1b36-cb2f0.png 982w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="62541888760310460000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public abstract class Graphics\n{\n    public abstract void Draw();\n}\n\npublic class Line : Graphics\n{\n    public override void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Line&quot;);\n    }\n}\n\npublic class Circle : Graphics\n{\n    public override void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Circle&quot;);\n    }\n}\n\npublic class Rectangle : Graphics\n{\n    public override void Draw()\n    {\n        Console.WriteLine(&quot;Draw a Rectangle&quot;);\n    }\n}\n\npublic class Picture : Graphics\n{\n    protected ArrayList picList = new ArrayList();\n\n    public override void Draw()\n    {\n        Display(picList);\n    }\n    public void Display(ArrayList root)\n    {\n        for (int i = 0; i < root.Count; i++)\n        {\n            if (root[i] is Line)\n            {\n                ((Line)root[i]).Draw();\n            }\n            else if (root[i] is Circle)\n            {\n                ((Circle)root[i]).Draw();\n            }\n            else if (root[i] is Rectangle)\n            {\n                ((Rectangle)root[i]).Draw();\n            }\n            else if (root[i] is Picture)\n            {\n                Display(((Picture)root[i]).GetChilds());\n            }\n        }\n    }\n}\n\nstatic void Main(string[] args)\n{\n    Picture root = new Picture();\n    Picture branch1 = new Picture();\n    Picture branch2 = new Picture();\n\n    Line line1 = new Line();\n    Circle circle1 = new Circle();\n    Rectangle rect1 = new Rectangle();\n\n    Line line2 = new Line();\n    Circle circle2 = new Circle();\n    Rectangle rect2 = new Rectangle();\n\n    root.Add(line1);\n    root.Add(circle1);\n    root.Add(branch1);\n    branch1.Add(line2);\n    branch1.Add(branch2);\n    branch2.Add(circle2);\n    branch2.Add(rect2);\n    root.Add(rect1);\n\n    root.Draw();\n\n    Console.Read();\n}`, `62541888760310460000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> abstract <span class="token keyword">class</span> <span class="token class-name">Graphics</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Line</span> <span class="token operator">:</span> Graphics\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Line"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token operator">:</span> Graphics\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Circle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token operator">:</span> Graphics\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Draw a Rectangle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Picture</span> <span class="token operator">:</span> Graphics\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> ArrayList picList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Display</span><span class="token punctuation">(</span>picList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Display</span><span class="token punctuation">(</span>ArrayList root<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> root<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Line<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                <span class="token punctuation">(</span><span class="token punctuation">(</span>Line<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Circle<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                <span class="token punctuation">(</span><span class="token punctuation">(</span>Circle<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Rectangle<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                <span class="token punctuation">(</span><span class="token punctuation">(</span>Rectangle<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span> is Picture<span class="token punctuation">)</span>\n            <span class="token punctuation">{</span>\n                <span class="token function">Display</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Picture<span class="token punctuation">)</span>root<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetChilds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Picture root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Picture branch1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Picture branch2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Picture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Line line1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Circle circle1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Rectangle rect1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Line line2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Circle circle2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Rectangle rect2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>line1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>circle1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>branch1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch1<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>line2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch1<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>branch2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch2<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>circle2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    branch2<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>rect2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    root<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>rect1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    root<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>拥有了公共的 Draw 方法，统一了绘制图形接口</p>\n<p>以上代码没有错误，就是优秀的设计吗？</p>\n<p>可以将判断代码依赖于抽象编程，将类型转换为抽象类 Graphics</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="47101051611619060000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`public class Picture : Graphics\n{\n    protected ArrayList picList = new ArrayList();\n\n    public override void Draw()\n    {\n        for (int i = 0; i < picList.Count; i++)\n        {\n            ((Graphics)picList[i]).Draw();\n        }\n    }\n}`, `47101051611619060000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Picture</span> <span class="token operator">:</span> Graphics\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> ArrayList picList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> picList<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            <span class="token punctuation">(</span><span class="token punctuation">(</span>Graphics<span class="token punctuation">)</span>picList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这种思想就是组合模式。</p>\n<h3 id="模式动机-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<ul>\n<li>对于树形结构，当容器对象（如文件夹）的某一个方法被调用时，将遍历整个树形结构，寻找也包含这个方法的成员对象（可以是容器对象，也可以是叶子对象，如子文件夹和文件）并调用执行。（递归调用）</li>\n<li>由于容器对象和叶子对象在功能上的区别，在使用这些对象的客户端代码中必须有区别地对待容器对象和叶子对象，而对于这些对象的区别对待将会使得程序非常复杂。</li>\n<li>组合模式描述了如何将容器对象和叶子对象进行递归组合，使得用户在使用时无须对它们进行区分，可以一致地对待容器对象和叶子对象，这就是组合模式的模式动机。</li>\n</ul>\n<h3 id="模式定义-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>组合多个对象形成树形结构以表示“整体—部分”的结构层次。组合模式对单个对象（即叶子对象）和组合对象（即容器对象）的使用具有一致性。组合模式又可以称为“整体—部分”(Part-Whole)模式，属于对象的结构模式，它将对象组织到树结构中，可以用来描述整体与部分的关系。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-d152b.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 55.56872037914692%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACPklEQVQoz3VSS4uSYRT+/Lw0U01T/oCYZdCmXXt/wCyEGKlmJQa5CBfZZEQztAhxoxuXLtyIhreQGF2JCF5SU/GGd7zk/QZeB7/m65xvlBzBA4fDe97zPuec93mIcrl8lkwmL3w+33m9Xr8Ih8NHBJjRaGQXi0Vxu93+HAwGz1wu18dsNvuh2Wx+TaVSz7GGpmkWsW2z2YzetEAgcIx5kUj0qFKp/MHcZDKhp9MpvVwumRoAPscaaMKDwNpwgigUCt9hikvwnzDhpdfrfYZ5jUZzN5FI/IYc3e/3Z4PB4KrX600QMBqNfsEahUKxB4G7cgRnE7vMZrPxMplMASdbLBbMhN1ul5mw0+l8Wq28CcBigCF5y2u1GgsjTEqGQqFjmPIU/G0sFvsGQCeNRuMNNHqKCPl8ntTr9cw7MBKcQ0QiESKXyxHxeHx9scu21+FunW8A0XQ6HRNVKhXL7XbvQ9d7Uqn00Ol0Hlit1gdarZZjsVhItVrNk8vlezKZjCuRSPbhzBEIBKRQKCT5fP5/QJAMw5DD4TiCtVLgBZBSFmIJviBoMBju432pVDoZj8cJINAHxPwCyQXgHIXzj9WUN4Aej4cBtNvtT4bDISMPJAKt1WpRMPEh3kOT9xRF0cA4jXVIFFq1Wh2JxeKHq7UJAtZhIjw88Pv9L0Hcr9Pp9CvQ4SkQ8MJsNt/BeyDmHTRAwCsApEDkS9TxaDTqKpXKx7d+1GQy7WQDtMheA8J6NDg1n8+vQZ9/cRNYu7Ku/Qf9UqpTIyQ9sgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416164242"\n        title=""\n        src="/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-fee1c.png"\n        srcset="/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-a67b7.png 200w,\n/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-0b187.png 400w,\n/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-fee1c.png 800w,\n/static/微信截图_20180416164242-f9e7da5138ced095e2f38f28cd768eb6-d152b.png 844w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Component：抽象构件（接口或抽象类）</li>\n<li>Leaf：叶子构件</li>\n<li>Composite：容器构件</li>\n<li>Client：客户类</li>\n</ul>\n<p>应该是在 Graphic(Component)中声明这些集合操作，并使得这些操作对 Leaf 类有意义，还是只应该在 Picture(Composite)和它的子类中声明并定义这些操作呢？这就要分为以下两种方式。</p>\n<p><strong>安全方式</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-d12a8.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 39.83822042467139%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABdUlEQVQoz51STUsCURR9Otv+QIu2LYPa1cpVRW3a1qrFQJSSSKtWQQRTYPZTWrRp42IUNAdFVPycYXQGPxh1FHEcg2F6nTdktAmsCxfuu/e888477xHyIwRBIJRSH6v7/f7taDQSi8XiS7fbfR0MBs+5XG6VzWq1mo8sEzzPM0I/qxVFEVFT0zSp67p0PB5TEK6zWTab9f9KoqoqZxgGx4i+0pdIJEgymdysVCq78XicL5VKB41GI1AoFFbYHoZBent6vR7X6XS4fD6/nOq/BA4mRNO002q1elYul8OyLB/Bsy0oC4mieIF1OJPJbOi6foLrXqLPMPuot+FrBLMQesF2ux2UJGnNY51MJnQRw+EQ1ikCq2ezmdfDA1zDkm8QPH0DSWzhr23bC9yhR5hKpW4YCTx6rNfr5/AsALWxZrN5B3+j6XR6B3kFzAPUPQF3DDX3OJwJeMdPcKbTKcVs799ewaLofD6nuJ1jWdaH4zi01Wp5hJ957Dcbj8KyvgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416164816"\n        title=""\n        src="/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-fee1c.png"\n        srcset="/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-a67b7.png 200w,\n/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-0b187.png 400w,\n/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-fee1c.png 800w,\n/static/微信截图_20180416164816-a3be5162cc898254daa0c5b756ddc596-d12a8.png 989w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>在 Composite 类中定义管理子部件的方法具有良好的安全性，因为在 C++这样的静态类型语言中，在编译时任何从 Leaf 中增加或删除对象的尝试都将被发现。但是这又损失了透明性，因为 Leaf 和 Composite 显然具有不同的接口。</p>\n<p><strong>透明方式</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-a311f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 42.189054726368155%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABeElEQVQoz61Su04CURC9wPIXhMKEnzCxseEHKC0sLAS3I1tZGDs1xkRDghpNTLCytPITpJGwyzOwG95ZlmVZwqLykPXM9RFiReEkNzN7Z86ZuWeWsT9WqVS4F0XR1+/391ut1k0+n09YlnVXq9XWKddoNLxsVctms9xLkuQHgerCRqMRObfZbEYp1263hZUJU6mUh3w8HvfncjllPB67g8FgToSdTmeHcpqmCYFAgAWDQRYKhVgsFmPhcPiLYDabCail4/s+XjqLxULAtJuKomyn0+m9arUaKZfLa4RZqvvBEN7D/ts4KYQ/1HX9BBOcIj4qFosRPPE4k8kkSqXSlWmaB8htIXeL5ZwbhpHEUqLdbleEBJeyLJ/Ztn0NvTc4K7bo4nnufM5lcgG67/V6v9/D4dAE6IFix3H4HZbyrKrqy/IdmkicEN0N/BLvAL5Op1MHOl3U63UdXd9Q/AGNZUybpCaY3J5MJuQfC4XCE3AUW0SIyXeJ7xOt0UoBPkuCBAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416164944"\n        title=""\n        src="/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-fee1c.png"\n        srcset="/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-a67b7.png 200w,\n/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-0b187.png 400w,\n/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-fee1c.png 800w,\n/static/微信截图_20180416164944-6c5579e0b72d7e48a989f5a000d2ec9d-a311f.png 1005w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>在类层级结构的根部定义子节点管理接口的方法具有良好的透明性，因为你可以一致地使用所有的组件，但是这一方法以安全性为代价，因为客户有可能会做一些无意义的事情，例如在 Leaf 中增加和删除对象。</p>\n<h3 id="优缺点-2"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>使客户端调用简单，客户端可以一致的使用组合结构或其中单个对象，用户就不必关系自己处理的是单个对象还是整个组合结构，这就简化了客户端代码。</li>\n<li>定义了包含叶子对象和容器对象的类层次结构，叶子对象可以被组合成更复杂的容器对象，而这个容器对象又可以被组合，这样不断地递归下去。客户代码中，任何用到叶子对象的地方都可以使用容器对象。</li>\n<li>客户端不必因为加入了新的对象构件而更改代码。</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>组合模式的缺陷是使得设计变得更加抽象，对象的商业规则如果很复杂，则实现组合模式较困难。</li>\n<li>此外，不是所有的方法都与叶子构件子类都有关联</li>\n<li>有时候我们希望一个容器中只能有某些特定的构件。使用组合模式时，不能依赖类型系统来施加这些约束，因为它们都来自于相同的抽象层，在这种情况下，必须通过在运行时进行类型检查来实现。</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用-2"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>需要表示一个对象整体或部分层次。</li>\n<li>想让客户能够忽略不同对象层次的变化。</li>\n<li>对象的结构是动态的并且复杂程度不一样，但客户需要一致地处理它们。</li>\n</ul>\n<h3 id="模式应用-1"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<p><strong>XML 文档解析</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416165525-d973a0f0e5d9ebdb740121fe0f824d0e-84ce9.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 581px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 49.741824440619624%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABuklEQVQoz3VSy27TQBT1p8Iu3ZQKCSq6ASEBOzaoi24QX4AEixCSJrysKoAql4iySBpjTx527Njz9tjj8ZixIxUB4mp0dedx7jlzZqz6r9CVSWLjgO4N0L2ZR9+uF/8N609gKelSYg+myzD0zUBwVWJPsbWu1P/BWpskWYi/PkT2AfcHZmrokumrRb+zObtf8njXXrdhqhZsKqPKrLbMdSmklHlRYMYgJZQzwjBhFFJKOJNK7fA7lHVNqyiIPz8O7SPsvyNCVm273zfSVaZq6H1Yvz+Mxk8UDxrmqqDGH8HhNo3Dq1E47cFkQTPBOdH5thJxpWSrV9UlZvFl6H4MXFsSX0tioYvjZb+TXBzz0EnGD+j5IzAfR1yz+PtieBsMDvLNuQEX6Ww5uuP190XosPnr1WAPOU8trQqYrGSRmRNZhqPpW/DlJHBeCK9HYMDpdudNg88QSoPGx0o2kJxbWvI0/mk2jLKMbYPZEM26yD0lwMYJYGhdGxdb3YJGaezVutRKJLErBbTw5MR70yGXz4t4En26F9lHZfqj+SepC0aHbm+fLs6aV0RXYHjXH9wS63E2fxmc7tHJs186SSQ9BKVMnwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416165525"\n        title=""\n        src="/static/微信截图_20180416165525-d973a0f0e5d9ebdb740121fe0f824d0e-84ce9.png"\n        srcset="/static/微信截图_20180416165525-d973a0f0e5d9ebdb740121fe0f824d0e-1b05b.png 200w,\n/static/微信截图_20180416165525-d973a0f0e5d9ebdb740121fe0f824d0e-f343a.png 400w,\n/static/微信截图_20180416165525-d973a0f0e5d9ebdb740121fe0f824d0e-84ce9.png 581w"\n        sizes="(max-width: 581px) 100vw, 581px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><strong>文件目录操作</strong></p>\n<p>操作系统中的目录结构是一个树形结构，因此在对文件和文件夹进行操作时可以应用组合模式，例如杀毒软件在查毒或杀毒时，既可以针对一个具体文件，也可以针对一个目录。如果是对目录查毒或杀毒，将递归处理目录中的每一个子目录和文件。</p>\n<h2 id="装饰模式decorator"><a href="#%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8Fdecorator" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>装饰模式(Decorator)</h2>\n<p>动态地给一个对象添加一些额外的职责。就增加功能来说，Decorator 模式相比生成子类更为灵活</p>\n<h3 id="模式背景-1"><a href="#%E6%A8%A1%E5%BC%8F%E8%83%8C%E6%99%AF-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式背景</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416172449-cbd28132c536c31a8421386a912f69b1-010a0.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 238px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 146.6386554621849%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACu0lEQVRIx42VfUsyURDF9/t/Dv8KlEKRpFJ8N01UtHwtLTUtrdQsVNR5+A1ccX1a3QvD1t29586Zc2a0zs7O5Pb2VhKJhCSTyT/j2DsTqVRKQqGQWHd3d3Jqvby8SKFQOPnd6+urWLlcztWHxWJRttvt0e+63a5YXq9XWq2WVCoVub+//y/Yr1ar0mg0/nxvolarSSwWE+vq6kpms5kMh0N5f393jLe3t6PvPj4+pFQqieWmNm4XwFYgENDsnp+fNRCAJ/Uwe51OR9rttmM8PT3pOdxiXVxcKH8kz2azcnNzI5FIRK6vryWfzwuiUUMOPj4+6uHDYJ9LM5mMWBRyPp+rLUajkZTL5V2BubXX6+l7N0ttQ1aswWAgX19fCkpMp1P5/PyU399f2Ww2R2O9XisGLKxwOKzFJCPkh6bH49FMyY5LWHjQyYdmH9oWLcPq9/tKDQvhS9IHbLVa2Q6dBKQPoUdhoUorUjs8xSUAf39/HwW1AcbjcaVGa43HY4lGo6oqIlFXPppMJu4BjSiAQRffkTHZLhYL3TNFNwcPgW2AiNJsNlUMzOzz+dQ2XMQH9DBt5RrQTBvokQ29+fPzo4Isl0vNlif2cKJtA6RmHMblCEMtaUVsQ3aXl5f6RCCnWtoA8R/WqNframJqx9P0Mt5EaRg4qW0DpKFZ1JFaAUKGzEH+h7LxoivKDAHqhh/Z4PcDL56fn6vBzUUspzr+aRtAoWoEMdTpnkOgo4BkSH0wOPVijJFlMBjcjSaGhGtjp9Pp3aSg6HQNwwJRADIGdw1INtB8eHhQNQEGDBvRPYDz3jVlpjOGRm0AAcJCTCGGBBfs+++kyqZTzLjCNlCHKheRHZTZ2+/p/TCi7TLkD0RBBOwCfb/fr5ZBKPObcdjThxmSjIrCBrYhI2jyN8pTQ9MhZE+mZuQfhhH2H5nHfHZ2nCz3AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416172449"\n        title=""\n        src="/static/微信截图_20180416172449-cbd28132c536c31a8421386a912f69b1-010a0.png"\n        srcset="/static/微信截图_20180416172449-cbd28132c536c31a8421386a912f69b1-279da.png 200w,\n/static/微信截图_20180416172449-cbd28132c536c31a8421386a912f69b1-010a0.png 238w"\n        sizes="(max-width: 238px) 100vw, 238px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="93611155397639110000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Person\n{\n    private string name;\n    public Person(string name)\n    {\n        this.name = name;\n    }\n    public void WearTShirts()\n    {\n        Console.Write(&quot;T恤 &quot;);\n    }\n    public void WearJeans()\n    {\n        Console.Write(&quot;牛仔裤 &quot;);\n    }\n    public void WearSneakers()\n    {\n        Console.Write(&quot;球鞋 &quot;);\n    }\n    public void WearSuit()\n    {\n        Console.Write(&quot;西装 &quot;);\n    }\n    public void WearTrousers()\n    {\n        Console.Write(&quot;西裤 &quot;);\n    }\n    public void WearLeatherShoes()\n    {\n        Console.Write(&quot;皮鞋 &quot;);\n    }\n    public void Show()\n    {\n        Console.WriteLine(&quot;装扮的{0}&quot;, name);\n    }\n}\nstatic void Main(string[] args)\n{\n    Person zs = new Person(&quot;张三&quot;);\n\n    Console.WriteLine(&quot;\\n第一种装扮：&quot;);\n    zs.WearTShirts();\n    zs.WearJeans();\n    zs.WearSneakers();\n    zs.Show();\n\n    Console.WriteLine(&quot;\\n第二种装扮：&quot;);\n    zs.WearSuit();\n    zs.WearTrousers();\n    zs.WearLeatherShoes();\n    zs.Show();\n\n    Console.Read();\n}`, `93611155397639110000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Person</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearTShirts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"T恤 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearJeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"牛仔裤 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearSneakers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"球鞋 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearSuit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"西装 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"西裤 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">WearLeatherShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"皮鞋 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"装扮的{0}"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Person zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\\n第一种装扮："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearTShirts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearJeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearSneakers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\\n第二种装扮："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearSuit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearTrousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">WearLeatherShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>不断添加新的衣服怎么办? 原则?</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-4a0d2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 27.923387096774192%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABgElEQVQY04VRu04CQRRdwMJC7XwEY0siEgstbLD2A/gGC8MPuOUWrKEgbgEIIRAijY0FySYbQmEhAQIszRJhgUVe4RmVCGElFuMZYoyN8SaTM3PuyZm5Z5hMJrPa7/fvxuPxQ6/X89rtdiMhxMigRqPRuaZpj/V6XWq1WieUK5VKy96flU6nN2q12idMSLfbffZ4PCvYmmivWq0GKT+fzwk0DsrNZjMTKMP3YigqimLIZrOGH1NJkk5TqdQZXnv8+zJRFPfi8fhFMpl0JBKJNeafohcwgUDA5vf7t9xu9zrP85ZQKHTg9XrNQJvL5bI6nc5NlmXNHMcd+nw+SyQS2RUE4SgcDluj0ehOLBbbB9qKxeL20nUymZBOp1NAfsHFYkGGw+EUuV0NBoM3XdcJ8r1BFI90bKAM3TXGJsAP6Hjk/ELP0N0uDZvN5ivyEWVZ5hH+tN1uq/l8nn1C4SOmqqryhULhvtFo6NBKuVyOq1QqUzxCg+6yXC4r4N9hLlC/L8FvDJl2OJkoAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416173121"\n        title=""\n        src="/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-fee1c.png"\n        srcset="/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-a67b7.png 200w,\n/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-0b187.png 400w,\n/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-fee1c.png 800w,\n/static/微信截图_20180416173121-26b8acec24200d3f917ec70b84520881-4a0d2.png 992w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94754092795918900000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Person\n{\n    private string name;\n    public Person(string name)\n    {\n        this.name = name;\n    }\n\n    public void Show()\n    {\n        Console.WriteLine(&quot;装扮的{0}&quot;, name);\n    }\n}\nabstract class Finery   //服饰\n{\n    public abstract void Show();\n}\n\nclass TShirts : Finery   //T恤\n{\n    public override void Show()\n    {\n        Console.Write(&quot;T恤 &quot;);\n    }\n}\nclass Jeans : Finery   //牛仔裤\n{\n    public override void Show()\n    {\n\n        Console.Write(&quot;牛仔裤 &quot;);\n    }\n}\nclass Sneakers : Finery   //球鞋\n{\n    public override void Show()\n    {\n\n        Console.Write(&quot;球鞋 &quot;);\n    }\n}\nstatic void Main(string[] args)\n{\n    Person zs = new Person(&quot;张三&quot;);\n\n    Console.WriteLine(&quot;\\n第一种装扮：&quot;);\n    Finery tx = new TShirts();\n    Finery nzk = new Jeans();\n    Finery qx = new Sneakers();\n\n    tx.Show();\n    nzk.Show();\n    qx.Show();\n    zs.Show();\n\n    Console.WriteLine(&quot;\\n第二种装扮：&quot;);\n    Finery xz = new Suit();\n    Finery xk = new Trousers();\n    Finery px = new LeatherShoes();\n\n    xz.Show();\n    xk.Show();\n    px.Show();\n    zs.Show();\n\n    Console.Read();\n}`, `94754092795918900000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Person</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"装扮的{0}"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nabstract <span class="token keyword">class</span> <span class="token class-name">Finery</span>   <span class="token comment">//服饰</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">TShirts</span> <span class="token operator">:</span> Finery   <span class="token comment">//T恤</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"T恤 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Jeans</span> <span class="token operator">:</span> Finery   <span class="token comment">//牛仔裤</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"牛仔裤 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Sneakers</span> <span class="token operator">:</span> Finery   <span class="token comment">//球鞋</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"球鞋 "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Person zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\\n第一种装扮："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery tx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TShirts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery nzk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Jeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery qx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Sneakers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    tx<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    nzk<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    qx<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\\n第二种装扮："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery xz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Suit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery xk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trousers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Finery px <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">LeatherShoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    xz<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    xk<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    px<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    zs<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>期望：内部组装完毕，再显示出来，这就要用到装饰模式。</p>\n<h3 id="模式动机-3"><a href="#%E6%A8%A1%E5%BC%8F%E5%8A%A8%E6%9C%BA-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式动机</h3>\n<ul>\n<li>有时我们希望给某个对象而不是整个类添加一些功能。例如：一个图形用户界面工具箱允许我们对任意一个用户界面组件添加一些新的特性，如增加一个边框；或者增加一些行为，如窗口的滚动。</li>\n<li>一种较为灵活的方式是将组件嵌入另一个对象中，由这个对象来添加边框。我们称这个嵌入的对象为装饰器（Decorator）。这个装饰与它所装饰的组件接口一致，因此它对使用该组件的客户透明。它将客户请求转发给该组件，并且可能在转发前后执行一些额外的动作。这种透明性使得我们可以递归嵌套多个装饰，从而可以添加任意多的功能。</li>\n</ul>\n<h3 id="模式定义-3"><a href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式定义</h3>\n<p>动态地给一个对象增加一些额外的职责（Responsibility），就增加对象功能来说，装饰模式比生成子类实现更为灵活。其别名为包装器(Wrapper)。装饰模式是一种对象结构型模 式。</p>\n<h3 id="模式结构-2"><a href="#%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式结构</h3>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416173909-7a9f5deea7168ecebce4f8fb3f108e65-55e1c.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 689px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 71.26269956458636%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACiElEQVQ4y5VTT2iSYRj38/vKmIwOERUR0dgpqJ06jW5BtcUsWFKHokOHQdChu1REtogdOoS7LYmNDbQEU0RRN51TN/HP3BR1Hibiv3SK6NgO8+33fH5GUBvsgYfn4/197+99fs/vfWUyKSKRiJzq+vr6cDQa1TscDt3a2tq3ZDL5lNYZY7JjRSaT4ammUqkJbGalUokKw0E/sSxXq9UKQRAU+D6JpCocSej1ekVCn8/3LJfLMWSrXq+zeDz+ldaNRiOvVCpJBSflqf8SoQM+FosJjUZDPNHlcl1E3jQYDBq32z2KEVwhuUh+d3dXaLVa4mg4jlPIjhnKw4BCocBJ0v+N1dXVV5ClCQQCbyBXA0PeB4NBdQ9fXl6+BgVv/X7/683NzXeJROIBrQ8MDPRJcxSkEXQDJrSr1apowtbWFms2mwwbf/TwjY2Nx3t7ezRT1m63GQiDKpXqNKB+hUJxDvUM8sQfQnTXrNVqrFwuMzKBAo5/7+GY4yM6MJ/Pd4gQ/3sGBweVh14lp9M5BofVyIeQNo4un+D+DfdwGHQZssftdvvnpaWlCfxzQyKTYzTyxcVF3mQycRLXsUzqPwrEQ+h+rKys8KFQSIBsOU7qQyd30MntmZmZe7Ozs6Pz8/P3dTrddfpXq9WenZubU2FtZHp6esxqtd4ym8139Xr9JcKxv0vq8XjEli0Wy/lwOHwAo2j4NMtOpVJhGMEHwiFxaHt7WzQom82KSTjG9fLv10ZdioQ2m+0CkRWLRdEgcpcinU5PSVdsiMwjEynxGA4Ix014Qfj+/n6XEDLFurCw0I8uJvE6pjD8T+jgI8i/oOsRwnFXr+JltdD9DrAddPcLJKToOeGdTkf+G0fCwWTiX2hrAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416173909"\n        title=""\n        src="/static/微信截图_20180416173909-7a9f5deea7168ecebce4f8fb3f108e65-55e1c.png"\n        srcset="/static/微信截图_20180416173909-7a9f5deea7168ecebce4f8fb3f108e65-f8f03.png 200w,\n/static/微信截图_20180416173909-7a9f5deea7168ecebce4f8fb3f108e65-d8034.png 400w,\n/static/微信截图_20180416173909-7a9f5deea7168ecebce4f8fb3f108e65-55e1c.png 689w"\n        sizes="(max-width: 689px) 100vw, 689px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>Component：组件</li>\n<li>ConcreteComponent：具体组件</li>\n<li>Decorator：抽象装饰类</li>\n<li>ConcreteDecorator：具体装饰类</li>\n</ul>\n<p><strong>穿衣服</strong></p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-5d178.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 44.88752556237218%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAByklEQVQoz41SO0uCYRT+vm6G3YhSHAtyCaLBHxBubgUtDQ3V5qYSbgaBUAZBgyEYRoODoJtOiXyg4mUR7/e7hibiYIs3eHteM6glO3B4n/O8fM93zvMehpmE1+tlCCFjXKvV7pPJZCidTr/QWiKRsEKhkGX+E7FYbHwGg0EWgrOAbC6X4/r9PqlWq3nUi0qlkieVSheAF1Qq1XTRSCTyq9ZqtSKj0Xhos9l2fvJisXh+qlg0Gv0WFVUqlZNQKHSB8bcoZzAY+H6//9TpdJ6Vy+Vdylmt1r9Hh09z9IzH40dkEvBQSblisbjX7XbHXCaTsVIOcMZut7MOh4PlOI5xuVxsIBBgYc9vYZDbPp/vCj/Q4nKfcuh4ye1234bD4ZdSqXQwbdrRaMQwHo9nFZ4JFAoFf8LzZDIZ32Qyrcnl8k36EDTxyss6nW5Dr9evqNVqgUajEQAv0W/NZvM6HvHLX3gTQVcd5BOwpVAoDFOplA1dPoAb5PP5V+Qd8Ac2Igh8jS14w1oVgS9hSymbzbbBHY8FcfHR6/VIs9m0JxIJbjgckkaj4YNnFoxAOp1OAiM/Uy/b7fY7+Md6vU5arRaByA0EyWAwoL6fU71PoNUqlD1KC5YAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416174138"\n        title=""\n        src="/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-fee1c.png"\n        srcset="/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-a67b7.png 200w,\n/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-0b187.png 400w,\n/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-fee1c.png 800w,\n/static/微信截图_20180416174138-dbabf06f0504d8bb49e7c262d0d8b561-5d178.png 978w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="22859437847817097000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`abstract class Appearance\n{\n    public abstract void Show();\n}\nclass Person : Appearance\n{\n    private string name;\n\n    public Person(string name)\n    {\n        this.name = name;\n    }\n\n    public override void Show()\n    {\n        Console.WriteLine(&quot;装扮的{0}&quot;, name);\n    }\n}\nabstract class Finery : Appearance\n{\n    protected Appearance component;\n\n    public void Decorate(Appearance component)\n    {\n        this.component = component;\n    }\n\n    public override void Show()\n    {\n        if (component != null)\n        {\n            component.Show();\n        }\n    }\n}\nclass TShirts : Finery\n{\n    public override void Show()\n    {\n        base.Show();\n        Console.Write(&quot;T恤&quot;);\n\n    }\n}\nclass Jeans : Finery\n{\n    public override void Show()\n    {\n        base.Show();\n        Console.Write(&quot;牛仔裤&quot;);\n    }\n}\nclass Sneakers : Finery\n{\n    public override void Show()\n    {\n        base.Show();\n        Console.Write(&quot;球鞋&quot;);\n    }\n}\nstatic void Main(string[] args)\n{\n    Person xc = new Person(&quot;小菜&quot;);\n\n    Console.WriteLine(&quot;\\n第一种装扮：&quot;);\n\n    Sneakers qx = new Sneakers();\n    Jeans nzk = new Jeans();\n    TShirts tx = new TShirts();\n\n    tx.Decorate(xc);\n    nzk.Decorate(tx);\n    qx.Decorate(nzk);\n\n    qx.Show();\n\n    Console.Read();\n}`, `22859437847817097000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                cpp 复制代码\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="cpp"><pre style="counter-reset: linenumber NaN" class="language-cpp line-numbers"><code class="language-cpp">abstract <span class="token keyword">class</span> <span class="token class-name">Appearance</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> abstract <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token operator">:</span> Appearance\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> string name<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"装扮的{0}"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\nabstract <span class="token keyword">class</span> <span class="token class-name">Finery</span> <span class="token operator">:</span> Appearance\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> Appearance component<span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Decorate</span><span class="token punctuation">(</span>Appearance component<span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>component <span class="token operator">=</span> component<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>component <span class="token operator">!=</span> null<span class="token punctuation">)</span>\n        <span class="token punctuation">{</span>\n            component<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">TShirts</span> <span class="token operator">:</span> Finery\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        base<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"T恤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Jeans</span> <span class="token operator">:</span> Finery\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        base<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"牛仔裤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Sneakers</span> <span class="token operator">:</span> Finery\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        base<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        Console<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">"球鞋"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    Person xc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">"小菜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"\\n第一种装扮："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Sneakers qx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Sneakers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    Jeans nzk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Jeans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    TShirts tx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TShirts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    tx<span class="token punctuation">.</span><span class="token function">Decorate</span><span class="token punctuation">(</span>xc<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    nzk<span class="token punctuation">.</span><span class="token function">Decorate</span><span class="token punctuation">(</span>tx<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    qx<span class="token punctuation">.</span><span class="token function">Decorate</span><span class="token punctuation">(</span>nzk<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    qx<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    Console<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id="模式应用-2"><a href="#%E6%A8%A1%E5%BC%8F%E5%BA%94%E7%94%A8-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式应用</h3>\n<p><strong>星巴克咖啡订单管理系统管理</strong></p>\n<ul>\n<li>如果有一张订单：“双倍摩卡豆浆奶泡拿铁咖啡”，应该如何进行设计？</li>\n<li>如果有一张订单：“奶泡摩卡加冰浓缩咖啡”，应该如何进行设计？</li>\n</ul>\n<p><em>实现一</em></p>\n<p>类爆炸</p>\n<ul>\n<li>调料的增加/删除</li>\n<li>调料价格的修改</li>\n</ul>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-19cac.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 58.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABuUlEQVQoz4WS2Y6acBjFef9X6DzAeDHN9GJib6pOKjoiuCGrCggCRg3ivhXan5r2xjb98o/i4XycBYWfD3M6neI4jqJI1/QwCmezmaHrWfbjkSk8QpfLxTAMx3H2+/1ut9tut3JTOp9P3Mrz/D/LWZYFQYB4kiTHw+F4PLZbrfP5/M/l/DascZ2maeH5+enpU6FQ+PL6+vnlpfSthJ07DU7+e4T715+H4XM4HA4GA9u2x7dxXMfzPCpYr9d/UQbabDarNMWqaZp4ngQBmS3L4jPwA9/3wzC8B7k2GUWLxWKZJAJ9TKdTfriuC2PseX1VBQwnE5D5fI4gXhCHE8Ux+H0UWRZguI6j9fvsmIbRYD4+aKilKCC2Zam9nmHoJOGdlUulr8WiWK0W396c0UiAWq1+l5tN+2YScVDMg9TEKqakRuO9UqnVRGqYxjF1IAsHSYEF3mq9XmcNk9rVgQpjtVqRUFV7kiShuT/sdU3j4J8WLdPk0YI/HlMASTrtNg47nQ5eOFwrijK6Nc8+CcnCIR9KNVHkhoDgVcq+Dn9DTrJc0oMsy7iolMv0BEfTNBCq0HWdUJ7rdrvdX/qwgkPmDBw9AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416175157"\n        title=""\n        src="/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-fee1c.png"\n        srcset="/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-a67b7.png 200w,\n/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-0b187.png 400w,\n/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-fee1c.png 800w,\n/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-b1a91.png 1200w,\n/static/微信截图_20180416175157-dd8bf804332be706a12b0f3fc0fe3381-19cac.png 1295w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><em>实现二</em></p>\n<p>使用实例变量和继承，跟踪这些调料</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-78894.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 61.877394636015325%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABb0lEQVQoz4WS226CUBBF+f+fMlHexEJ9MRoDKsr9gFzKVaALSGlr03ZyEgfO7Jk1W6Tb7ZYkiWEYq5W83W6jKCLf7XZ937dtW9d1/jZEnuePx6P/HtL5fN7v97S4j0G14ziKsuauaRrPdQPfn66aun4WX8bo2rYsS6qZJoRQ1mvm8Eivruv6X0IC0tB1MsCqqkLj+76qqiTx/c7LJI5DIVgHeObzyAmCII7jQXw4HHRdR8PyWZaZpqkoCo3My8V1HFrAYtsWSlp4nuePx7FtyXXd6/Vq2zZDgASbrpqmwkwXCy+iiKYklKFJ0wQQ27IGMQOPx+Nk1bQJPK+a1sI/lKYgFEUhRvIwDGEefoQgGQxbLZeIKZrFmqqS/GHVp9uyLPOH0X7Sz2JWAJ6XZVHg1ozWfYTEYovFAvJmDCqwZLPZZGkqgiEgJOFUZfk8mSv0TPu6s6q+4B9W/YPNHMuyTqcT/OR8KliIYfPOM+RP8Tv3/qbaI99GtAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416175322"\n        title=""\n        src="/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-fee1c.png"\n        srcset="/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-a67b7.png 200w,\n/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-0b187.png 400w,\n/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-fee1c.png 800w,\n/static/微信截图_20180416175322-355924bd3116a112f1342a44a10b6f32-78894.png 1044w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><em>实现三</em></p>\n<p>应用以上的装饰模式</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-ff4c9.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 51.288056206088996%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB0ElEQVQozz1SW3OaQBjl3zdvbV/SmWSaSZuHNAmtMlNRuRgbLnlonA441QfTQeS2CwpeUATU9lja7MwysHznfOecb5nf/9fhcNjv91mWEUKm02kYhp7nzmaz9Xq9WCzm83maprvdDjUvEAY7z/MoilDtui6lFCw4LIoCyNVqFSdx9ZeQIKQULGhQlsURDLIQZ5RUp+gOCsMwFEURJUkQRe1R931/niSe78dxDEZUQs4RvM0ye2wNBz/LXQlJT9+fVA1L73Q69/ddbL7Z/FKrD4dDIMeWBerA96HoCC7yPE2XhvHD8zyAbu/uHhTl+voTx3E8z6N5t/utLQjvLy4mjrNcLqEUNkvoLgomyzamab5981pT1Va7remPzVbra6PRwocgoLkkd9qCCLCqqiQIRqORbdue6zqOwwwGgw+Xl7+enyEDfTRdN0yzwfO1Wh0sCig1jWXZs7NzQiliRzyIAM6RK4PuUFIlDMpXJycohc86x0mSDDpYOD191+v1kiQBEvOLwqgaCnNML0kQIlgxXsuyBEGUZRmaWfbzx6urm5vbfr8P6s1mg5wQNV7+zTn4awNP3IHJZFLNABVj2waR5/nb7XYaRXAIn5QQjPPlnvwBX10IetAUyT4AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="     20180416175553"\n        title=""\n        src="/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-fee1c.png"\n        srcset="/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-a67b7.png 200w,\n/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-0b187.png 400w,\n/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-fee1c.png 800w,\n/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-b1a91.png 1200w,\n/static/微信截图_20180416175553-2bcfd442e36822d3aada649900ba0d33-ff4c9.png 1281w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="优缺点-3"><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优缺点</h3>\n<ul>\n<li>\n<p>优点</p>\n<ul>\n<li>装饰模式与继承关系的目的都是要扩展对象的功能，但是装饰模式可以提供比继承更多的灵活性。</li>\n<li>通过使用不同的具体装饰类以及这些装饰类的排列组合，设计师可以创造出很多不同行为的组合。</li>\n<li>这种比继承更加灵活机动的特性，也同时意味着装饰模式比继承更加易于出错。</li>\n</ul>\n</li>\n<li>\n<p>缺点</p>\n<ul>\n<li>采用装饰模式进行系统设计往往会产生许多看上去类似的小对象，这些对象仅仅在他们相互连接的方式上有所不同，而不是它们的类或是它们的属性值有所不同。尽管对于那些了解这些系统的人来说，很容易对它们进行定制，但是很难学习这些系统，排错也很困难。</li>\n</ul>\n</li>\n</ul>\n<h3 id="模式使用-3"><a href="#%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模式使用</h3>\n<ul>\n<li>在不影响其它对象的情况下，以动态、透明的方式给单个对象添加职责。 需要动态地给一个对象增加功能，这些功能可以再动态地被撤销。</li>\n<li>当不能采用生成子类的方法进行扩充时。一种情况是，可能有大量独立的扩展，每一种组合将产生大量的子类，使得子类数目呈爆炸性增长。另一种情况可能是因为类定义不能继承(final 类)，或类不能用于生成子类。</li>\n</ul>\n<h3 id="需要注意的问题"><a href="#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E9%97%AE%E9%A2%98" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>需要注意的问题</h3>\n<ul>\n<li>一个装饰类的接口必须与被装饰类的接口保持相同，对于客户端来说无论是装饰之前的对象还是装饰之后的对象都可以一致对待。</li>\n<li>尽量保持具体构件类 Component 作为一个“轻”类，也就是说不要把太多的逻辑和状态放在具体构件类中，可以通过装饰类对其进行扩展。</li>\n</ul>',
excerpt:"适配器模式(Adapter) 将一个类的接口转换成客户希望的另外一个接口。Adapter 模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。 问题背景 在 NBA 我需要翻译 姚明刚来到 NBA…",frontmatter:{date:"2018-04-19 00:04:24",path:"/design-pattern-structure-1/",tags:"面试, 设计模式",title:"设计模式之结构型模式（一）",draft:null}}},pathContext:{mainPostPath:"/design-pattern-construction/",nextPostPath:"/front-end-interview-js/",prePostPath:"/design-pattern-structure-1/"}}}});