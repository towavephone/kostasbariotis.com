webpackJsonp([88544223563419],{1187:function(n,a){n.exports={data:{site:{siteMetadata:{description:'å‰ç«¯å·¥ç¨‹å¸ˆï¼Œé»‘çŒ«å¥³ç‹æ§ï¼Œæ¬¢è¿å‹¾æ­ï¼ŒæŠ€æœ¯ç›¸å…³<a href="https://github.com/towavephone" target="_blank">@towavephone</a>ï¼ŒQQé—²èŠ<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>ï¼Œbiliå…³æ³¨<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}}},pathContext:{posts:[{excerpt:"PureComponent  æœ€æ—©åœ¨ React v15.3 ç‰ˆæœ¬ä¸­å‘å¸ƒï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¼˜åŒ– React åº”ç”¨è€Œäº§ç”Ÿã€‚ åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ   ä¼šæµ…æ¯”è¾ƒ   æˆ–   æ˜¯å¦æ”¹å˜ï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ å®ç°  å’Œ   ç±»ä¼¼ï¼Œéƒ½æ˜¯å®šä¹‰ä¸€ä¸ªç»„ä»¶ç±»ã€‚ä¸åŒæ˜¯   æ²¡æœ‰å®ç°  ï¼Œè€Œ   é€šè¿‡ props å’Œ state çš„  æµ…æ¯”è¾ƒ  å®ç°äº†ã€‚ ä½¿ç”¨åœºæ™¯ å½“   çš„ props å’Œ state å‡ä¸ºåŸºæœ¬ç±»å‹ï¼Œä½¿ç”¨   ä¼šèŠ‚çœåº”ç”¨çš„æ€§èƒ½ å¯èƒ½å‡ºç°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ å½“ props æˆ– stateâ€¦",html:'<h1 id="purecomponent"><a href="#purecomponent" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PureComponent</h1>\n<p><code class="language-text">PureComponent</code> æœ€æ—©åœ¨ React v15.3 ç‰ˆæœ¬ä¸­å‘å¸ƒï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¼˜åŒ– React åº”ç”¨è€Œäº§ç”Ÿã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="98418108118836120000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class Counter extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { count: 1 };\n  }\n\n  render() {\n    return (\n      <button color={this.props.color} onClick={() => this.setState((state) => ({ count: state.count + 1 }))}>\n        Count: {this.state.count}\n      </button>\n    );\n  }\n}`, `98418108118836120000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>button color<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>color<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>\n        Count<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ <code class="language-text">React.PureComponent</code> ä¼šæµ…æ¯”è¾ƒ <code class="language-text">props.color</code> æˆ– <code class="language-text">state.count</code> æ˜¯å¦æ”¹å˜ï¼Œæ¥å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚</p>\n<ul>\n<li>\n<p><strong>å®ç°</strong></p>\n<p><code class="language-text">React.PureComponent</code> å’Œ <code class="language-text">React.Component</code> ç±»ä¼¼ï¼Œéƒ½æ˜¯å®šä¹‰ä¸€ä¸ªç»„ä»¶ç±»ã€‚ä¸åŒæ˜¯ <code class="language-text">React.Component</code> æ²¡æœ‰å®ç° <code class="language-text">shouldComponentUpdate()</code>ï¼Œè€Œ <code class="language-text">React.PureComponent</code> é€šè¿‡ props å’Œ state çš„ <strong>æµ…æ¯”è¾ƒ</strong> å®ç°äº†ã€‚</p>\n</li>\n<li>\n<p><strong>ä½¿ç”¨åœºæ™¯</strong></p>\n<p>å½“ <code class="language-text">React.Component</code> çš„ props å’Œ state å‡ä¸ºåŸºæœ¬ç±»å‹ï¼Œä½¿ç”¨ <code class="language-text">React.PureComponent</code> ä¼šèŠ‚çœåº”ç”¨çš„æ€§èƒ½</p>\n</li>\n<li>\n<p><strong>å¯èƒ½å‡ºç°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</strong></p>\n<p>å½“ props æˆ– state ä¸º <strong>å¤æ‚çš„æ•°æ®ç»“æ„</strong> ï¼ˆä¾‹å¦‚ï¼šåµŒå¥—å¯¹è±¡å’Œæ•°ç»„ï¼‰æ—¶ï¼Œå› ä¸º <code class="language-text">React.PureComponent</code> ä»…ä»…æ˜¯ <strong>æµ…æ¯”è¾ƒ</strong> ï¼Œå¯èƒ½ä¼šæ¸²æŸ“å‡º <strong>é”™è¯¯çš„ç»“æœ</strong> ã€‚è¿™æ—¶æœ‰ <strong>ä¸¤ç§è§£å†³æ–¹æ¡ˆ</strong> ï¼š</p>\n<ul>\n<li>å½“ <strong>çŸ¥é“</strong> æœ‰æ·±åº¦æ•°æ®ç»“æ„æ›´æ–°æ—¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ <strong>forceUpdate</strong> å¼ºåˆ¶æ›´æ–°</li>\n<li>è€ƒè™‘ä½¿ç”¨ <a href="https://facebook.github.io/immutable-js/" target="_blank" rel="nofollow noreferrer noopener">immutable objects</a> ï¼ˆä¸å¯çªå˜çš„å¯¹è±¡ï¼‰ï¼Œå®ç°å¿«é€Ÿçš„æ¯”è¾ƒå¯¹è±¡</li>\n</ul>\n</li>\n<li>\n<p><strong>æ³¨æ„</strong></p>\n<p><code class="language-text">React.PureComponent</code> ä¸­çš„ <code class="language-text">shouldComponentUpdate()</code> å°†è·³è¿‡æ‰€æœ‰å­ç»„ä»¶æ ‘çš„ props æ›´æ–°ï¼ˆå…·ä½“åŸå› å‚è€ƒ <a href="https://github.com/sisterAn/blog/issues/34" target="_blank" rel="nofollow noreferrer noopener">Hooks ä¸ React ç”Ÿå‘½å‘¨æœŸ</a>ï¼šå³ï¼šæ›´æ–°é˜¶æ®µï¼Œç”±çˆ¶è‡³å­å»åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ï¼‰ï¼Œæ‰€ä»¥ä½¿ç”¨ React.PureComponent çš„ç»„ä»¶ï¼Œå®ƒçš„æ‰€æœ‰ <strong>å­ç»„ä»¶ä¹Ÿå¿…é¡»éƒ½ä¸º React.PureComponent</strong> ã€‚</p>\n</li>\n</ul>\n<h1 id="purecomponent-ä¸-stateless-functional-component"><a href="#purecomponent-%E4%B8%8E-stateless-functional-component" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PureComponent ä¸ Stateless Functional Component</h1>\n<p>å¯¹äº React å¼€å‘äººå‘˜æ¥è¯´ï¼ŒçŸ¥é“ä½•æ—¶åœ¨ä»£ç ä¸­ä½¿ç”¨ <strong>Component</strong>ï¼Œ<strong>PureComponent ** å’Œ **Stateless Functional Component</strong> éå¸¸é‡è¦ã€‚</p>\n<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ— çŠ¶æ€ç»„ä»¶ã€‚</p>\n<h2 id="æ— çŠ¶æ€ç»„ä»¶"><a href="#%E6%97%A0%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ— çŠ¶æ€ç»„ä»¶</h2>\n<p>è¾“å…¥è¾“å‡ºæ•°æ®å®Œå…¨ç”± <code class="language-text">props</code> å†³å®šï¼Œè€Œä¸”ä¸ä¼šäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="85316676051286100000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const Button = (props) => <button onClick={props.onClick}>{props.text}</button>;`, `85316676051286100000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">Button</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>onClick<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p>æ— çŠ¶æ€ç»„ä»¶å¯ä»¥é€šè¿‡å‡å°‘ç»§æ‰¿ <code class="language-text">Component</code> è€Œæ¥çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°è€Œè¾¾åˆ°æ€§èƒ½ä¼˜åŒ–çš„æ•ˆæœã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæ— çŠ¶æ€ç»„ä»¶å°±æ˜¯ä¸€ä¸ªå•çº¯çš„ <code class="language-text">render</code> å‡½æ•°ï¼Œæ‰€ä»¥æ— çŠ¶æ€ç»„ä»¶çš„ç¼ºç‚¹ä¹Ÿæ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚å› ä¸ºå®ƒæ²¡æœ‰ <code class="language-text">shouldComponentUpdate</code> ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæ‰€ä»¥æ¯æ¬¡ <code class="language-text">state</code> æ›´æ–°ï¼Œå®ƒéƒ½ä¼šé‡æ–°ç»˜åˆ¶ <code class="language-text">render</code> å‡½æ•°ã€‚</p>\n<p>React 16.8 ä¹‹åï¼ŒReact å¼•å…¥ Hooks ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p>\n<h2 id="ä½•æ—¶ä½¿ç”¨-purecomponentï¼Ÿ"><a href="#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8-purecomponent%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½•æ—¶ä½¿ç”¨ <code class="language-text">PureComponent</code>ï¼Ÿ</h2>\n<p><code class="language-text">PureComponent</code> æé«˜äº†æ€§èƒ½ï¼Œå› ä¸ºå®ƒå‡å°‘äº†åº”ç”¨ç¨‹åºä¸­çš„æ¸²æŸ“æ“ä½œæ¬¡æ•°ï¼Œè¿™å¯¹äºå¤æ‚çš„ UI æ¥è¯´æ˜¯ä¸€ä¸ªå·¨å¤§çš„èƒœåˆ©ï¼Œå› æ­¤å»ºè®®å°½å¯èƒ½ä½¿ç”¨ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€äº›æƒ…å†µéœ€è¦ä½¿ç”¨ <code class="language-text">Component</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ã€‚</p>\n<h2 id="ä½•æ—¶ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼Ÿ"><a href="#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8%E6%97%A0%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½•æ—¶ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼Ÿ</h2>\n<p>æ— çŠ¶æ€ç»„ä»¶æ˜“äºå®æ–½ä¸”å¿«é€Ÿå®æ–½ã€‚å®ƒä»¬é€‚ç”¨äºéå¸¸å°çš„ UI è§†å›¾ï¼Œå…¶ä¸­é‡æ–°æ¸²æŸ“æˆæœ¬æ— å…³ç´§è¦ã€‚å®ƒä»¬æä¾›æ›´æ¸…æ™°çš„ä»£ç å’Œæ›´å°‘çš„æ–‡ä»¶æ¥å¤„ç†ã€‚</p>\n<h1 id="purecomponent-ä¸-reactmemo"><a href="#purecomponent-%E4%B8%8E-reactmemo" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PureComponent ä¸ React.memo</h1>\n<p><code class="language-text">React.memo</code> ä¸ºé«˜é˜¶ç»„ä»¶ã€‚å®ƒå®ç°çš„æ•ˆæœä¸ <code class="language-text">React.PureComponent</code> ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼š</p>\n<ul>\n<li><code class="language-text">React.memo</code> ç”¨äºå‡½æ•°ç»„ä»¶</li>\n<li><code class="language-text">React.PureComponent</code> é€‚ç”¨äº class ç»„ä»¶</li>\n<li><code class="language-text">React.PureComponent</code> åªæ˜¯æµ…æ¯”è¾ƒ <code class="language-text">props</code>ã€<code class="language-text">state</code>ï¼Œ<code class="language-text">React.memo</code> ä¹Ÿæ˜¯æµ…æ¯”è¾ƒï¼Œä½†å®ƒå¯ä»¥è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</li>\n</ul>\n<h2 id="reactmemo"><a href="#reactmemo" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React.memo</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="90937950304414740000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function MyComponent(props) {\n  /* ä½¿ç”¨ props æ¸²æŸ“ */\n}\n\n// æ¯”è¾ƒå‡½æ•°\nfunction areEqual(prevProps, nextProps) {\n  /*\n  å¦‚æœæŠŠ nextProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸\n  å°† prevProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸€è‡´åˆ™è¿”å› trueï¼Œ\n  å¦åˆ™è¿”å› false\n  è¿”å› trueï¼Œå¤ç”¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“\n  è¿”å› falseï¼Œé‡æ–°æ¸²æŸ“\n  */\n}\n\nexport default React.memo(MyComponent, areEqual);`, `90937950304414740000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">/* ä½¿ç”¨ props æ¸²æŸ“ */</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// æ¯”è¾ƒå‡½æ•°</span>\n<span class="token keyword">function</span> <span class="token function">areEqual</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">/*\n  å¦‚æœæŠŠ nextProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸\n  å°† prevProps ä¼ å…¥ render æ–¹æ³•çš„è¿”å›ç»“æœä¸€è‡´åˆ™è¿”å› trueï¼Œ\n  å¦åˆ™è¿”å› false\n  è¿”å› trueï¼Œå¤ç”¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“\n  è¿”å› falseï¼Œé‡æ–°æ¸²æŸ“\n  */</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">,</span> areEqual<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li><code class="language-text">React.memo</code> é€šè¿‡è®°å¿†ç»„ä»¶æ¸²æŸ“ç»“æœçš„æ–¹å¼å®ç° ï¼Œæé«˜ç»„ä»¶çš„æ€§èƒ½</li>\n<li>åªä¼šå¯¹ <code class="language-text">props</code> æµ…æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼ŒReact å°†è·³è¿‡æ¸²æŸ“ç»„ä»¶çš„æ“ä½œå¹¶ç›´æ¥å¤ç”¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“çš„ç»“æœã€‚</li>\n<li>å¯ä»¥å°†è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ç°è‡ªå®šä¹‰æ¯”è¾ƒ</li>\n<li>æ­¤æ–¹æ³•ä»…ä½œä¸º<strong>æ€§èƒ½ä¼˜åŒ–</strong>çš„æ–¹å¼è€Œå­˜åœ¨ã€‚ä½†è¯·ä¸è¦ä¾èµ–å®ƒæ¥â€œé˜»æ­¢â€æ¸²æŸ“ï¼Œè¿™ä¼šäº§ç”Ÿ bugã€‚</li>\n<li>ä¸ class ç»„ä»¶ä¸­ <code class="language-text">shouldComponentUpdate()</code> æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå¦‚æœ props ç›¸ç­‰ï¼Œ<code class="language-text">areEqual</code>ä¼šè¿”å› <code class="language-text">true</code>ï¼›å¦‚æœ props ä¸ç›¸ç­‰ï¼Œåˆ™è¿”å› <code class="language-text">false</code>ã€‚è¿™ä¸ <code class="language-text">shouldComponentUpdate</code> æ–¹æ³•çš„è¿”å›å€¼ç›¸åã€‚</li>\n</ul>\n<h1 id="ä½¿ç”¨-purecomponent-å¸¸è§è¯¯åŒº"><a href="#%E4%BD%BF%E7%94%A8-purecomponent-%E5%B8%B8%E8%A7%81%E8%AF%AF%E5%8C%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä½¿ç”¨ PureComponent å¸¸è§è¯¯åŒº</h1>\n<h2 id="è¯¯åŒºä¸€ï¼šåœ¨æ¸²æŸ“æ–¹æ³•ä¸­åˆ›å»ºå‡½æ•°"><a href="#%E8%AF%AF%E5%8C%BA%E4%B8%80%EF%BC%9A%E5%9C%A8%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è¯¯åŒºä¸€ï¼šåœ¨æ¸²æŸ“æ–¹æ³•ä¸­åˆ›å»ºå‡½æ•°</h2>\n<p>å¦‚æœä½ åœ¨ <code class="language-text">render</code> æ–¹æ³•é‡Œåˆ›å»ºå‡½æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨ <code class="language-text">props</code> ä¼šæŠµæ¶ˆä½¿ç”¨ <code class="language-text">React.PureComponent</code> å¸¦æ¥çš„ä¼˜åŠ¿ã€‚å› ä¸ºæ¯æ¬¡æ¸²æŸ“è¿è¡Œæ—¶ï¼Œéƒ½ä¼šåˆ†é…ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¦‚æœä½ æœ‰å­ç»„ä»¶ï¼Œå³ä½¿æ•°æ®æ²¡æœ‰æ”¹å˜ï¼Œå®ƒä»¬ä¹Ÿä¼šé‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºæµ…æ¯”è¾ƒ <code class="language-text">props</code> çš„æ—¶å€™æ€»ä¼šå¾—åˆ° <code class="language-text">false</code>ã€‚</p>\n<p>ä¾‹å¦‚ï¼š</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="10384369688064066000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// FriendsItem åœ¨çˆ¶ç»„ä»¶å¼•ç”¨æ ·å¼\n<FriendsItem key={friend.id} name={friend.name} id={friend.id} onDeleteClick={() => this.deleteFriends(friend.id)} />\n// åœ¨çˆ¶ç»„ä»¶ä¸­ç»‘å®š\n// çˆ¶ç»„ä»¶åœ¨ props ä¸­ä¼ é€’äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚ç®­å¤´å‡½æ•°åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šé‡æ–°åˆ†é…ï¼ˆå’Œä½¿ç”¨ bind çš„æ–¹å¼ç›¸åŒï¼‰`, `10384369688064066000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// FriendsItem åœ¨çˆ¶ç»„ä»¶å¼•ç”¨æ ·å¼</span>\n<span class="token operator">&lt;</span>FriendsItem key<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">}</span> id<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span> onDeleteClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteFriends</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>\n<span class="token comment">// åœ¨çˆ¶ç»„ä»¶ä¸­ç»‘å®š</span>\n<span class="token comment">// çˆ¶ç»„ä»¶åœ¨ props ä¸­ä¼ é€’äº†ä¸€ä¸ªç®­å¤´å‡½æ•°ã€‚ç®­å¤´å‡½æ•°åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šé‡æ–°åˆ†é…ï¼ˆå’Œä½¿ç”¨ bind çš„æ–¹å¼ç›¸åŒï¼‰</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>å…¶ä¸­ï¼Œ<code class="language-text">FriendsItem</code> ä¸º <code class="language-text">PureComponent</code>ï¼š</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="28030940281118876000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// å…¶ä¸­ FriendsItem ä¸º PureComponent\nclass FriendsItem extends React.PureComponent {\n  render() {\n    const { name, onDeleteClick } = this.props;\n    console.log(\\`FriendsItemï¼š\\${name} æ¸²æŸ“\\`);\n    return (\n      <div>\n        <span>{name}</span>\n        <button onClick={onDeleteClick}>åˆ é™¤</button>\n      </div>\n    );\n  }\n}\n// æ¯æ¬¡ç‚¹å‡»åˆ é™¤æ“ä½œæ—¶ï¼Œæœªåˆ é™¤çš„ FriendsItem éƒ½å°†è¢«é‡æ–°æ¸²æŸ“`, `28030940281118876000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// å…¶ä¸­ FriendsItem ä¸º PureComponent</span>\n<span class="token keyword">class</span> <span class="token class-name">FriendsItem</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> onDeleteClick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">FriendsItemï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> æ¸²æŸ“</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>\n        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onDeleteClick<span class="token punctuation">}</span><span class="token operator">></span>åˆ é™¤<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// æ¯æ¬¡ç‚¹å‡»åˆ é™¤æ“ä½œæ—¶ï¼Œæœªåˆ é™¤çš„ FriendsItem éƒ½å°†è¢«é‡æ–°æ¸²æŸ“</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href="https://stackblitz.com/edit/react-ta6tww" target="_blank" rel="nofollow noreferrer noopener">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿å®ä¾‹</a></p>\n<p>è¿™ç§åœ¨ <code class="language-text">FriendsItem</code> ç›´æ¥è°ƒç”¨ <code class="language-text">() =&gt; this.deleteFriends(friend.id)</code>ï¼Œçœ‹èµ·æ¥æ“ä½œæ›´ç®€å•ï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªæœ‰ä¸€ä¸ªæœ€å¤§çš„å¼Šç«¯ï¼Œç”šè‡³æ‰“ç ´äº†åƒ <code class="language-text">shouldComponentUpdate</code> å’Œ <code class="language-text">PureComponent</code> è¿™æ ·çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p>\n<p>è¿™æ˜¯å› ä¸ºï¼šçˆ¶ç»„ä»¶åœ¨ <code class="language-text">render</code> å£°æ˜äº†ä¸€ä¸ªå‡½æ•°<code class="language-text">onDeleteClick</code>ï¼Œæ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“éƒ½ä¼šé‡æ–°ç”Ÿæˆæ–°çš„å‡½æ•°ã€‚å› æ­¤ï¼Œæ¯æ¬¡çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œéƒ½ä¼šç»™æ¯ä¸ªå­ç»„ä»¶ <code class="language-text">FriendsItem</code> ä¼ é€’ä¸åŒçš„ <code class="language-text">props</code>ï¼Œå¯¼è‡´æ¯ä¸ªå­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œ å³ä½¿ <code class="language-text">FriendsItem</code> ä¸º <code class="language-text">PureComponent</code>ã€‚</p>\n<p><strong>é¿å…åœ¨ render æ–¹æ³•é‡Œåˆ›å»ºå‡½æ•°å¹¶ä½¿ç”¨å®ƒã€‚å®ƒä¼šæ‰“ç ´äº†åƒ shouldComponentUpdate å’Œ PureComponent è¿™æ ·çš„æ€§èƒ½ä¼˜åŒ–ã€‚</strong></p>\n<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦å°†åŸæœ¬åœ¨çˆ¶ç»„ä»¶ä¸Šçš„ç»‘å®šæ”¾åˆ°å­ç»„ä»¶ä¸Šå³å¯ã€‚<code class="language-text">FriendsItem</code> å°†å§‹ç»ˆå…·æœ‰ç›¸åŒçš„ <code class="language-text">props</code>ï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šå¯¼è‡´ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60677988240068490000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// FriendsItem åœ¨çˆ¶ç»„ä»¶å¼•ç”¨æ ·å¼\n<FriendsItem key={friend.id} id={friend.id} name={friend.name} onClick={this.deleteFriends} />`, `60677988240068490000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// FriendsItem åœ¨çˆ¶ç»„ä»¶å¼•ç”¨æ ·å¼</span>\n<span class="token operator">&lt;</span>FriendsItem key<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span> id<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span> name<span class="token operator">=</span><span class="token punctuation">{</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>deleteFriends<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>\n<p><code class="language-text">FriendsItem</code>:</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="59425071380621960000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class FriendsItem extends React.PureComponent {\n  onDeleteClick = () => {\n    this.props.onClick(this.props.id);\n  }; // åœ¨å­ç»„ä»¶ä¸­ç»‘å®š\n  render() {\n    const { name } = this.props;\n    console.log(\\`FriendsItemï¼š\\${name} æ¸²æŸ“\\`);\n    return (\n      <div>\n        <span>{name}</span>\n        <button onClick={this.onDeleteClick}>åˆ é™¤</button>\n      </div>\n    );\n  }\n}\n// æ¯æ¬¡ç‚¹å‡»åˆ é™¤æ“ä½œæ—¶ï¼ŒFriendsItem éƒ½ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“`, `59425071380621960000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">FriendsItem</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">onDeleteClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨å­ç»„ä»¶ä¸­ç»‘å®š</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">FriendsItemï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> æ¸²æŸ“</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>\n        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onDeleteClick<span class="token punctuation">}</span><span class="token operator">></span>åˆ é™¤<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// æ¯æ¬¡ç‚¹å‡»åˆ é™¤æ“ä½œæ—¶ï¼ŒFriendsItem éƒ½ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href="https://stackblitz.com/edit/react-sr5yvp" target="_blank" rel="nofollow noreferrer noopener">ç‚¹å‡»æŸ¥çœ‹åœ¨çº¿å®ä¾‹</a></p>\n<p>é€šè¿‡æ­¤æ›´æ”¹ï¼Œå½“å•å‡»åˆ é™¤æ“ä½œæ—¶ï¼Œå…¶ä»– <code class="language-text">FriendsItem</code> éƒ½ä¸ä¼šè¢«é‡æ–°æ¸²æŸ“äº† ğŸ‘</p>\n<h2 id="è¯¯åŒºäºŒï¼šåœ¨æ¸²æŸ“æ–¹æ³•ä¸­æ´¾ç”Ÿ-state"><a href="#%E8%AF%AF%E5%8C%BA%E4%BA%8C%EF%BC%9A%E5%9C%A8%E6%B8%B2%E6%9F%93%E6%96%B9%E6%B3%95%E4%B8%AD%E6%B4%BE%E7%94%9F-state" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è¯¯åŒºäºŒï¼šåœ¨æ¸²æŸ“æ–¹æ³•ä¸­æ´¾ç”Ÿ state</h2>\n<p>è€ƒè™‘ä¸€ä¸ªæ–‡ç« åˆ—è¡¨ï¼Œæ‚¨çš„ä¸ªäººèµ„æ–™ç»„ä»¶å°†ä»ä¸­æ˜¾ç¤ºç”¨æˆ·æœ€å–œæ¬¢çš„ 10 ä¸ªä½œå“ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="88520859309117880000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`render() {\n  const { posts } = this.props\n  // åœ¨æ¸²æŸ“å‡½æ•°ä¸­ç”Ÿæˆ topTenï¼Œå¹¶æ¸²æŸ“\n  const topTen = [...posts].sort((a, b) =>\n    b.likes - a.likes).slice(0, 9)\n  return //...\n}\n// è¿™ä¼šå¯¼è‡´ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„ topTenï¼Œå¯¼è‡´ä¸å¿…è¦çš„æ¸²æŸ“`, `88520859309117880000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">{</span> posts <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props\n  <span class="token comment">// åœ¨æ¸²æŸ“å‡½æ•°ä¸­ç”Ÿæˆ topTenï¼Œå¹¶æ¸²æŸ“</span>\n  <span class="token keyword">const</span> topTen <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>posts<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    b<span class="token punctuation">.</span>likes <span class="token operator">-</span> a<span class="token punctuation">.</span>likes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>\n  <span class="token keyword">return</span> <span class="token comment">//...</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// è¿™ä¼šå¯¼è‡´ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“ï¼Œéƒ½ä¼šç”Ÿæˆæ–°çš„ topTenï¼Œå¯¼è‡´ä¸å¿…è¦çš„æ¸²æŸ“</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class="language-text">topTen</code>æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶éƒ½ä¼šæœ‰ä¸€ä¸ªå…¨æ–°çš„å¼•ç”¨ï¼Œå³ä½¿ <code class="language-text">posts</code> æ²¡æœ‰æ›´æ”¹ï¼Œæ´¾ç”Ÿ <code class="language-text">state</code> ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</p>\n<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥å°† <code class="language-text">topTen</code> çš„åˆ¤æ–­é€»è¾‘æå–åˆ° <code class="language-text">render</code> å‡½æ•°ä¹‹å¤–ï¼Œé€šè¿‡ç¼“å­˜æ´¾ç”Ÿ <code class="language-text">state</code> æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œåœ¨ç»„ä»¶çš„çŠ¶æ€ä¸­è®¾ç½®æ´¾ç”Ÿ <code class="language-text">state</code>ï¼Œå¹¶ä»…åœ¨ <code class="language-text">posts</code> å·²æ›´æ–°æ—¶æ›´æ–°ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55051347794643910000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`componentWillMount() {\n  this.setTopTenPosts(this.props.posts)\n}\ncomponentWillReceiveProps(nextProps) {\n  if (this.props.posts !== nextProps.posts) {\n    this.setTopTenPosts(nextProps.posts)\n  }\n}\n// æ¯æ¬¡ posts æ›´æ–°æ—¶ï¼Œæ›´æ–°æ´¾ç”Ÿ stateï¼Œè€Œä¸æ˜¯åœ¨æ¸²æŸ“å‡½æ•°ä¸­é‡æ–°ç”Ÿæˆ\nsetTopTenPosts(posts) {\n  this.setState({\n    topTen: [...posts].sort((a, b) => b.likes - a.likes).slice(0, 9)\n  })\n}`, `55051347794643910000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTopTenPosts</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>posts <span class="token operator">!==</span> nextProps<span class="token punctuation">.</span>posts<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTopTenPosts</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>posts<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">// æ¯æ¬¡ posts æ›´æ–°æ—¶ï¼Œæ›´æ–°æ´¾ç”Ÿ stateï¼Œè€Œä¸æ˜¯åœ¨æ¸²æŸ“å‡½æ•°ä¸­é‡æ–°ç”Ÿæˆ</span>\n<span class="token function">setTopTenPosts</span><span class="token punctuation">(</span><span class="token parameter">posts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    topTen<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>posts<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> b<span class="token punctuation">.</span>likes <span class="token operator">-</span> a<span class="token punctuation">.</span>likes<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="æ€»ç»“"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ€»ç»“</h2>\n<p>åœ¨ä½¿ç”¨ <code class="language-text">PureComponent</code> æ—¶ï¼Œè¯·æ³¨æ„ï¼š</p>\n<ul>\n<li>çªå˜ä¸€èˆ¬æ˜¯ä¸å¥½çš„ï¼Œä½†åœ¨ä½¿ç”¨ <code class="language-text">PureComponent</code> æ—¶ï¼Œé—®é¢˜ä¼šæ›´åŠ å¤æ‚ã€‚</li>\n<li>ä¸è¦åœ¨æ¸²æŸ“æ–¹æ³•ä¸­åˆ›å»ºæ–°å‡½æ•°ã€å¯¹è±¡æˆ–æ•°ç»„ï¼Œè¿™ä¼šå¯¼è‡´é¡¹ç›®æ€§èƒ½æ˜¾è‘—é™ä½ã€‚</li>\n</ul>\n<h1 id="purecomponent-æºç è§£æ"><a href="#purecomponent-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>PureComponent æºç è§£æ</h1>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="28406910491833283000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// æ–°å»ºäº†ç©ºæ–¹æ³•ComponentDummy ï¼ŒComponentDummy çš„åŸå‹ æŒ‡å‘ Component çš„åŸå‹;\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\n\n/**\n * Convenience component with default shallow equality check for sCU.\n */\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  // If a component has string refs, we will assign a different object later.\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n} // è§£æåŒ React.Componentï¼Œè¯¦ç»†è¯·çœ‹ä¸Šä¸€ç« \n\n/**\n * å®ç° React.PureComponent å¯¹ React.Component çš„åŸå‹ç»§æ‰¿\n */\n/**\n * ç”¨ ComponentDummy çš„åŸå› æ˜¯ä¸ºäº†ä¸ç›´æ¥å®ä¾‹åŒ–ä¸€ä¸ª Component å®ä¾‹ï¼Œå¯ä»¥å‡å°‘ä¸€äº›å†…å­˜ä½¿ç”¨\n *\n * å› ä¸ºï¼Œæˆ‘ä»¬è¿™é‡Œåªéœ€è¦ç»§æ‰¿ React.Component çš„ åŸå‹ï¼Œç›´æ¥ PureComponent.prototype = new Component() çš„è¯\n * ä¼šç»§æ‰¿åŒ…æ‹¬ constructor åœ¨å†…çš„å…¶ä»– Component å±æ€§æ–¹æ³•ï¼Œä½†æ˜¯ PureComponent å·²ç»æœ‰è‡ªå·±çš„ constructor äº†ï¼Œ\n * å†ç»§æ‰¿çš„è¯ï¼Œé€ æˆä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—\n * æ‰€ä»¥ä¼šæ–°å»ºComponentDummyï¼Œåªç»§æ‰¿Componentçš„åŸå‹ï¼Œä¸åŒ…æ‹¬constructorï¼Œä»¥æ­¤æ¥èŠ‚çœå†…å­˜ã€‚\n */\nconst pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\n\n// ä¿®å¤ pureComponentPrototype æ„é€ å‡½æ•°æŒ‡å‘\npureComponentPrototype.constructor = PureComponent;\n\n// Avoid an extra prototype jump for these methods.\n// è™½ç„¶ä¸Šé¢ä¸¤å¥å·²ç»è®©PureComponentç»§æ‰¿äº†Component\n// ä½†å¤šåŠ ä¸€ä¸ª Object.assign()ï¼Œèƒ½æœ‰æ•ˆçš„é¿å…å¤šä¸€æ¬¡åŸå‹é“¾æŸ¥æ‰¾\nObject.assign(pureComponentPrototype, Component.prototype);\n\n// å”¯ä¸€çš„åŒºåˆ«ï¼ŒåŸå‹ä¸Šæ·»åŠ äº† isPureReactComponent å±æ€§å»è¡¨ç¤ºè¯¥ Component æ˜¯ PureComponent\n// åœ¨åç»­ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼Œreact-dom ä¼šå»åˆ¤æ–­ isPureReactComponent è¿™ä¸ªå±æ€§ï¼Œæ¥ç¡®å®šæ˜¯å¦æµ…æ¯”è¾ƒ propsã€status å®ç°æ›´æ–°\n/** åœ¨ ReactFiberClassComponent.js ä¸­ï¼Œæœ‰å¯¹ isPureReactComponent çš„åˆ¤æ–­\n if (ctor.prototype && ctor.prototype.isPureReactComponent) {\n    return (\n      !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n    );\n  }\n */\npureComponentPrototype.isPureReactComponent = true;`, `28406910491833283000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// æ–°å»ºäº†ç©ºæ–¹æ³•ComponentDummy ï¼ŒComponentDummy çš„åŸå‹ æŒ‡å‘ Component çš„åŸå‹;</span>\n<span class="token keyword">function</span> <span class="token function">ComponentDummy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token class-name">ComponentDummy</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Component</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>\n\n<span class="token comment">/**\n * Convenience component with default shallow equality check for sCU.\n */</span>\n<span class="token keyword">function</span> <span class="token function">PureComponent</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context<span class="token punctuation">,</span> updater</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>\n  <span class="token comment">// If a component has string refs, we will assign a different object later.</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>refs <span class="token operator">=</span> emptyObject<span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>updater <span class="token operator">=</span> updater <span class="token operator">||</span> ReactNoopUpdateQueue<span class="token punctuation">;</span>\n<span class="token punctuation">}</span> <span class="token comment">// è§£æåŒ React.Componentï¼Œè¯¦ç»†è¯·çœ‹ä¸Šä¸€ç« </span>\n\n<span class="token comment">/**\n * å®ç° React.PureComponent å¯¹ React.Component çš„åŸå‹ç»§æ‰¿\n */</span>\n<span class="token comment">/**\n * ç”¨ ComponentDummy çš„åŸå› æ˜¯ä¸ºäº†ä¸ç›´æ¥å®ä¾‹åŒ–ä¸€ä¸ª Component å®ä¾‹ï¼Œå¯ä»¥å‡å°‘ä¸€äº›å†…å­˜ä½¿ç”¨\n *\n * å› ä¸ºï¼Œæˆ‘ä»¬è¿™é‡Œåªéœ€è¦ç»§æ‰¿ React.Component çš„ åŸå‹ï¼Œç›´æ¥ PureComponent.prototype = new Component() çš„è¯\n * ä¼šç»§æ‰¿åŒ…æ‹¬ constructor åœ¨å†…çš„å…¶ä»– Component å±æ€§æ–¹æ³•ï¼Œä½†æ˜¯ PureComponent å·²ç»æœ‰è‡ªå·±çš„ constructor äº†ï¼Œ\n * å†ç»§æ‰¿çš„è¯ï¼Œé€ æˆä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—\n * æ‰€ä»¥ä¼šæ–°å»ºComponentDummyï¼Œåªç»§æ‰¿Componentçš„åŸå‹ï¼Œä¸åŒ…æ‹¬constructorï¼Œä»¥æ­¤æ¥èŠ‚çœå†…å­˜ã€‚\n */</span>\n<span class="token keyword">const</span> pureComponentPrototype <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">PureComponent</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ComponentDummy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// ä¿®å¤ pureComponentPrototype æ„é€ å‡½æ•°æŒ‡å‘</span>\npureComponentPrototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> PureComponent<span class="token punctuation">;</span>\n\n<span class="token comment">// Avoid an extra prototype jump for these methods.</span>\n<span class="token comment">// è™½ç„¶ä¸Šé¢ä¸¤å¥å·²ç»è®©PureComponentç»§æ‰¿äº†Component</span>\n<span class="token comment">// ä½†å¤šåŠ ä¸€ä¸ª Object.assign()ï¼Œèƒ½æœ‰æ•ˆçš„é¿å…å¤šä¸€æ¬¡åŸå‹é“¾æŸ¥æ‰¾</span>\nObject<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>pureComponentPrototype<span class="token punctuation">,</span> <span class="token class-name">Component</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// å”¯ä¸€çš„åŒºåˆ«ï¼ŒåŸå‹ä¸Šæ·»åŠ äº† isPureReactComponent å±æ€§å»è¡¨ç¤ºè¯¥ Component æ˜¯ PureComponent</span>\n<span class="token comment">// åœ¨åç»­ç»„ä»¶æ¸²æŸ“çš„æ—¶å€™ï¼Œreact-dom ä¼šå»åˆ¤æ–­ isPureReactComponent è¿™ä¸ªå±æ€§ï¼Œæ¥ç¡®å®šæ˜¯å¦æµ…æ¯”è¾ƒ propsã€status å®ç°æ›´æ–°</span>\n<span class="token comment">/** åœ¨ ReactFiberClassComponent.js ä¸­ï¼Œæœ‰å¯¹ isPureReactComponent çš„åˆ¤æ–­\n if (ctor.prototype &amp;&amp; ctor.prototype.isPureReactComponent) {\n    return (\n      !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n    );\n  }\n */</span>\npureComponentPrototype<span class="token punctuation">.</span>isPureReactComponent <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>è¿™é‡Œåªæ˜¯ <code class="language-text">PureComponent</code> çš„å£°æ˜åˆ›å»ºï¼Œè‡³äºå¦‚ä½•å®ç° <code class="language-text">shouldComponentUpdate()</code> ï¼Œæ ¸å¿ƒä»£ç åœ¨ï¼š</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="33455974715666637000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// ReactFiberClassComponent.js\nfunction checkShouldComponentUpdate(workInProgress, ctor, oldProps, newProps, oldState, newState, nextContext) {\n  // ...\n  if (ctor.prototype && ctor.prototype.isPureReactComponent) {\n    // å¦‚æœæ˜¯çº¯ç»„ä»¶ï¼Œæ¯”è¾ƒæ–°è€ propsã€state\n    // è¿”å› trueï¼Œé‡æ–°æ¸²æŸ“ï¼Œ\n    // å³ shallowEqual props è¿”å› falseï¼Œæˆ– shallowEqual state è¿”å› false\n    return !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState);\n  }\n  return true;\n}`, `33455974715666637000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// ReactFiberClassComponent.js</span>\n<span class="token keyword">function</span> <span class="token function">checkShouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">workInProgress<span class="token punctuation">,</span> ctor<span class="token punctuation">,</span> oldProps<span class="token punctuation">,</span> newProps<span class="token punctuation">,</span> oldState<span class="token punctuation">,</span> newState<span class="token punctuation">,</span> nextContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctor<span class="token punctuation">.</span>prototype <span class="token operator">&amp;&amp;</span> ctor<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>isPureReactComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// å¦‚æœæ˜¯çº¯ç»„ä»¶ï¼Œæ¯”è¾ƒæ–°è€ propsã€state</span>\n    <span class="token comment">// è¿”å› trueï¼Œé‡æ–°æ¸²æŸ“ï¼Œ</span>\n    <span class="token comment">// å³ shallowEqual props è¿”å› falseï¼Œæˆ– shallowEqual state è¿”å› false</span>\n    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">shallowEqual</span><span class="token punctuation">(</span>oldProps<span class="token punctuation">,</span> newProps<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">shallowEqual</span><span class="token punctuation">(</span>oldState<span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>shallowEqual.js</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="25716812241001705000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`/**\n * é€šè¿‡éå†å¯¹è±¡ä¸Šçš„é”®å¹¶è¿”å› false æ¥æ‰§è¡Œç›¸ç­‰æ€§\n * åœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œå½“ä»»æ„é”®å¯¹åº”çš„å€¼ä¸ä¸¥æ ¼ç›¸ç­‰æ—¶ï¼Œè¿”å› falseã€‚\n * å½“æ‰€æœ‰é”®çš„å€¼ä¸¥æ ¼ç›¸ç­‰æ—¶,è¿”å› trueã€‚\n */\nfunction shallowEqual(objA: mixed, objB: mixed): boolean {\n  // é€šè¿‡ Object.is åˆ¤æ–­ objAã€objB æ˜¯å¦ç›¸ç­‰\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== \'object\' || objA === null || typeof objB !== \'object\' || objB === null) {\n    return false;\n  }\n\n  // å‚æ•°åˆ—è¡¨\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  // å‚æ•°åˆ—è¡¨é•¿åº¦ä¸ç›¸åŒ\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // æ¯”è¾ƒå‚æ•°åˆ—è¡¨æ¯ä¸€ä¸ªå‚æ•°ï¼Œä½†ä»…æ¯”è¾ƒä¸€å±‚\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}`, `25716812241001705000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">/**\n * é€šè¿‡éå†å¯¹è±¡ä¸Šçš„é”®å¹¶è¿”å› false æ¥æ‰§è¡Œç›¸ç­‰æ€§\n * åœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œå½“ä»»æ„é”®å¯¹åº”çš„å€¼ä¸ä¸¥æ ¼ç›¸ç­‰æ—¶ï¼Œè¿”å› falseã€‚\n * å½“æ‰€æœ‰é”®çš„å€¼ä¸¥æ ¼ç›¸ç­‰æ—¶,è¿”å› trueã€‚\n */</span>\n<span class="token keyword">function</span> <span class="token function">shallowEqual</span><span class="token punctuation">(</span><span class="token parameter">objA<span class="token punctuation">:</span> mixed<span class="token punctuation">,</span> objB<span class="token punctuation">:</span> mixed</span><span class="token punctuation">)</span><span class="token punctuation">:</span> boolean <span class="token punctuation">{</span>\n  <span class="token comment">// é€šè¿‡ Object.is åˆ¤æ–­ objAã€objB æ˜¯å¦ç›¸ç­‰</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is</span><span class="token punctuation">(</span>objA<span class="token punctuation">,</span> objB<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> objA <span class="token operator">!==</span> <span class="token string">\'object\'</span> <span class="token operator">||</span> objA <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> objB <span class="token operator">!==</span> <span class="token string">\'object\'</span> <span class="token operator">||</span> objB <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// å‚æ•°åˆ—è¡¨</span>\n  <span class="token keyword">const</span> keysA <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>objA<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> keysB <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>objB<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// å‚æ•°åˆ—è¡¨é•¿åº¦ä¸ç›¸åŒ</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>keysA<span class="token punctuation">.</span>length <span class="token operator">!==</span> keysB<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// æ¯”è¾ƒå‚æ•°åˆ—è¡¨æ¯ä¸€ä¸ªå‚æ•°ï¼Œä½†ä»…æ¯”è¾ƒä¸€å±‚</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keysA<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>objB<span class="token punctuation">,</span> keysA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is</span><span class="token punctuation">(</span>objA<span class="token punctuation">[</span>keysA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> objB<span class="token punctuation">[</span>keysA<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="é™„ï¼šobjectisï¼ˆæ¥è‡ª-mdnï¼‰"><a href="#%E9%99%84%EF%BC%9Aobjectis%EF%BC%88%E6%9D%A5%E8%87%AA-mdn%EF%BC%89" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é™„ï¼šObject.isï¼ˆæ¥è‡ª MDNï¼‰</h2>\n<p><code class="language-text">Object.is()</code> åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness" target="_blank" rel="nofollow noreferrer noopener">ç›¸åŒ</a>ã€‚</p>\n<p>è¿™ç§ç›¸ç­‰æ€§åˆ¤æ–­é€»è¾‘å’Œä¼ ç»Ÿçš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">==</code></a> è¿ç®—ä¸åŒï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">==</code></a> è¿ç®—ç¬¦ä¼šå¯¹å®ƒä¸¤è¾¹çš„æ“ä½œæ•°åšéšå¼ç±»å‹è½¬æ¢ï¼ˆå¦‚æœå®ƒä»¬ç±»å‹ä¸åŒï¼‰ï¼Œç„¶åæ‰è¿›è¡Œç›¸ç­‰æ€§æ¯”è¾ƒï¼Œï¼ˆæ‰€ä»¥æ‰ä¼šæœ‰ç±»ä¼¼ <code class="language-text">&quot;&quot; == false</code> ç­‰äº <code class="language-text">true</code> çš„ç°è±¡ï¼‰ï¼Œä½† <code class="language-text">Object.is</code> ä¸ä¼šåšè¿™ç§ç±»å‹è½¬æ¢ã€‚</p>\n<p>è¿™ä¸ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Identity" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">===</code></a> è¿ç®—ç¬¦çš„åˆ¤å®šæ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Identity" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">===</code></a> è¿ç®—ç¬¦ï¼ˆå’Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">==</code></a> è¿ç®—ç¬¦ï¼‰å°†æ•°å­—å€¼ <code class="language-text">-0</code> å’Œ <code class="language-text">+0</code> è§†ä¸ºç›¸ç­‰ï¼Œå¹¶è®¤ä¸º <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/NaN" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">Number.NaN</code></a> ä¸ç­‰äº <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">NaN</code></a>ã€‚</p>\n<p>å¦‚æœä¸‹åˆ—ä»»ä½•ä¸€é¡¹æˆç«‹ï¼Œåˆ™ä¸¤ä¸ªå€¼ç›¸åŒï¼š</p>\n<ul>\n<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">undefined</code></a></li>\n<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">null</code></a></li>\n<li>ä¸¤ä¸ªå€¼éƒ½æ˜¯ <code class="language-text">true</code> æˆ–è€…éƒ½æ˜¯ <code class="language-text">false</code></li>\n<li>ä¸¤ä¸ªå€¼æ˜¯ç”±ç›¸åŒä¸ªæ•°çš„å­—ç¬¦æŒ‰ç…§ç›¸åŒçš„é¡ºåºç»„æˆçš„å­—ç¬¦ä¸²</li>\n<li>ä¸¤ä¸ªå€¼æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>\n<li>\n<p>ä¸¤ä¸ªå€¼éƒ½æ˜¯æ•°å­—å¹¶ä¸”</p>\n<ul>\n<li>éƒ½æ˜¯æ­£é›¶ <code class="language-text">+0</code></li>\n<li>éƒ½æ˜¯è´Ÿé›¶ <code class="language-text">-0</code></li>\n<li>éƒ½æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">NaN</code></a></li>\n<li>éƒ½æ˜¯é™¤é›¶å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/NaN" target="_blank" rel="nofollow noreferrer noopener"><code class="language-text">NaN</code></a> å¤–çš„å…¶å®ƒåŒä¸€ä¸ªæ•°å­—</li>\n</ul>\n</li>\n</ul>',
id:"/github/workspace/blog/Reactä¹‹PureComponentå…¥é—¨å­¦ä¹ /index.md absPath of file >>> MarkdownRemark",timeToRead:9,frontmatter:{date:"2019-09-19 19:44:14",path:"/react-purecomponent-practice-learn/",tags:"å‰ç«¯, React, PureComponent",title:"Reactä¹‹PureComponentå…¥é—¨å­¦ä¹ ",draft:null}},{excerpt:"React ç”Ÿå‘½å‘¨æœŸå¾ˆå¤šäººéƒ½äº†è§£ï¼Œä½†é€šå¸¸æˆ‘ä»¬æ‰€äº†è§£çš„éƒ½æ˜¯  å•ä¸ªç»„ä»¶  çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†é’ˆå¯¹  Hooks ç»„ä»¶ã€å¤šä¸ªå…³è”ç»„ä»¶ ï¼ˆçˆ¶å­ç»„ä»¶å’Œå…„å¼Ÿç»„ä»¶ï¼‰ çš„ç”Ÿå‘½å‘¨æœŸåˆæ˜¯æ€ä¹ˆæ ·çš„å–ƒï¼Ÿä½ æœ‰æ€è€ƒå’Œäº†è§£è¿‡å—ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å®Œæ•´çš„äº†è§£ React ç”Ÿå‘½å‘¨æœŸã€‚ å…³äº  ç»„ä»¶  ï¼Œæˆ‘ä»¬è¿™é‡ŒæŒ‡çš„æ˜¯   ä»¥åŠ   ï¼Œä½†æ˜¯å¦åŒ…æ‹¬ Hooks ç»„ä»¶å‘¢ï¼Ÿ Hooks ç»„ä»¶ å‡½æ•°ç»„ä»¶  çš„æœ¬è´¨æ˜¯å‡½æ•°ï¼Œæ²¡æœ‰ state çš„æ¦‚å¿µçš„ï¼Œå› æ­¤ ä¸å­˜åœ¨ç”Ÿå‘½å‘¨æœŸ ä¸€è¯´ï¼Œä»…ä»…æ˜¯ä¸€ä¸ª  render å‡½æ•° è€Œå·²ã€‚ ä½†æ˜¯å¼•å…¥  Hooksâ€¦",html:'<p>React ç”Ÿå‘½å‘¨æœŸå¾ˆå¤šäººéƒ½äº†è§£ï¼Œä½†é€šå¸¸æˆ‘ä»¬æ‰€äº†è§£çš„éƒ½æ˜¯ <strong>å•ä¸ªç»„ä»¶</strong> çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†é’ˆå¯¹ <strong>Hooks ç»„ä»¶ã€å¤šä¸ªå…³è”ç»„ä»¶</strong>ï¼ˆçˆ¶å­ç»„ä»¶å’Œå…„å¼Ÿç»„ä»¶ï¼‰ çš„ç”Ÿå‘½å‘¨æœŸåˆæ˜¯æ€ä¹ˆæ ·çš„å–ƒï¼Ÿä½ æœ‰æ€è€ƒå’Œäº†è§£è¿‡å—ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å®Œæ•´çš„äº†è§£ React ç”Ÿå‘½å‘¨æœŸã€‚</p>\n<p>å…³äº <strong>ç»„ä»¶</strong> ï¼Œæˆ‘ä»¬è¿™é‡ŒæŒ‡çš„æ˜¯ <code class="language-text">React.Component</code> ä»¥åŠ <code class="language-text">React.PureComponent</code> ï¼Œä½†æ˜¯å¦åŒ…æ‹¬ Hooks ç»„ä»¶å‘¢ï¼Ÿ</p>\n<h1 id="hooks-ç»„ä»¶"><a href="#hooks-%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hooks ç»„ä»¶</h1>\n<p><strong>å‡½æ•°ç»„ä»¶</strong> çš„æœ¬è´¨æ˜¯å‡½æ•°ï¼Œæ²¡æœ‰ state çš„æ¦‚å¿µçš„ï¼Œå› æ­¤<strong>ä¸å­˜åœ¨ç”Ÿå‘½å‘¨æœŸ</strong>ä¸€è¯´ï¼Œä»…ä»…æ˜¯ä¸€ä¸ª <strong>render å‡½æ•°</strong>è€Œå·²ã€‚</p>\n<p>ä½†æ˜¯å¼•å…¥ <strong>Hooks</strong> ä¹‹åå°±å˜å¾—ä¸åŒäº†ï¼Œå®ƒèƒ½è®©ç»„ä»¶åœ¨ä¸ä½¿ç”¨ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ï¼Œç›¸æ¯”ä¸ class çš„ç”Ÿå‘½å‘¨æœŸæ¦‚å¿µæ¥è¯´ï¼Œå®ƒæ›´æ¥è¿‘äºå®ç°çŠ¶æ€åŒæ­¥ï¼Œè€Œä¸æ˜¯å“åº”ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚ä½†æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code class="language-text">useState</code>ã€ <code class="language-text">useEffect()</code> å’Œ <code class="language-text">useLayoutEffect()</code> æ¥æ¨¡æ‹Ÿå®ç°ç”Ÿå‘½å‘¨æœŸã€‚</p>\n<p>å³ï¼š<strong>Hooks ç»„ä»¶æ›´æ¥è¿‘äºå®ç°çŠ¶æ€åŒæ­¥ï¼Œè€Œä¸æ˜¯å“åº”ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</strong>ã€‚</p>\n<p>ä¸‹é¢ï¼Œæ˜¯å…·ä½“çš„ ç”Ÿå‘½å‘¨æœŸ ä¸ Hooks çš„<strong>å¯¹åº”å…³ç³»</strong>ï¼š</p>\n<ul>\n<li>\n<p><code class="language-text">constructor</code>ï¼šå‡½æ•°ç»„ä»¶ä¸éœ€è¦æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ <strong><code class="language-text">useState</code> æ¥åˆå§‹åŒ– state</strong>ã€‚å¦‚æœè®¡ç®—çš„ä»£ä»·æ¯”è¾ƒæ˜‚è´µï¼Œä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªå‡½æ•°ç»™ <code class="language-text">useState</code>ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="76998927352201630000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const [num, UpdateNum] = useState(0);`, `76998927352201630000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>num<span class="token punctuation">,</span> UpdateNum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n</li>\n<li>\n<p><code class="language-text">getDerivedStateFromProps</code>ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<strong>æ¸²æŸ“è¿‡ç¨‹ä¸­æ›´æ–° state</strong>ï¼Œä»¥è¾¾åˆ°å®ç° <code class="language-text">getDerivedStateFromProps</code> çš„ç›®çš„ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53055553390095580000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function ScrollView({ row }) {\nlet [isScrollingDown, setIsScrollingDown] = useState(false);\nlet [prevRow, setPrevRow] = useState(null);\n\nif (row !== prevRow) {\n  // Row è‡ªä¸Šæ¬¡æ¸²æŸ“ä»¥æ¥å‘ç”Ÿè¿‡æ”¹å˜ã€‚æ›´æ–° isScrollingDownã€‚\n  setIsScrollingDown(prevRow !== null && row > prevRow);\n  setPrevRow(row);\n}\n\nreturn \\`Scrolling down: \\${isScrollingDown}\\`;\n}`, `53055553390095580000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> row <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n<span class="token keyword">let</span> <span class="token punctuation">[</span>isScrollingDown<span class="token punctuation">,</span> setIsScrollingDown<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> <span class="token punctuation">[</span>prevRow<span class="token punctuation">,</span> setPrevRow<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">!==</span> prevRow<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Row è‡ªä¸Šæ¬¡æ¸²æŸ“ä»¥æ¥å‘ç”Ÿè¿‡æ”¹å˜ã€‚æ›´æ–° isScrollingDownã€‚</span>\n  <span class="token function">setIsScrollingDown</span><span class="token punctuation">(</span>prevRow <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> row <span class="token operator">></span> prevRow<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">setPrevRow</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Scrolling down: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>isScrollingDown<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>React ä¼šç«‹å³é€€å‡ºç¬¬ä¸€æ¬¡æ¸²æŸ“å¹¶ç”¨æ›´æ–°åçš„ state é‡æ–°è¿è¡Œç»„ä»¶ä»¥é¿å…è€—è´¹å¤ªå¤šæ€§èƒ½ã€‚</p>\n</li>\n<li>\n<p><code class="language-text">shouldComponentUpdate</code>ï¼šå¯ä»¥ç”¨ <strong><code class="language-text">React.memo</code></strong> åŒ…è£¹ä¸€ä¸ªç»„ä»¶æ¥å¯¹å®ƒçš„ <code class="language-text">props</code> è¿›è¡Œæµ…æ¯”è¾ƒ</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="70014299857322590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`const Button = React.memo((props) => {\n// å…·ä½“çš„ç»„ä»¶\n});`, `70014299857322590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">const</span> Button <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n<span class="token comment">// å…·ä½“çš„ç»„ä»¶</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>æ³¨æ„ï¼š<strong><code class="language-text">React.memo</code> ç­‰æ•ˆäº <code class="language-text">PureComponent</code></strong>ï¼Œå®ƒåªæµ…æ¯”è¾ƒ propsã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code class="language-text">useMemo</code> ä¼˜åŒ–æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>\n</li>\n<li>\n<p><code class="language-text">render</code>ï¼šè¿™æ˜¯å‡½æ•°ç»„ä»¶ä½“æœ¬èº«ã€‚</p>\n</li>\n<li>\n<p><code class="language-text">componentDidMount</code>, <code class="language-text">componentDidUpdate</code>ï¼š <code class="language-text">useLayoutEffect</code> ä¸å®ƒä»¬ä¸¤çš„è°ƒç”¨é˜¶æ®µæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬æ¨èä½ <strong>ä¸€å¼€å§‹å…ˆç”¨ useEffect</strong>ï¼Œåªæœ‰å½“å®ƒå‡ºé—®é¢˜çš„æ—¶å€™å†å°è¯•ä½¿ç”¨ <code class="language-text">useLayoutEffect</code>ã€‚<code class="language-text">useEffect</code> å¯ä»¥è¡¨è¾¾æ‰€æœ‰è¿™äº›çš„ç»„åˆã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87816557337105370000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// componentDidMount\nuseEffect(() => {\n// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹\n}, []);\n\nuseEffect(() => {\n// åœ¨ componentDidMountï¼Œä»¥åŠ count æ›´æ”¹æ—¶ componentDidUpdate æ‰§è¡Œçš„å†…å®¹\ndocument.title = \\`You clicked \\${count} times\\`;\nreturn () => {\n  // éœ€è¦åœ¨ count æ›´æ”¹æ—¶ componentDidUpdateï¼ˆå…ˆäº document.title = ... æ‰§è¡Œï¼Œéµå®ˆå…ˆæ¸…ç†åæ›´æ–°ï¼‰\n  // ä»¥åŠ componentWillUnmount æ‰§è¡Œçš„å†…å®¹\n}; // å½“å‡½æ•°ä¸­ Cleanup å‡½æ•°ä¼šæŒ‰ç…§åœ¨ä»£ç ä¸­å®šä¹‰çš„é¡ºåºå…ˆåæ‰§è¡Œï¼Œä¸å‡½æ•°æœ¬èº«çš„ç‰¹æ€§æ— å…³\n}, [count]); // ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°`, `87816557337105370000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// componentDidMount</span>\n<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n<span class="token comment">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n<span class="token comment">// åœ¨ componentDidMountï¼Œä»¥åŠ count æ›´æ”¹æ—¶ componentDidUpdate æ‰§è¡Œçš„å†…å®¹</span>\ndocument<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You clicked </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> times</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// éœ€è¦åœ¨ count æ›´æ”¹æ—¶ componentDidUpdateï¼ˆå…ˆäº document.title = ... æ‰§è¡Œï¼Œéµå®ˆå…ˆæ¸…ç†åæ›´æ–°ï¼‰</span>\n  <span class="token comment">// ä»¥åŠ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å½“å‡½æ•°ä¸­ Cleanup å‡½æ•°ä¼šæŒ‰ç…§åœ¨ä»£ç ä¸­å®šä¹‰çš„é¡ºåºå…ˆåæ‰§è¡Œï¼Œä¸å‡½æ•°æœ¬èº«çš„ç‰¹æ€§æ— å…³</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»…åœ¨ count æ›´æ”¹æ—¶æ›´æ–°</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>è¯·è®°å¾— React ä¼šç­‰å¾…æµè§ˆå™¨å®Œæˆç”»é¢æ¸²æŸ“ä¹‹åæ‰ä¼šå»¶è¿Ÿè°ƒç”¨ <code class="language-text">useEffect</code>ï¼Œå› æ­¤ä¼šä½¿å¾—é¢å¤–æ“ä½œå¾ˆæ–¹ä¾¿</strong></p>\n</li>\n<li>\n<p><code class="language-text">componentWillUnmount</code>ï¼šç›¸å½“äº <code class="language-text">useEffect</code> é‡Œé¢è¿”å›çš„ <code class="language-text">cleanup</code> å‡½æ•°</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="87769639973709320000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// componentDidMount/componentWillUnmount\nuseEffect(() => {\n// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹\nreturn function cleanup() {\n  // éœ€è¦åœ¨ componentWillUnmount æ‰§è¡Œçš„å†…å®¹\n};\n}, []);`, `87769639973709320000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// componentDidMount/componentWillUnmount</span>\n<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n<span class="token comment">// éœ€è¦åœ¨ componentDidMount æ‰§è¡Œçš„å†…å®¹</span>\n<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// éœ€è¦åœ¨ componentWillUnmount æ‰§è¡Œçš„å†…å®¹</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p><code class="language-text">componentDidCatch</code> and <code class="language-text">getDerivedStateFromError</code>ï¼šç›®å‰<strong>è¿˜æ²¡æœ‰</strong>è¿™äº›æ–¹æ³•çš„ Hook ç­‰ä»·å†™æ³•ï¼Œä½†å¾ˆå¿«ä¼šåŠ ä¸Šã€‚</p>\n</li>\n</ul>\n<p>ä¸ºæ–¹ä¾¿è®°å¿†ï¼Œå¤§è‡´æ±‡æ€»æˆè¡¨æ ¼å¦‚ä¸‹ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>class ç»„ä»¶</th>\n<th>Hooks ç»„ä»¶</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>constructor</td>\n<td>useState</td>\n</tr>\n<tr>\n<td>getDerivedStateFromProps</td>\n<td>useState é‡Œé¢ update å‡½æ•°</td>\n</tr>\n<tr>\n<td>shouldComponentUpdate</td>\n<td>useMemo</td>\n</tr>\n<tr>\n<td>render</td>\n<td>å‡½æ•°æœ¬èº«</td>\n</tr>\n<tr>\n<td>componentDidMount</td>\n<td>useEffect</td>\n</tr>\n<tr>\n<td>componentDidUpdate</td>\n<td>useEffect</td>\n</tr>\n<tr>\n<td>componentWillUnmount</td>\n<td>useEffect é‡Œé¢è¿”å›çš„å‡½æ•°</td>\n</tr>\n<tr>\n<td>componentDidCatch</td>\n<td>æ— </td>\n</tr>\n<tr>\n<td>getDerivedStateFromError</td>\n<td>æ— </td>\n</tr>\n</tbody>\n</table>\n<h1 id="å•ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#%E5%8D%95%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å•ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h1>\n<h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç”Ÿå‘½å‘¨æœŸ</h2>\n<h3 id="v163-ä¹‹å‰"><a href="#v163-%E4%B9%8B%E5%89%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>V16.3 ä¹‹å‰</h3>\n<p>æˆ‘ä»¬å¯ä»¥å°†ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p>\n<ul>\n<li>æŒ‚è½½é˜¶æ®µ</li>\n<li>ç»„ä»¶æ›´æ–°é˜¶æ®µ</li>\n<li>å¸è½½é˜¶æ®µ</li>\n</ul>\n<p>åˆ†å¼€æ¥è®²ï¼š</p>\n<ol>\n<li>\n<p>æŒ‚è½½é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">constructor</code>ï¼šé¿å…å°† props çš„å€¼å¤åˆ¶ç»™ state</li>\n<li><code class="language-text">componentWillMount</code></li>\n<li><code class="language-text">render</code>ï¼šreact æœ€é‡è¦çš„æ­¥éª¤ï¼Œåˆ›å»ºè™šæ‹Ÿ domï¼Œè¿›è¡Œ diff ç®—æ³•ï¼Œæ›´æ–° dom æ ‘éƒ½åœ¨æ­¤è¿›è¡Œ</li>\n<li><code class="language-text">componentDidMount</code></li>\n</ul>\n</li>\n<li>\n<p>ç»„ä»¶æ›´æ–°é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">componentWillReceiveProps</code></li>\n<li><code class="language-text">shouldComponentUpdate</code></li>\n<li><code class="language-text">componentWillUpdate</code></li>\n<li><code class="language-text">render</code></li>\n<li><code class="language-text">componentDidUpdate</code></li>\n</ul>\n</li>\n<li>\n<p>å¸è½½é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">componentWillUnMount</code></li>\n</ul>\n</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-64b63.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 46.2%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMUlEQVQoz31RXW/DIAzs//9je16nqVXapkkWGkJKvgsGDMxptq4P207Iss53WLY3MUYDC3zwBK01IoYY6FFpZShSvpJUJcY5R8yGSCll0zTEGmOEEFRbpCEAZaDrutZLAvEOpRRp5nm+m9FCvYN6j1a3l/FybJqi84jHyb5U02tnQcOU7Nu3rWalj0EUskxqnkuPfuns4OZAoXei5+klrSRDjyOv+S6RaaaGiR1Yuc3anFM3C07fwIClGTbxGzQzH7pU8LKTzmPP2HV/7t4Pep4rIQrGunFYF/HAszmI3mZ85q1BH2QznBLGcnED9dGzo8ha1dEifjc/FyiX6nqW52pkM5ii1odyug42xr/NYYlxvQpv9S5vT9Vg7NflfAj/dPaPj0nk0INB4/BJHu6aH3wCvBUH6w2zt08AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 09 19 15 39 27"\n        title=""\n        src="/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-fee1c.png"\n        srcset="/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-a67b7.png 200w,\n/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-0b187.png 400w,\n/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-fee1c.png 800w,\n/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-b1a91.png 1200w,\n/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-95179.png 1600w,\n/static/2019-09-19-15-39-27-eab55b0696e08d1c4eb1c06e80f91656-64b63.png 2000w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>è¿™ç§ç”Ÿå‘½å‘¨æœŸä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å½“æ›´æ–°å¤æ‚ç»„ä»¶çš„æœ€ä¸Šå±‚ç»„ä»¶æ—¶ï¼Œè°ƒç”¨æ ˆä¼šå¾ˆé•¿ï¼Œå¦‚æœåœ¨è¿›è¡Œå¤æ‚çš„æ“ä½œæ—¶ï¼Œå°±å¯èƒ½é•¿æ—¶é—´é˜»å¡ä¸»çº¿ç¨‹ï¼Œå¸¦æ¥ä¸å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œ<strong>Fiber</strong> å°±æ˜¯ä¸ºäº†è§£å†³è¯¥é—®é¢˜è€Œç”Ÿã€‚</p>\n<h3 id="v163-ä¹‹å"><a href="#v163-%E4%B9%8B%E5%90%8E" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>V16.3 ä¹‹å</h3>\n<p><strong>Fiber æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„å †æ ˆå¸§ï¼Œæ–°çš„è°ƒåº¦å™¨ä¼šæŒ‰ç…§ä¼˜å…ˆçº§è‡ªç”±è°ƒåº¦è¿™äº›å¸§ï¼Œä»è€Œå°†ä¹‹å‰çš„åŒæ­¥æ¸²æŸ“æ”¹æˆäº†å¼‚æ­¥æ¸²æŸ“ï¼Œåœ¨ä¸å½±å“ä½“éªŒçš„æƒ…å†µä¸‹å»åˆ†æ®µè®¡ç®—æ›´æ–°ã€‚</strong></p>\n<p>å¯¹äºå¼‚æ­¥æ¸²æŸ“ï¼Œåˆ†ä¸ºä¸¤é˜¶æ®µï¼š</p>\n<ul>\n<li>\n<p><code class="language-text">reconciliation</code>ï¼š</p>\n<ul>\n<li><code class="language-text">componentWillMount</code></li>\n<li><code class="language-text">componentWillReceiveProps</code></li>\n<li><code class="language-text">shouldConmponentUpdate</code></li>\n<li><code class="language-text">componentWillUpdate</code></li>\n</ul>\n</li>\n<li>\n<p><code class="language-text">commit</code></p>\n<ul>\n<li><code class="language-text">componentDidMount</code></li>\n<li><code class="language-text">componentDidUpdate</code></li>\n</ul>\n</li>\n</ul>\n<p>å…¶ä¸­ï¼Œ<code class="language-text">reconciliation</code> é˜¶æ®µæ˜¯å¯ä»¥è¢«æ‰“æ–­çš„ï¼Œæ‰€ä»¥ <code class="language-text">reconcilation</code> é˜¶æ®µæ‰§è¡Œçš„å‡½æ•°å°±ä¼šå‡ºç°å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µï¼Œæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸åˆç†çš„ã€‚</p>\n<p>æ‰€ä»¥ V16.3 å¼•å…¥äº†æ–°çš„ API æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>\n<ol>\n<li>\n<p><code class="language-text">static getDerivedStateFromProps</code>ï¼š è¯¥å‡½æ•°åœ¨<strong>æŒ‚è½½é˜¶æ®µå’Œç»„ä»¶æ›´æ–°é˜¶æ®µ</strong>éƒ½ä¼šæ‰§è¡Œï¼Œå³<strong>æ¯æ¬¡è·å–æ–°çš„<code class="language-text">props</code> æˆ– <code class="language-text">state</code> ä¹‹åéƒ½ä¼šè¢«æ‰§è¡Œ</strong>ï¼Œ<strong>åœ¨æŒ‚è½½é˜¶æ®µç”¨æ¥ä»£æ›¿<code class="language-text">componentWillMount</code></strong>ï¼›åœ¨ç»„ä»¶æ›´æ–°é˜¶æ®µé…åˆ <code class="language-text">componentDidUpdate</code>ï¼Œå¯ä»¥è¦†ç›– <code class="language-text">componentWillReceiveProps</code> çš„æ‰€æœ‰ç”¨æ³•ã€‚</p>\n<p>åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œæ‰€ä»¥å‡½æ•°ä½“å†…ä¸èƒ½è®¿é—® <code class="language-text">this</code>ï¼Œä¼šæ ¹æ® <code class="language-text">nextProps</code> å’Œ <code class="language-text">prevState</code> è®¡ç®—å‡ºé¢„æœŸçš„çŠ¶æ€æ”¹å˜ï¼Œè¿”å›ç»“æœä¼šè¢«é€ç»™ <code class="language-text">setState</code><strong>ï¼Œ</strong>è¿”å› <code class="language-text">null</code> åˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–° <code class="language-text">state</code>ï¼Œå¹¶ä¸”è¿™ä¸ªè¿”å›æ˜¯<strong>å¿…é¡»çš„</strong>ã€‚</p>\n</li>\n<li>\n<p><code class="language-text">getSnapshotBeforeUpdate</code>: è¯¥å‡½æ•°ä¼šåœ¨ <strong><code class="language-text">render</code> ä¹‹åï¼Œ DOM æ›´æ–°å‰</strong>è¢«è°ƒç”¨ï¼Œç”¨äºè¯»å–æœ€æ–°çš„ DOM æ•°æ®ã€‚</p>\n<p>è¿”å›ä¸€ä¸ªå€¼ï¼Œ<strong>ä½œä¸º <code class="language-text">componentDidUpdate</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°</strong>ï¼›é…åˆ <code class="language-text">componentDidUpdate</code>, å¯ä»¥è¦†ç›–<code class="language-text">componentWillUpdate</code> çš„æ‰€æœ‰ç”¨æ³•ã€‚</p>\n</li>\n</ol>\n<p>æ³¨æ„ï¼šV16.3 ä¸­åªç”¨åœ¨ç»„ä»¶æŒ‚è½½æˆ–ç»„ä»¶ <code class="language-text">props</code> æ›´æ–°è¿‡ç¨‹æ‰ä¼šè°ƒç”¨ï¼Œå³å¦‚æœæ˜¯å› ä¸ºè‡ªèº« setState å¼•å‘æˆ–è€… forceUpdate å¼•å‘ï¼Œè€Œä¸æ˜¯ç”±çˆ¶ç»„ä»¶å¼•å‘çš„è¯ï¼Œé‚£ä¹ˆ<code class="language-text">static getDerivedStateFromProps</code>ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ï¼Œåœ¨ V16.4 ä¸­æ›´æ­£ä¸ºéƒ½è°ƒç”¨ã€‚</p>\n<p>å³æ›´æ–°åçš„ç”Ÿå‘½å‘¨æœŸä¸ºï¼š</p>\n<ol>\n<li>\n<p>æŒ‚è½½é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">constructor</code></li>\n<li><code class="language-text">static getDerivedStateFromProps</code></li>\n<li><code class="language-text">render</code></li>\n<li><code class="language-text">componentDidMount</code></li>\n</ul>\n</li>\n<li>\n<p>æ›´æ–°é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">static getDerivedStateFromProps</code></li>\n<li><code class="language-text">shouldComponentUpdate</code></li>\n<li><code class="language-text">render</code></li>\n<li><code class="language-text">getSnapshotBeforeUpdate</code></li>\n<li><code class="language-text">componentDidUpdate</code></li>\n</ul>\n</li>\n<li>\n<p>å¸è½½é˜¶æ®µ</p>\n<ul>\n<li><code class="language-text">componentWillUnmount</code></li>\n</ul>\n</li>\n</ol>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-60fa0.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 65.97845601436265%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB1ElEQVQoz11SibKqMAzl///OGRUVAVkLbaH7xuaNF0fvexkmCTk5zekSPf+1bdv2ZF6eZBCE4K7rCIS+36Ht1/ae6C/tA4P3IXAupJTWOcHYSIj3/oPuzV8yYONAT6ejFNwYbYwJIcDYy+VirQVUaw0JpfRwOHDOIY/ei22btr4jPMkqMiqptJIvgyaMe60UJEIIICilMMbg3+RdtdA+rfkxaQqkhLLQTShVSmNMhJAtQowxIJg/FoGetm0lLKt9iW2FbU3dtaCnFMVZl1ZjhU1N3KMzeFQ7F8bCFl5k0BbHMUJo3xX8QhV82Q7XrLuX5Jr3XBpQDrYP/JI/B6aNG7mG62HCwFd2HCbfkiZvOGEGD4Jzaf8jw5FCBD0A1URXWDfUtNQ8Gpo3tB8torodTEUUGeQuG3S9yRCqqur7PkxTCJO1DrxzfvW9FSlpjqg4UHSeVO40dT4474DmoMP7aFmW32sM62yec7949JyJk6VhueH5pOvF1BsUQzt7vq7fV7Su62tymqaE0HkyfMxxdxPsoUXDhmKgGcF30ieCFda0zoowBaE4GTB4yKN5nkEDeO3MrUzi7JJUd1DCLG9ZC/kZKuUdMaSsYmqMs9MlP98eZ6n5Dzwc3073oxEkAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 09 19 15 42 52"\n        title=""\n        src="/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-fee1c.png"\n        srcset="/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-a67b7.png 200w,\n/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-0b187.png 400w,\n/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-fee1c.png 800w,\n/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-b1a91.png 1200w,\n/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-95179.png 1600w,\n/static/2019-09-19-15-42-52-c13f7d524b09e92ec31990247d36fa3c-60fa0.png 2228w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id="ç”Ÿå‘½å‘¨æœŸï¼Œè¯¯åŒº"><a href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%AF%AF%E5%8C%BA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç”Ÿå‘½å‘¨æœŸï¼Œè¯¯åŒº</h3>\n<p><strong>è¯¯è§£ä¸€ï¼š</strong><code class="language-text">getDerivedStateFromProps</code> å’Œ <code class="language-text">componentWillReceiveProps</code> åªä¼šåœ¨ <code class="language-text">props</code> <strong>æ”¹å˜</strong> æ—¶æ‰ä¼šè°ƒç”¨</p>\n<p>å®é™…ä¸Šï¼Œ<strong>åªè¦çˆ¶çº§é‡æ–°æ¸²æŸ“ï¼Œ<code class="language-text">getDerivedStateFromProps</code> å’Œ <code class="language-text">componentWillReceiveProps</code> éƒ½ä¼šé‡æ–°è°ƒç”¨ï¼Œä¸ç®¡ <code class="language-text">props</code> æœ‰æ²¡æœ‰å˜åŒ–</strong>ã€‚æ‰€ä»¥ï¼Œåœ¨è¿™ä¸¤ä¸ªæ–¹æ³•å†…ç›´æ¥å°† props èµ‹å€¼åˆ° state æ˜¯ä¸å®‰å…¨çš„ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="72732758639652720000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// å­ç»„ä»¶\nclass PhoneInput extends Component {\n  state = { phone: this.props.phone };\n\n  handleChange = (e) => {\n    this.setState({ phone: e.target.value });\n  };\n\n  render() {\n    const { phone } = this.state;\n    return <input onChange={this.handleChange} value={phone} />;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // ä¸è¦è¿™æ ·åšã€‚\n    // è¿™ä¼šè¦†ç›–æ‰ä¹‹å‰æ‰€æœ‰çš„ç»„ä»¶å†… state æ›´æ–°ï¼\n    this.setState({ phone: nextProps.phone });\n  }\n}\n\n// çˆ¶ç»„ä»¶\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    // ä½¿ç”¨äº† setIntervalï¼Œ\n    // æ¯ç§’é’Ÿéƒ½ä¼šæ›´æ–°ä¸€ä¸‹ state.count\n    // è¿™å°†å¯¼è‡´ App æ¯ç§’é’Ÿé‡æ–°æ¸²æŸ“ä¸€æ¬¡\n    this.interval = setInterval(\n      () =>\n        this.setState((prevState) => ({\n          count: prevState.count + 1\n        })),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <>\n        <p>Start editing to see some magic happen :)</p>\n        <PhoneInput phone=\'call me!\' />\n        <p>\n          This component will re-render every second. Each time it renders, the text you type will be reset. This\n          illustrates a derived state anti-pattern.\n        </p>\n      </>\n    );\n  }\n}`, `72732758639652720000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// å­ç»„ä»¶</span>\n<span class="token keyword">class</span> <span class="token class-name">PhoneInput</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  state <span class="token operator">=</span> <span class="token punctuation">{</span> phone<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>phone <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> phone<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> phone <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>phone<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ä¸è¦è¿™æ ·åšã€‚</span>\n    <span class="token comment">// è¿™ä¼šè¦†ç›–æ‰ä¹‹å‰æ‰€æœ‰çš„ç»„ä»¶å†… state æ›´æ–°ï¼</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> phone<span class="token punctuation">:</span> nextProps<span class="token punctuation">.</span>phone <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// çˆ¶ç»„ä»¶</span>\n<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>\n      count<span class="token punctuation">:</span> <span class="token number">0</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ä½¿ç”¨äº† setIntervalï¼Œ</span>\n    <span class="token comment">// æ¯ç§’é’Ÿéƒ½ä¼šæ›´æ–°ä¸€ä¸‹ state.count</span>\n    <span class="token comment">// è¿™å°†å¯¼è‡´ App æ¯ç§’é’Ÿé‡æ–°æ¸²æŸ“ä¸€æ¬¡</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>\n      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n          count<span class="token punctuation">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token number">1000</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>p<span class="token operator">></span>Start editing to see some magic happen <span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>\n        <span class="token operator">&lt;</span>PhoneInput phone<span class="token operator">=</span><span class="token string">\'call me!\'</span> <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token operator">&lt;</span>p<span class="token operator">></span>\n          This component will re<span class="token operator">-</span>render every second<span class="token punctuation">.</span> Each time it renders<span class="token punctuation">,</span> the text you type will be reset<span class="token punctuation">.</span> This\n          illustrates a derived state anti<span class="token operator">-</span>pattern<span class="token punctuation">.</span>\n        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href="https://stackblitz.com/edit/react-yammav" target="_blank" rel="nofollow noreferrer noopener">å®ä¾‹å¯ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</a></p>\n<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ çˆ¶ç»„ä»¶ App ä¸­ <code class="language-text">shouldComponentUpdate</code> æ¯”è¾ƒ props çš„ email æ˜¯ä¸æ˜¯ä¿®æ”¹å†å†³å®šè¦ä¸è¦é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯å¦‚æœå­ç»„ä»¶æ¥å—å¤šä¸ª propsï¼ˆè¾ƒä¸ºå¤æ‚ï¼‰ï¼Œå°±å¾ˆéš¾å¤„ç†ï¼Œè€Œä¸” <code class="language-text">shouldComponentUpdate</code> ä¸»è¦æ˜¯ç”¨æ¥æ€§èƒ½æå‡çš„ï¼Œä¸æ¨èå¼€å‘è€…æ“ä½œ <code class="language-text">shouldComponetUpdate</code>ï¼ˆå¯ä»¥ä½¿ç”¨ <code class="language-text">React.PureComponet</code>ï¼‰ã€‚</p>\n<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>åœ¨ props å˜åŒ–åä¿®æ”¹ state</strong>ã€‚</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="67523567389041770000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class PhoneInput extends Component {\n  state = {\n    phone: this.props.phone\n  };\n\n  componentWillReceiveProps(nextProps) {\n    // åªè¦ props.phone æ”¹å˜ï¼Œå°±æ”¹å˜ state\n    if (nextProps.phone !== this.props.phone) {\n      this.setState({\n        phone: nextProps.phone\n      });\n    }\n  }\n\n  // ...\n}`, `67523567389041770000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PhoneInput</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  state <span class="token operator">=</span> <span class="token punctuation">{</span>\n    phone<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>phone\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// åªè¦ props.phone æ”¹å˜ï¼Œå°±æ”¹å˜ state</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>phone <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>phone<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        phone<span class="token punctuation">:</span> nextProps<span class="token punctuation">.</span>phone\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ä½†è¿™ç§ä¹Ÿä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå½“ props è¾ƒä¸ºå¤æ‚æ—¶ï¼Œprops ä¸ state çš„å…³ç³»ä¸å¥½æ§åˆ¶ï¼Œå¯èƒ½å¯¼è‡´é—®é¢˜</p>\n<p>è§£å†³æ–¹æ¡ˆä¸€ï¼š<strong>å®Œå…¨å¯æ§çš„ç»„ä»¶</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="63160966213018345000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function PhoneInput(props) {\n  return <input onChange={props.onChange} value={props.phone} />;\n}`, `63160966213018345000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">PhoneInput</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>onChange<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>phone<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p><strong>å®Œå…¨ç”± props æ§åˆ¶ï¼Œä¸æ´¾ç”Ÿ state</strong></p>\n<p>è§£å†³æ–¹æ¡ˆäºŒï¼š<strong>æœ‰ key çš„éå¯æ§ç»„ä»¶</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="11656640900655213000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`class PhoneInput extends Component {\n  state = { phone: this.props.defaultPhone };\n\n  handleChange = (event) => {\n    this.setState({ phone: event.target.value });\n  };\n\n  render() {\n    return <input onChange={this.handleChange} value={this.state.phone} />;\n  }\n}\n\n<PhoneInput defaultPhone={this.props.user.phone} key={this.props.user.id} />;`, `11656640900655213000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">PhoneInput</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  state <span class="token operator">=</span> <span class="token punctuation">{</span> phone<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>defaultPhone <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> phone<span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>phone<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token operator">&lt;</span>PhoneInput defaultPhone<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>user<span class="token punctuation">.</span>phone<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>å½“ <code class="language-text">key</code> å˜åŒ–æ—¶ï¼Œ React ä¼š<strong>åˆ›å»ºä¸€ä¸ªæ–°çš„è€Œä¸æ˜¯æ›´æ–°ä¸€ä¸ªæ—¢æœ‰çš„ç»„ä»¶</strong></p>\n<p><strong>è¯¯è§£äºŒ</strong>ï¼šå°† props çš„å€¼ç›´æ¥å¤åˆ¶ç»™ state</p>\n<p><strong>åº”é¿å…å°† props çš„å€¼å¤åˆ¶ç»™ state</strong></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68655607325617725000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`constructor(props) {\n super(props);\n // åƒä¸‡ä¸è¦è¿™æ ·åš\n // ç›´æ¥ç”¨ propsï¼Œä¿è¯å•ä¸€æ•°æ®æº\n this.state = { phone: props.phone };\n}`, `68655607325617725000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n <span class="token comment">// åƒä¸‡ä¸è¦è¿™æ ·åš</span>\n <span class="token comment">// ç›´æ¥ç”¨ propsï¼Œä¿è¯å•ä¸€æ•°æ®æº</span>\n <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> phone<span class="token punctuation">:</span> props<span class="token punctuation">.</span>phone <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="å¤šä¸ªç»„ä»¶çš„æ‰§è¡Œé¡ºåº"><a href="#%E5%A4%9A%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¤šä¸ªç»„ä»¶çš„æ‰§è¡Œé¡ºåº</h1>\n<h2 id="çˆ¶å­ç»„ä»¶"><a href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>çˆ¶å­ç»„ä»¶</h2>\n<ul>\n<li>\n<p><strong>æŒ‚è½½é˜¶æ®µ</strong></p>\n<p>åˆ† <strong>ä¸¤ä¸ª</strong> é˜¶æ®µï¼š</p>\n<ul>\n<li>ç¬¬ <strong>ä¸€</strong> é˜¶æ®µï¼Œç”±çˆ¶ç»„ä»¶å¼€å§‹æ‰§è¡Œåˆ°è‡ªèº«çš„ <code class="language-text">render</code>ï¼Œè§£æå…¶ä¸‹æœ‰å“ªäº›å­ç»„ä»¶éœ€è¦æ¸²æŸ“ï¼Œå¹¶å¯¹å…¶ä¸­ <strong>åŒæ­¥çš„å­ç»„ä»¶</strong> è¿›è¡Œåˆ›å»ºï¼ŒæŒ‰ <strong>é€’å½’é¡ºåº</strong> æŒ¨ä¸ªæ‰§è¡Œå„ä¸ªå­ç»„ä»¶è‡³ <code class="language-text">render</code>ï¼Œç”Ÿæˆåˆ°çˆ¶å­ç»„ä»¶å¯¹åº”çš„ Virtual DOM æ ‘ï¼Œå¹¶ commit åˆ° DOMã€‚</li>\n<li>ç¬¬ <strong>äºŒ</strong> é˜¶æ®µï¼Œæ­¤æ—¶ DOM èŠ‚ç‚¹å·²ç»ç”Ÿæˆå®Œæ¯•ï¼Œç»„ä»¶æŒ‚è½½å®Œæˆï¼Œå¼€å§‹åç»­æµç¨‹ã€‚å…ˆä¾æ¬¡è§¦å‘åŒæ­¥å­ç»„ä»¶å„è‡ªçš„ <code class="language-text">componentDidMount</code>ï¼Œæœ€åè§¦å‘çˆ¶ç»„ä»¶çš„ã€‚</li>\n</ul>\n<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœçˆ¶ç»„ä»¶ä¸­åŒ…å«å¼‚æ­¥å­ç»„ä»¶ï¼Œåˆ™ä¼šåœ¨çˆ¶ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«åˆ›å»ºã€‚</p>\n<p>æ‰€ä»¥æ‰§è¡Œé¡ºåºæ˜¯ï¼š</p>\n<p>çˆ¶ç»„ä»¶ getDerivedStateFromProps â€”> åŒæ­¥å­ç»„ä»¶ getDerivedStateFromProps â€”> åŒæ­¥å­ç»„ä»¶ componentDidMount â€”> çˆ¶ç»„ä»¶ componentDidMount â€”> å¼‚æ­¥å­ç»„ä»¶ getDerivedStateFromProps â€”> å¼‚æ­¥å­ç»„ä»¶ componentDidMount</p>\n</li>\n<li>\n<p><strong>æ›´æ–°é˜¶æ®µ</strong></p>\n<p><strong>React çš„è®¾è®¡éµå¾ªå•å‘æ•°æ®æµæ¨¡å‹</strong> ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®å‡æ˜¯ç”±çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶ã€‚</p>\n<ul>\n<li>\n<p>ç¬¬ <strong>ä¸€</strong> é˜¶æ®µï¼Œç”±çˆ¶ç»„ä»¶å¼€å§‹ï¼Œæ‰§è¡Œ</p>\n</li>\n<li>\n<p><code class="language-text">static getDerivedStateFromProps</code></p>\n</li>\n<li>\n<p><code class="language-text">shouldComponentUpdate</code></p>\n</li>\n</ul>\n<p>æ›´æ–°åˆ°è‡ªèº«çš„ <code class="language-text">render</code>ï¼Œè§£æå…¶ä¸‹æœ‰å“ªäº›å­ç»„ä»¶éœ€è¦æ¸²æŸ“ï¼Œå¹¶å¯¹ <strong>å­ç»„ä»¶</strong> è¿›è¡Œåˆ›å»ºï¼ŒæŒ‰ <strong>é€’å½’é¡ºåº</strong> æŒ¨ä¸ªæ‰§è¡Œå„ä¸ªå­ç»„ä»¶è‡³ <code class="language-text">render</code>ï¼Œç”Ÿæˆåˆ°çˆ¶å­ç»„ä»¶å¯¹åº”çš„ Virtual DOM æ ‘ï¼Œå¹¶ä¸å·²æœ‰çš„ Virtual DOM æ ‘ æ¯”è¾ƒï¼Œè®¡ç®—å‡º <strong>Virtual DOM çœŸæ­£å˜åŒ–çš„éƒ¨åˆ†</strong> ï¼Œå¹¶åªé’ˆå¯¹è¯¥éƒ¨åˆ†è¿›è¡Œçš„åŸç”Ÿ DOM æ“ä½œã€‚</p>\n<ul>\n<li>\n<p>ç¬¬ <strong>äºŒ</strong> é˜¶æ®µï¼Œæ­¤æ—¶ DOM èŠ‚ç‚¹å·²ç»ç”Ÿæˆå®Œæ¯•ï¼Œç»„ä»¶æŒ‚è½½å®Œæˆï¼Œå¼€å§‹åç»­æµç¨‹ã€‚å…ˆä¾æ¬¡è§¦å‘åŒæ­¥å­ç»„ä»¶ä»¥ä¸‹å‡½æ•°ï¼Œæœ€åè§¦å‘çˆ¶ç»„ä»¶çš„ã€‚</p>\n</li>\n<li>\n<p><code class="language-text">getSnapshotBeforeUpdate()</code></p>\n</li>\n<li>\n<p><code class="language-text">componentDidUpdate()</code></p>\n</li>\n</ul>\n<p>React ä¼šæŒ‰ç…§ä¸Šé¢çš„é¡ºåºä¾æ¬¡æ‰§è¡Œè¿™äº›å‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æ˜¯å„ä¸ªå­ç»„ä»¶çš„å…ˆæ‰§è¡Œï¼Œç„¶åæ‰æ˜¯çˆ¶ç»„ä»¶çš„æ‰§è¡Œã€‚</p>\n<p>æ‰€ä»¥æ‰§è¡Œé¡ºåºæ˜¯ï¼š</p>\n<p>çˆ¶ç»„ä»¶ getDerivedStateFromProps â€”> çˆ¶ç»„ä»¶ shouldComponentUpdate â€”> å­ç»„ä»¶ getDerivedStateFromProps â€”> å­ç»„ä»¶ shouldComponentUpdate â€”> å­ç»„ä»¶ getSnapshotBeforeUpdate â€”> çˆ¶ç»„ä»¶ getSnapshotBeforeUpdate â€”> å­ç»„ä»¶ componentDidUpdate â€”> çˆ¶ç»„ä»¶ componentDidUpdate</p>\n</li>\n<li>\n<p><strong>å¸è½½é˜¶æ®µ</strong></p>\n<p><code class="language-text">componentWillUnmount()</code>ï¼Œé¡ºåºä¸º <strong>çˆ¶ç»„ä»¶çš„å…ˆæ‰§è¡Œï¼Œå­ç»„ä»¶æŒ‰ç…§åœ¨ JSX ä¸­å®šä¹‰çš„é¡ºåºä¾æ¬¡æ‰§è¡Œå„è‡ªçš„æ–¹æ³•</strong>ã€‚</p>\n<p><strong>æ³¨æ„</strong> ï¼šå¦‚æœå¸è½½æ—§ç»„ä»¶çš„åŒæ—¶ä¼´éšæœ‰æ–°ç»„ä»¶çš„åˆ›å»ºï¼Œæ–°ç»„ä»¶ä¼šå…ˆè¢«åˆ›å»ºå¹¶æ‰§è¡Œå®Œ <code class="language-text">render</code>ï¼Œç„¶åå¸è½½ä¸éœ€è¦çš„æ—§ç»„ä»¶ï¼Œæœ€åæ–°ç»„ä»¶æ‰§è¡ŒæŒ‚è½½å®Œæˆçš„å›è°ƒã€‚</p>\n</li>\n</ul>\n<h2 id="å…„å¼Ÿç»„ä»¶"><a href="#%E5%85%84%E5%BC%9F%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å…„å¼Ÿç»„ä»¶</h2>\n<ul>\n<li>\n<p><strong>æŒ‚è½½é˜¶æ®µ</strong></p>\n<p>è‹¥æ˜¯åŒæ­¥è·¯ç”±ï¼Œå®ƒä»¬çš„åˆ›å»ºé¡ºåºå’Œå…¶åœ¨å…±åŒçˆ¶ç»„ä»¶ä¸­å®šä¹‰çš„å…ˆåé¡ºåºæ˜¯ <strong>ä¸€è‡´</strong> çš„ã€‚</p>\n<p>è‹¥æ˜¯å¼‚æ­¥è·¯ç”±ï¼Œå®ƒä»¬çš„åˆ›å»ºé¡ºåºå’Œ js åŠ è½½å®Œæˆçš„é¡ºåºä¸€è‡´ã€‚</p>\n</li>\n<li>\n<p><strong>æ›´æ–°é˜¶æ®µã€å¸è½½é˜¶æ®µ</strong></p>\n<p>å…„å¼ŸèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ä¸»è¦æ˜¯ç»è¿‡çˆ¶ç»„ä»¶ï¼ˆRedux å’Œ Context ä¹Ÿæ˜¯é€šè¿‡æ”¹å˜çˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ <code class="language-text">props</code> å®ç°çš„ï¼‰ï¼Œ<strong>æ»¡è¶³ React çš„è®¾è®¡éµå¾ªå•å‘æ•°æ®æµæ¨¡å‹</strong>ï¼Œ <strong>å› æ­¤ä»»ä½•ä¸¤ä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæœ¬è´¨ä¸Šéƒ½å¯ä»¥å½’ç»“ä¸ºçˆ¶å­ç»„ä»¶æ›´æ–°çš„æƒ…å†µ</strong> ã€‚</p>\n<p>æ‰€ä»¥ï¼Œå…„å¼Ÿç»„ä»¶æ›´æ–°ã€å¸è½½é˜¶æ®µï¼Œè¯·å‚è€ƒ <strong>çˆ¶å­ç»„ä»¶</strong>ã€‚</p>\n</li>\n</ul>',
id:"/github/workspace/blog/Reactç”Ÿå‘½å‘¨æœŸå…¥é—¨å­¦ä¹ /index.md absPath of file >>> MarkdownRemark",timeToRead:9,frontmatter:{date:"2019-09-19 15:29:20",path:"/react-lifecycle-practice-learn/",tags:"å‰ç«¯, React, ç”Ÿå‘½å‘¨æœŸ",title:"Reactç”Ÿå‘½å‘¨æœŸå…¥é—¨å­¦ä¹ ",draft:null}},{excerpt:"æ¥ä¸Šæ–‡ Webpack é…ç½®ç¬”è®° åˆ†åŒ…ç­–ç•¥ åœ¨åˆ†æ”¯   ä¸Šå¯åŠ¨   è„šæœ¬ï¼Œå¾—åˆ°åˆ†åŒ…ç­–ç•¥å¦‚ä¸‹ï¼š é¦–å±åŠ è½½å¯¹æ¯” åŸå§‹é¦–å±åŠ è½½ å‡çº§ååŠ è½½ åˆ†åŒ…ä¼˜åŒ–æ­¥éª¤ echarts åªæå–éœ€è¦çš„åŒ… immutable æŒ‡å‘åŒä¸€ä»½ï¼Œé¿å… draft ä¸ antd é‡å¤æ‰“åŒ… åˆ†å¤§æ¨¡å—æ”¹å†™æ³• æ ¹æ®è·¯ç”±æ¥åˆ† è¿™é‡ŒåŸæ¥çš„è·¯ç”±å¼•ç”¨æ¨¡å—å·²ç»æ˜¯   å½¢å¼çš„äº†ï¼Œæ‰€ä»¥æˆ‘åœ¨   é‡Œçš„   åŠ äº†å¦‚ä¸‹ç­–ç•¥ ç»å®éªŒï¼Œå¯ä»¥çœ‹åˆ°å„ä¸ªé¡µé¢åªåŠ è½½æ‰€éœ€çš„åŒ… æ ¹æ®ç»„ä»¶æ¥åˆ† å¯¹å…¶ä¸­æ¯”è¾ƒå¤§çš„ç»„ä»¶è¿›è¡Œäº†æ‡’åŠ è½½å¤„ç†ï¼Œreact-player/draftâ€¦",html:'<p>æ¥ä¸Šæ–‡<a href="/webpack-config-note/">Webpack é…ç½®ç¬”è®°</a></p>\n<h1 id="åˆ†åŒ…ç­–ç•¥"><a href="#%E5%88%86%E5%8C%85%E7%AD%96%E7%95%A5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åˆ†åŒ…ç­–ç•¥</h1>\n<p>åœ¨åˆ†æ”¯ <code class="language-text">feature/optimize_webpack</code> ä¸Šå¯åŠ¨ <code class="language-text">yarn analyze</code> è„šæœ¬ï¼Œå¾—åˆ°åˆ†åŒ…ç­–ç•¥å¦‚ä¸‹ï¼š</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-de767.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 48.45840605002909%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACbUlEQVQozwFiAp39AO/kz/n28fv8/vr58eqrkuGBXtqBYeKDYeR5T+mZlNyfwN2WsdqV1sp728du1qhr6JBQ5IxU4YBW/25A+wD29vT7/P77/f/5/f/tvKnvkG7rgFnqd07iWCTtm43ptNTehKfWgs7FYt23UsifXOZ/NONxOMhrP+9VJ9oA8/T0+Pj4+Pj4+/397b+v7IZf7HZL6nBE3lkl5JCF46bH24Gl1aTPzavcwqberJThnYjqi3zpaGH5UkvqAN/f3+Hh4eXj4/j+/+6rl+trQuxwSPJwR9pPI9eWg97V1djFwOTW4tC13sW15LWq5p6W7IyH8klK+S802wDj4+Pk5OTo6Of7/P/q2KnkvnLguHPkvHTetmfm0a7q3N/cw77Gvc2lpcmssNuRmtmImOR3i+ZffPNNad4A5eXl5ubm6Ojo9vb49PbJ9vq25+yy5eq/+P3K8vPWz9HDzMu1wczOprnMssbfn7fgmLToh6jsbJn4RXvtAOLi4uPj4+jo6fz8+ff16fb06/Xzy+bkyuXixeTpyKvPoY/AeqrTup3QzKrU3arU6KHO7pLH9Xm0+Vyj/QDi4uLh4eHm5ub4+Pfz99vu89Lp6qrq6p/y8KXb6qmm0qCUwoGw2b604dWX3Nyb3ued3PGP1PeX2f6Mz/4A5eXl5ubm5+fm9PL32/qowPJstupite5bpN4+od92iN6MdNZwnN+wrejSjuXVkujljOjzru373sDA39bYAOTk5Obm5unp6Pz5/9f5or34YLLzSafxMn3CB4HBWG3gcEzFRXDVk2XapYbozIvy43329a/3/em+uuTa2O+lwnzOuk/fAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="åˆ†åŒ…ç­–ç•¥"\n        title=""\n        src="/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-fee1c.png"\n        srcset="/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-a67b7.png 200w,\n/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-0b187.png 400w,\n/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-fee1c.png 800w,\n/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-b1a91.png 1200w,\n/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-95179.png 1600w,\n/static/2019-08-20-14-39-37-7859d5fffe6130839ec4ea995f4afe9a-de767.png 1719w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="é¦–å±åŠ è½½å¯¹æ¯”"><a href="#%E9%A6%96%E5%B1%8F%E5%8A%A0%E8%BD%BD%E5%AF%B9%E6%AF%94" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é¦–å±åŠ è½½å¯¹æ¯”</h1>\n<h2 id="åŸå§‹é¦–å±åŠ è½½"><a href="#%E5%8E%9F%E5%A7%8B%E9%A6%96%E5%B1%8F%E5%8A%A0%E8%BD%BD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åŸå§‹é¦–å±åŠ è½½</h2>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-ed146.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 21.993127147766323%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAkklEQVQI102O2xLDIAhE8/8fmnhBrUREaTvtxvShZxzcGdiF7fAxUKEQYip4++H24CLFlFLOmZnPP1prd8XHtW7o8hpRe6pqE4m9NpWxUB3SdZpdevyYc6Ka2XYn5VwoRoSg8Xm9L9NCRLz3tsAY0rHH5uzSu+oyny0/ig+eiCozDDgEfgDtnLv3QC/ztWDqwI1fXa3kU7K0VbQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="åŸå§‹é¦–å±åŠ è½½å¤§å°"\n        title=""\n        src="/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-fee1c.png"\n        srcset="/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-a67b7.png 200w,\n/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-0b187.png 400w,\n/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-fee1c.png 800w,\n/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-b1a91.png 1200w,\n/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-95179.png 1600w,\n/static/2019-08-20-14-42-05-a2bf22d39e0e36b58ed042d4b584c141-ed146.png 1746w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="å‡çº§ååŠ è½½"><a href="#%E5%8D%87%E7%BA%A7%E5%90%8E%E5%8A%A0%E8%BD%BD" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å‡çº§ååŠ è½½</h2>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-009aa.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 26.851851851851855%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAoklEQVQY03VPyw7DIAzr/38oJVBKeCa0l7mwSrvMQigxsWO2nQ4foiNHPtARzL4TkfPOgw4h5ZT/IDFvORecmFPtrWpXVVHtgHQReVqR67r0xSIBkFsppdYa4wmgBnvfN7Q6LfDkvV961CiwEwatPQNfcYgnOYfpMdFamxEET8YY3BBjcomHDuQa7+YSmWmCmWGxIkjvcLHWov3dPBBK8Cv9AF+YHUoLUXbjAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="å‡çº§ååŠ è½½å¤§å°"\n        title=""\n        src="/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-fee1c.png"\n        srcset="/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-a67b7.png 200w,\n/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-0b187.png 400w,\n/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-fee1c.png 800w,\n/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-b1a91.png 1200w,\n/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-95179.png 1600w,\n/static/2019-08-20-14-42-42-9d4635b500dadc398310cd08fe4408c1-009aa.png 1728w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="åˆ†åŒ…ä¼˜åŒ–æ­¥éª¤"><a href="#%E5%88%86%E5%8C%85%E4%BC%98%E5%8C%96%E6%AD%A5%E9%AA%A4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åˆ†åŒ…ä¼˜åŒ–æ­¥éª¤</h1>\n<h2 id="echarts-åªæå–éœ€è¦çš„åŒ…"><a href="#echarts-%E5%8F%AA%E6%8F%90%E5%8F%96%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>echarts åªæå–éœ€è¦çš„åŒ…</h2>\n<p><code class="language-text">app\\components\\ECharts\\component.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="54434859526374170000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`import echarts from \'echarts/lib/echarts\';\nimport \'echarts/lib/chart/bar\';\nimport \'echarts/lib/chart/line\';\nimport \'echarts/lib/chart/pie\';\n\nimport \'echarts/lib/component/tooltip\';\nimport \'echarts/lib/component/legendScroll\';`, `54434859526374170000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> echarts <span class="token keyword">from</span> <span class="token string">\'echarts/lib/echarts\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'echarts/lib/chart/bar\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'echarts/lib/chart/line\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'echarts/lib/chart/pie\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> <span class="token string">\'echarts/lib/component/tooltip\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'echarts/lib/component/legendScroll\'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="immutable-æŒ‡å‘åŒä¸€ä»½ï¼Œé¿å…-draft-ä¸-antd-é‡å¤æ‰“åŒ…"><a href="#immutable-%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%BB%BD%EF%BC%8C%E9%81%BF%E5%85%8D-draft-%E4%B8%8E-antd-%E9%87%8D%E5%A4%8D%E6%89%93%E5%8C%85" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>immutable æŒ‡å‘åŒä¸€ä»½ï¼Œé¿å… draft ä¸ antd é‡å¤æ‰“åŒ…</h2>\n<p><code class="language-text">internals/webpack/webpack.base.babel.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="43534965060929266000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`\'immutable\': path.resolve(process.cwd(), \'node_modules/immutable\'),`, `43534965060929266000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token string">\'immutable\'</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">\'node_modules/immutable\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<h2 id="åˆ†å¤§æ¨¡å—æ”¹å†™æ³•"><a href="#%E5%88%86%E5%A4%A7%E6%A8%A1%E5%9D%97%E6%94%B9%E5%86%99%E6%B3%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åˆ†å¤§æ¨¡å—æ”¹å†™æ³•</h2>\n<h3 id="æ ¹æ®è·¯ç”±æ¥åˆ†"><a href="#%E6%A0%B9%E6%8D%AE%E8%B7%AF%E7%94%B1%E6%9D%A5%E5%88%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ ¹æ®è·¯ç”±æ¥åˆ†</h3>\n<p>è¿™é‡ŒåŸæ¥çš„è·¯ç”±å¼•ç”¨æ¨¡å—å·²ç»æ˜¯ <code class="language-text">import().then()</code> å½¢å¼çš„äº†ï¼Œæ‰€ä»¥æˆ‘åœ¨ <code class="language-text">webpack</code> é‡Œçš„ <code class="language-text">splitChunks</code> åŠ äº†å¦‚ä¸‹ç­–ç•¥</p>\n<p><code class="language-text">internals/webpack/webpack.prod.babel.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="52209051260246380000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`splitChunks: {\n  chunks: \'all\', // ä¸ç®¡æ–‡ä»¶æ˜¯åŠ¨æ€è¿˜æ˜¯éåŠ¨æ€è½½å…¥ï¼Œç»Ÿä¸€å°†æ–‡ä»¶åˆ†ç¦»ã€‚å½“é¡µé¢é¦–æ¬¡è½½å…¥ä¼šå¼•å…¥æ‰€æœ‰çš„åŒ…\n  maxInitialRequests: 10, // æœ€å¤§åˆå§‹åŒ–è¯·æ±‚æ•°\n  minSize: 0, // é»˜è®¤30000ï¼Œä¸ºäº†ä¸åˆå¹¶ chunk\n  cacheGroups: {\n    vendor: {\n      test: /[\\\\/]node_modules[\\\\/]/,\n      name(module) {\n        const packageName = module.context.match(\n          /[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|\\$)/,\n        )[1];\n        return \\`npm.\\${packageName.replace(\'@\', \'\')}\\`; // æå–å„ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œåªåœ¨éœ€è¦æ—¶æå–\n      },\n    },\n  },\n},`, `52209051260246380000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js">splitChunks<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  chunks<span class="token punctuation">:</span> <span class="token string">\'all\'</span><span class="token punctuation">,</span> <span class="token comment">// ä¸ç®¡æ–‡ä»¶æ˜¯åŠ¨æ€è¿˜æ˜¯éåŠ¨æ€è½½å…¥ï¼Œç»Ÿä¸€å°†æ–‡ä»¶åˆ†ç¦»ã€‚å½“é¡µé¢é¦–æ¬¡è½½å…¥ä¼šå¼•å…¥æ‰€æœ‰çš„åŒ…</span>\n  maxInitialRequests<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// æœ€å¤§åˆå§‹åŒ–è¯·æ±‚æ•°</span>\n  minSize<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// é»˜è®¤30000ï¼Œä¸ºäº†ä¸åˆå¹¶ chunk</span>\n  cacheGroups<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    vendor<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n      test<span class="token punctuation">:</span> <span class="token regex">/[\\\\/]node_modules[\\\\/]/</span><span class="token punctuation">,</span>\n      <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>\n          <span class="token regex">/[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)/</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">\'@\'</span><span class="token punctuation">,</span> <span class="token string">\'\'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// æå–å„ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œåªåœ¨éœ€è¦æ—¶æå–</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ç»å®éªŒï¼Œå¯ä»¥çœ‹åˆ°å„ä¸ªé¡µé¢åªåŠ è½½æ‰€éœ€çš„åŒ…</p>\n<h3 id="æ ¹æ®ç»„ä»¶æ¥åˆ†"><a href="#%E6%A0%B9%E6%8D%AE%E7%BB%84%E4%BB%B6%E6%9D%A5%E5%88%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ ¹æ®ç»„ä»¶æ¥åˆ†</h3>\n<p>å¯¹å…¶ä¸­æ¯”è¾ƒå¤§çš„ç»„ä»¶è¿›è¡Œäº†æ‡’åŠ è½½å¤„ç†ï¼Œreact-player/draft/echarts</p>\n<p>å…¶ä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜å°±æ˜¯æ‡’åŠ è½½ç»„ä»¶å¼•ç”¨ä¸åˆ° ref çš„é—®é¢˜ï¼Œç»å¤šæ¬¡å®éªŒï¼Œæ›´æ”¹å†™æ³•å¦‚ä¸‹</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="32670125350457480000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`import React from \'react\';\nimport Loadable from \'react-loadable\';\n\nconst LoaderCache = new Map();\nexport default function loadComponent(loader, options) {\n  let component = LoaderCache.get(loader);\n  if (!component) {\n    component = Loadable({\n      loader,\n      loading: (props) => {\n        if (props.error) {\n          // eslint-disable-line\n          console.error(\'[chunk loader]\', props.error); // eslint-disable-line\n        }\n        return <div />;\n      },\n      render: (loaded, props) => {\n        const Component = loaded.default;\n        const { withRef, ...rest } = props; // eslint-disable-line\n        return (\n          <Component\n            ref={(r) => {\n              withRef && withRef(r);\n            }}\n            {...rest}\n          />\n        );\n      },\n      ...options\n    });\n    LoaderCache.set(loader, component);\n    // component.preload();\n  }\n  return component;\n}`, `32670125350457480000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js{16-23} å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Loadable <span class="token keyword">from</span> <span class="token string">\'react-loadable\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> LoaderCache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">loadComponent</span><span class="token punctuation">(</span><span class="token parameter">loader<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> component <span class="token operator">=</span> LoaderCache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>loader<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>component<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    component <span class="token operator">=</span> <span class="token function">Loadable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      loader<span class="token punctuation">,</span>\n      <span class="token function-variable function">loading</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// eslint-disable-line</span>\n          console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">\'[chunk loader]\'</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// eslint-disable-line</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>\n<span class="gatsby-highlight-code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      <span class="token function-variable function">render</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">loaded<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">const</span> Component <span class="token operator">=</span> loaded<span class="token punctuation">.</span>default<span class="token punctuation">;</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">const</span> <span class="token punctuation">{</span> withRef<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span> <span class="token comment">// eslint-disable-line</span></span><span class="gatsby-highlight-code-line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span><span class="gatsby-highlight-code-line">          <span class="token operator">&lt;</span>Component</span><span class="gatsby-highlight-code-line">            ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">              withRef <span class="token operator">&amp;&amp;</span> <span class="token function">withRef</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span></span>            <span class="token punctuation">}</span><span class="token punctuation">}</span>\n            <span class="token punctuation">{</span><span class="token operator">...</span>rest<span class="token punctuation">}</span>\n          <span class="token operator">/</span><span class="token operator">></span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token operator">...</span>options\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    LoaderCache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>loader<span class="token punctuation">,</span> component<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment">// component.preload();</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> component<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ç”¨æ³•ï¼š</p>\n<p><code class="language-text">app\\components\\GraphHintTextArea\\index.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="81488633019406090000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`import loadComponent from \'utils/loader\';\n\nexport default loadComponent(() => import(/* webpackChunkName: &quot;c-graph-hint-text-area&quot; */ \'./component\'), null);`, `81488633019406090000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">import</span> loadComponent <span class="token keyword">from</span> <span class="token string">\'utils/loader\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">loadComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: "c-graph-hint-text-area" */</span> <span class="token string">\'./component\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="55479443728339590000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`<GraphHintTextArea\n  withRef={(r) => {\n    this.graphHintTextArea = r;\n  }}\n/>`, `55479443728339590000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                jsx å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GraphHintTextArea</span></span>\n  <span class="token attr-name">withRef</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>graphHintTextArea <span class="token operator">=</span> r<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n<span class="token punctuation">/></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="antd-åªåŠ è½½éœ€è¦çš„-icon"><a href="#antd-%E5%8F%AA%E5%8A%A0%E8%BD%BD%E9%9C%80%E8%A6%81%E7%9A%84-icon" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>antd åªåŠ è½½éœ€è¦çš„ icon</h2>\n<p><code class="language-text">internals/webpack/webpack.base.babel.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="68034528991342260000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`\'@ant-design/icons/lib/dist\\$\': path.resolve(\'app/icons\'),`, `68034528991342260000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token string">\'@ant-design/icons/lib/dist$\'</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">\'app/icons\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>\n<p><code class="language-text">app/icons/index.js</code></p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="53629220766119220000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// fill\nexport { default as ExclamationCircleFill } from \'@ant-design/icons/lib/fill/ExclamationCircleFill\';\n// outline\nexport { default as QuestionCircleOutline } from \'@ant-design/icons/lib/outline/QuestionCircleOutline\';\n// twotone\nexport { default as ProfileTwoTone } from \'@ant-design/icons/lib/twotone/ProfileTwoTone\';`, `53629220766119220000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// fill</span>\n<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> ExclamationCircleFill <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@ant-design/icons/lib/fill/ExclamationCircleFill\'</span><span class="token punctuation">;</span>\n<span class="token comment">// outline</span>\n<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> QuestionCircleOutline <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@ant-design/icons/lib/outline/QuestionCircleOutline\'</span><span class="token punctuation">;</span>\n<span class="token comment">// twotone</span>\n<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> ProfileTwoTone <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@ant-design/icons/lib/twotone/ProfileTwoTone\'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>',
id:"/github/workspace/blog/Webpackå‡çº§ä¼˜åŒ–â€”â€”è®°ä¸€æ¬¡äº§å“ç«¯å‡çº§/index.md absPath of file >>> MarkdownRemark",timeToRead:4,frontmatter:{date:"2019-08-20 14:33:00",path:"/webpack-upgrade-about-product/",tags:"å‰ç«¯, å‰ç«¯æ„å»ºå·¥å…·, webpack, é¢„ç ”",title:"Webpackå‡çº§ä¼˜åŒ–â€”â€”è®°ä¸€æ¬¡äº§å“ç«¯å‡çº§",draft:null}},{excerpt:"ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼? æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç»„ç”±å­—æ¯å’Œç¬¦å·ç»„æˆçš„ç‰¹æ®Šæ–‡æœ¬, å®ƒå¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æ‰¾å‡ºæ»¡è¶³ä½ æƒ³è¦çš„æ ¼å¼çš„å¥å­. ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯åœ¨ä¸€ä¸ªä¸»ä½“å­—ç¬¦ä¸²ä¸­ä»å·¦åˆ°å³åŒ¹é…å­—ç¬¦ä¸²æ—¶çš„ä¸€ç§æ ·å¼. â€œRegular expressionâ€è¿™ä¸ªè¯æ¯”è¾ƒæ‹—å£, æˆ‘ä»¬å¸¸ä½¿ç”¨ç¼©å†™çš„æœ¯è¯­â€regexâ€æˆ–â€regexpâ€¦",html:'<h2 id="ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼"><a href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼?</h2>\n<blockquote>\n<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç»„ç”±å­—æ¯å’Œç¬¦å·ç»„æˆçš„ç‰¹æ®Šæ–‡æœ¬, å®ƒå¯ä»¥ç”¨æ¥ä»æ–‡æœ¬ä¸­æ‰¾å‡ºæ»¡è¶³ä½ æƒ³è¦çš„æ ¼å¼çš„å¥å­.</p>\n</blockquote>\n<p>ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ˜¯åœ¨ä¸€ä¸ªä¸»ä½“å­—ç¬¦ä¸²ä¸­ä»å·¦åˆ°å³åŒ¹é…å­—ç¬¦ä¸²æ—¶çš„ä¸€ç§æ ·å¼. â€œRegular expressionâ€è¿™ä¸ªè¯æ¯”è¾ƒæ‹—å£, æˆ‘ä»¬å¸¸ä½¿ç”¨ç¼©å†™çš„æœ¯è¯­â€regexâ€æˆ–â€regexpâ€. æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä»ä¸€ä¸ªåŸºç¡€å­—ç¬¦ä¸²ä¸­æ ¹æ®ä¸€å®šçš„åŒ¹é…æ¨¡å¼æ›¿æ¢æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ã€éªŒè¯è¡¨å•ã€æå–å­—ç¬¦ä¸²ç­‰ç­‰.</p>\n<p>æƒ³è±¡ä½ æ­£åœ¨å†™ä¸€ä¸ªåº”ç”¨, ç„¶åä½ æƒ³è®¾å®šä¸€ä¸ªç”¨æˆ·å‘½åçš„è§„åˆ™, è®©ç”¨æˆ·ååŒ…å«å­—ç¬¦,æ•°å­—,ä¸‹åˆ’çº¿å’Œè¿å­—ç¬¦,ä»¥åŠé™åˆ¶å­—ç¬¦çš„ä¸ªæ•°,å¥½è®©åå­—çœ‹èµ·æ¥æ²¡é‚£ä¹ˆä¸‘. æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼æ¥éªŒè¯ä¸€ä¸ªç”¨æˆ·å:</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-08-02-10-48-56-d88dc13f336df51f9044ca25f7d7c7b1-ad3a8.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 396px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 98.98989898989899%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB00lEQVQ4y5WUV2tCQRCF7///G6JY8UHsIIoiNnwQRRF7773EEm++OOF6b2IMGXBdd/ZMOXNWpVarmc1mp9Pp8/l2u52qqrfbTTXa7W7vd5ONnCuXy2W1WjWbTdbr9ar+xxTJk81mnyJPp9PhcJjP55PJZDAY9Pt99qz7/f4VWM6n02mxWMzlcqVSKRaLeb3eeDzudrt7vd7fmfWB2u22JNRI+QJnMpkXYGEon88vFgvt5wNMYTCn51ZMfsrtcrkMqQIWl8LnfD5bLJafmfV4VofD0e12DWXLV71ex7HdbgkxGo3giSTL5RLXbDYbj8eQzAaeWWmekweYo2AwGAgEGo2G1Wr1+/10GAqFNptNKpWKRCLsK5VKNBrlmt1u5+QBxpAXbZOZlRIIdzwe3+6Gi4Gv12tO8FJRp9N5gLU2hBumykj1xOqv0ZfL5TJk1nMzHA5hQSP2G/9krlarBrA+BAKiw98yM20YeQWW2E/B6Exm9g+wuKDK4/HAdjKZVERA2osVqRBYK1t/QYYKnTDCUJ9nhs9Wq/X0j8HwnumeqzJMdENgNsgLSaEzHjMXeMyo5ZtmP8GUjmISiUQ4HLbZbGgrfjeEZTKZCoUCsmPm6XT6ZyEf8Bhrkc4dD9EAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 08 02 10 48 56"\n        title=""\n        src="/static/2019-08-02-10-48-56-d88dc13f336df51f9044ca25f7d7c7b1-ad3a8.png"\n        srcset="/static/2019-08-02-10-48-56-d88dc13f336df51f9044ca25f7d7c7b1-2a85e.png 200w,\n/static/2019-08-02-10-48-56-d88dc13f336df51f9044ca25f7d7c7b1-ad3a8.png 396w"\n        sizes="(max-width: 396px) 100vw, 396px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>ä»¥ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥æ¥å— <code class="language-text">john_doe</code>, <code class="language-text">jo-hn_doe</code>, <code class="language-text">john12_as</code>. ä½†ä¸åŒ¹é…<code class="language-text">Jo</code>, å› ä¸ºå®ƒåŒ…å«äº†å¤§å†™çš„å­—æ¯è€Œä¸”å¤ªçŸ­äº†.</p>\n<h2 id="åŸºæœ¬åŒ¹é…"><a href="#%E5%9F%BA%E6%9C%AC%E5%8C%B9%E9%85%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åŸºæœ¬åŒ¹é…</h2>\n<p>æ­£åˆ™è¡¨è¾¾å¼å…¶å®å°±æ˜¯åœ¨æ‰§è¡Œæœç´¢æ—¶çš„æ ¼å¼, å®ƒç”±ä¸€äº›å­—æ¯å’Œæ•°å­—ç»„åˆè€Œæˆ. ä¾‹å¦‚: ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ <code class="language-text">the</code>, å®ƒè¡¨ç¤ºä¸€ä¸ªè§„åˆ™: ç”±å­—æ¯<code class="language-text">t</code>å¼€å§‹,æ¥ç€æ˜¯<code class="language-text">h</code>,å†æ¥ç€æ˜¯<code class="language-text">e</code>.</p>\n<pre>\n"the" => The fat cat sat on <a href="#learn-regex"><strong>the</strong></a> mat.\n</pre>\n<p><a href="https://regex101.com/r/dmRygT/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<p>æ­£åˆ™è¡¨è¾¾å¼<code class="language-text">123</code>åŒ¹é…å­—ç¬¦ä¸²<code class="language-text">123</code>. å®ƒé€ä¸ªå­—ç¬¦çš„ä¸è¾“å…¥çš„æ­£åˆ™è¡¨è¾¾å¼åšæ¯”è¾ƒ.</p>\n<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¤§å°å†™æ•æ„Ÿçš„, æ‰€ä»¥<code class="language-text">The</code>ä¸ä¼šåŒ¹é…<code class="language-text">the</code>.</p>\n<pre>\n"The" => <a href="#learn-regex"><strong>The</strong></a> fat cat sat on the mat.\n</pre>\n<p><a href="https://regex101.com/r/1paXsy/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="å…ƒå­—ç¬¦"><a href="#%E5%85%83%E5%AD%97%E7%AC%A6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å…ƒå­—ç¬¦</h2>\n<p>æ­£åˆ™è¡¨è¾¾å¼ä¸»è¦ä¾èµ–äºå…ƒå­—ç¬¦. å…ƒå­—ç¬¦ä¸ä»£è¡¨ä»–ä»¬æœ¬èº«çš„å­—é¢æ„æ€, ä»–ä»¬éƒ½æœ‰ç‰¹æ®Šçš„å«ä¹‰. ä¸€äº›å…ƒå­—ç¬¦å†™åœ¨æ–¹æ‹¬å·ä¸­çš„æ—¶å€™æœ‰ä¸€äº›ç‰¹æ®Šçš„æ„æ€. ä»¥ä¸‹æ˜¯ä¸€äº›å…ƒå­—ç¬¦çš„ä»‹ç»:</p>\n<table>\n<thead>\n<tr>\n<th align="center">å…ƒå­—ç¬¦</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">.</td>\n<td>å¥å·åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦é™¤äº†æ¢è¡Œç¬¦.</td>\n</tr>\n<tr>\n<td align="center">[\n \n]</td>\n<td>å­—ç¬¦ç§ç±». åŒ¹é…æ–¹æ‹¬å·å†…çš„ä»»æ„å­—ç¬¦.</td>\n</tr>\n<tr>\n<td align="center"><code class="language-text">[^ ]</code></td>\n<td>å¦å®šçš„å­—ç¬¦ç§ç±». åŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„ä»»æ„å­—ç¬¦</td>\n</tr>\n<tr>\n<td align="center">*</td>\n<td>åŒ¹é…>=0 ä¸ªé‡å¤çš„åœ¨\n*\nå·ä¹‹å‰çš„å­—ç¬¦.</td>\n</tr>\n<tr>\n<td align="center">+</td>\n<td>åŒ¹é…>=1 ä¸ªé‡å¤çš„+å·å‰çš„å­—ç¬¦.</td>\n</tr>\n<tr>\n<td align="center">?</td>\n<td>æ ‡è®°?ä¹‹å‰çš„å­—ç¬¦ä¸ºå¯é€‰.</td>\n</tr>\n<tr>\n<td align="center">{n,m}</td>\n<td>åŒ¹é… num ä¸ªå¤§æ‹¬å·ä¹‹å‰çš„å­—ç¬¦ (n &#x3C;= num &#x3C;= m).</td>\n</tr>\n<tr>\n<td align="center">(xyz)</td>\n<td>å­—ç¬¦é›†, åŒ¹é…ä¸ xyz å®Œå…¨ç›¸ç­‰çš„å­—ç¬¦ä¸².</td>\n</tr>\n<tr>\n<td align="center">|</td>\n<td>æˆ–è¿ç®—ç¬¦,åŒ¹é…ç¬¦å·å‰æˆ–åçš„å­—ç¬¦.</td>\n</tr>\n<tr>\n<td align="center">\\</td>\n<td>è½¬ä¹‰å­—ç¬¦,ç”¨äºåŒ¹é…ä¸€äº›ä¿ç•™çš„å­—ç¬¦ \n<code>\n<a href=""> </a>\n { } . \n*\n + ? ^ \n$\n \\ \n|\n</code></td>\n</tr>\n<tr>\n<td align="center">^</td>\n<td>ä»å¼€å§‹è¡Œå¼€å§‹åŒ¹é….</td>\n</tr>\n<tr>\n<td align="center">$</td>\n<td>ä»æœ«ç«¯å¼€å§‹åŒ¹é….</td>\n</tr>\n</tbody>\n</table>\n<h2 id="ç‚¹è¿ç®—ç¬¦-"><a href="#%E7%82%B9%E8%BF%90%E7%AE%97%E7%AC%A6-" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç‚¹è¿ç®—ç¬¦ <code class="language-text">.</code></h2>\n<p><code class="language-text">.</code>æ˜¯å…ƒå­—ç¬¦ä¸­æœ€ç®€å•çš„ä¾‹å­. <code class="language-text">.</code>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦, ä½†ä¸åŒ¹é…æ¢è¡Œç¬¦. ä¾‹å¦‚, è¡¨è¾¾å¼<code class="language-text">.ar</code>åŒ¹é…ä¸€ä¸ªä»»æ„å­—ç¬¦åé¢è·Ÿç€æ˜¯<code class="language-text">a</code>å’Œ<code class="language-text">r</code>çš„å­—ç¬¦ä¸².</p>\n<pre>\n".ar" => The <a href="#learn-regex"><strong>car</strong></a> <a href="#learn-regex"><strong>par</strong></a>ked in the <a href="#learn-regex"><strong>gar</strong></a>age.\n</pre>\n<p><a href="https://regex101.com/r/xc9GkU/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="å­—ç¬¦é›†"><a href="#%E5%AD%97%E7%AC%A6%E9%9B%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å­—ç¬¦é›†</h2>\n<p>å­—ç¬¦é›†ä¹Ÿå«åšå­—ç¬¦ç±». æ–¹æ‹¬å·ç”¨æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦é›†. åœ¨æ–¹æ‹¬å·ä¸­ä½¿ç”¨è¿å­—ç¬¦æ¥æŒ‡å®šå­—ç¬¦é›†çš„èŒƒå›´. åœ¨æ–¹æ‹¬å·ä¸­çš„å­—ç¬¦é›†ä¸å…³å¿ƒé¡ºåº. ä¾‹å¦‚, è¡¨è¾¾å¼<code class="language-text">[Tt]he</code> åŒ¹é… <code class="language-text">the</code> å’Œ <code class="language-text">The</code>.</p>\n<pre>\n"[Tt]he" => <a href="#learn-regex"><strong>The</strong></a> car parked in <a href="#learn-regex"><strong>the</strong></a> garage.\n</pre>\n<p><a href="https://regex101.com/r/2ITLQ4/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<p>æ–¹æ‹¬å·çš„å¥å·å°±è¡¨ç¤ºå¥å·. è¡¨è¾¾å¼ <code class="language-text">ar[.]</code> åŒ¹é… <code class="language-text">ar.</code>å­—ç¬¦ä¸²</p>\n<pre>\n"ar[.]" => A garage is a good place to park a c<a href="#learn-regex"><strong>ar.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/wL3xtE/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="å¦å®šå­—ç¬¦é›†"><a href="#%E5%90%A6%E5%AE%9A%E5%AD%97%E7%AC%A6%E9%9B%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¦å®šå­—ç¬¦é›†</h3>\n<p>ä¸€èˆ¬æ¥è¯´ <code class="language-text">^</code> è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´, ä½†å®ƒç”¨åœ¨ä¸€ä¸ªæ–¹æ‹¬å·çš„å¼€å¤´çš„æ—¶å€™, å®ƒè¡¨ç¤ºè¿™ä¸ªå­—ç¬¦é›†æ˜¯å¦å®šçš„. ä¾‹å¦‚, è¡¨è¾¾å¼<code class="language-text">[^c]ar</code> åŒ¹é…ä¸€ä¸ªåé¢è·Ÿç€<code class="language-text">ar</code>çš„é™¤äº†<code class="language-text">c</code>çš„ä»»æ„å­—ç¬¦.</p>\n<pre>\n"[^c]ar" => The car <a href="#learn-regex"><strong>par</strong></a>ked in the <a href="#learn-regex"><strong>gar</strong></a>age.\n</pre>\n<p><a href="https://regex101.com/r/nNNlq3/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="é‡å¤æ¬¡æ•°"><a href="#%E9%87%8D%E5%A4%8D%E6%AC%A1%E6%95%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é‡å¤æ¬¡æ•°</h2>\n<p>åé¢è·Ÿç€å…ƒå­—ç¬¦ <code class="language-text">+</code>, <code class="language-text">*</code> or <code class="language-text">?</code> çš„, ç”¨æ¥æŒ‡å®šåŒ¹é…å­æ¨¡å¼çš„æ¬¡æ•°. è¿™äº›å…ƒå­—ç¬¦åœ¨ä¸åŒçš„æƒ…å†µä¸‹æœ‰ç€ä¸åŒçš„æ„æ€.</p>\n<h3 id="-å·"><a href="#-%E5%8F%B7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">*</code> å·</h3>\n<p><code class="language-text">*</code>å·åŒ¹é… åœ¨<code class="language-text">*</code>ä¹‹å‰çš„å­—ç¬¦å‡ºç°<code class="language-text">å¤§äºç­‰äº0</code>æ¬¡. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">a*</code> åŒ¹é…ä»¥ 0 æˆ–æ›´å¤šä¸ª a å¼€å¤´çš„å­—ç¬¦, å› ä¸ºæœ‰ 0 ä¸ªè¿™ä¸ªæ¡ä»¶, å…¶å®ä¹Ÿå°±åŒ¹é…äº†æ‰€æœ‰çš„å­—ç¬¦. è¡¨è¾¾å¼<code class="language-text">[a-z]*</code> åŒ¹é…ä¸€ä¸ªè¡Œä¸­æ‰€æœ‰ä»¥å°å†™å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸².</p>\n<pre>\n"[a-z]*" => T<a href="#learn-regex"><strong>he</strong></a> <a href="#learn-regex"><strong>car</strong></a> <a href="#learn-regex"><strong>parked</strong></a> <a href="#learn-regex"><strong>in</strong></a> <a href="#learn-regex"><strong>the</strong></a> <a href="#learn-regex"><strong>garage</strong></a> #21.\n</pre>\n<p><a href="https://regex101.com/r/7m8me5/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<p><code class="language-text">*</code>å­—ç¬¦å’Œ<code class="language-text">.</code>å­—ç¬¦æ­é…å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦<code class="language-text">.*</code>. <code class="language-text">*</code>å’Œè¡¨ç¤ºåŒ¹é…ç©ºæ ¼çš„ç¬¦å·<code class="language-text">\\s</code>è¿èµ·æ¥ç”¨, å¦‚è¡¨è¾¾å¼<code class="language-text">\\s*cat\\s*</code>åŒ¹é… 0 æˆ–æ›´å¤šä¸ªç©ºæ ¼å¼€å¤´å’Œ 0 æˆ–æ›´å¤šä¸ªç©ºæ ¼ç»“å°¾çš„ cat å­—ç¬¦ä¸².</p>\n<pre>\n"\\s*cat\\s*" => The fat<a href="#learn-regex"><strong> cat </strong></a>sat on the con<a href="#learn-regex"><strong>cat</strong></a>enation.\n</pre>\n<p><a href="https://regex101.com/r/gGrwuz/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="-å·-1"><a href="#-%E5%8F%B7-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">+</code> å·</h3>\n<p><code class="language-text">+</code>å·åŒ¹é…<code class="language-text">+</code>å·ä¹‹å‰çš„å­—ç¬¦å‡ºç° >=1 æ¬¡. ä¾‹å¦‚è¡¨è¾¾å¼<code class="language-text">c.+t</code> åŒ¹é…ä»¥é¦–å­—æ¯<code class="language-text">c</code>å¼€å¤´ä»¥<code class="language-text">t</code>ç»“å°¾,ä¸­é—´è·Ÿç€ä»»æ„ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸².</p>\n<pre>\n"c.+t" => The fat <a href="#learn-regex"><strong>cat sat on the mat</strong></a>.\n</pre>\n<p><a href="https://regex101.com/r/Dzf9Aa/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="-å·-2"><a href="#-%E5%8F%B7-2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">?</code> å·</h3>\n<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦ <code class="language-text">?</code> æ ‡è®°åœ¨ç¬¦å·å‰é¢çš„å­—ç¬¦ä¸ºå¯é€‰, å³å‡ºç° 0 æˆ– 1 æ¬¡. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">[T]?he</code> åŒ¹é…å­—ç¬¦ä¸² <code class="language-text">he</code> å’Œ <code class="language-text">The</code>.</p>\n<pre>\n"[T]he" => <a href="#learn-regex"><strong>The</strong></a> car is parked in the garage.\n</pre>\n<p><a href="https://regex101.com/r/cIg9zm/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"[T]?he" => <a href="#learn-regex"><strong>The</strong></a> car is parked in t<a href="#learn-regex"><strong>he</strong></a> garage.\n</pre>\n<p><a href="https://regex101.com/r/kPpO2x/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="-å·-3"><a href="#-%E5%8F%B7-3" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">{}</code> å·</h2>\n<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ <code class="language-text">{}</code> æ˜¯ä¸€ä¸ªé‡è¯, å¸¸ç”¨æ¥ä¸€ä¸ªæˆ–ä¸€ç»„å­—ç¬¦å¯ä»¥é‡å¤å‡ºç°çš„æ¬¡æ•°. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">[0-9]{2,3}</code> åŒ¹é…æœ€å°‘ 2 ä½æœ€å¤š 3 ä½ 0~9 çš„æ•°å­—.</p>\n<pre>\n"[0-9]{2,3}" => The number was 9.<a href="#learn-regex"><strong>999</strong></a>7 but we rounded it off to <a href="#learn-regex"><strong>10</strong></a>.0.\n</pre>\n<p><a href="https://regex101.com/r/juM86s/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<p>æˆ‘ä»¬å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°. ä¾‹å¦‚, <code class="language-text">[0-9]{2,}</code> åŒ¹é…è‡³å°‘ä¸¤ä½ 0~9 çš„æ•°å­—.</p>\n<pre>\n"[0-9]{2,}" => The number was 9.<a href="#learn-regex"><strong>9997</strong></a> but we rounded it off to <a href="#learn-regex"><strong>10</strong></a>.0.\n</pre>\n<p><a href="https://regex101.com/r/Gdy4w5/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<p>å¦‚æœé€—å·ä¹Ÿçœç•¥æ‰åˆ™è¡¨ç¤ºé‡å¤å›ºå®šçš„æ¬¡æ•°. ä¾‹å¦‚, <code class="language-text">[0-9]{3}</code> åŒ¹é… 3 ä½æ•°å­—</p>\n<pre>\n"[0-9]{3}" => The number was 9.<a href="#learn-regex"><strong>999</strong></a>7 but we rounded it off to 10.0.\n</pre>\n<p><a href="https://regex101.com/r/Sivu30/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="-ç‰¹å¾æ ‡ç¾¤"><a href="#-%E7%89%B9%E5%BE%81%E6%A0%87%E7%BE%A4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">(...)</code> ç‰¹å¾æ ‡ç¾¤</h2>\n<p>ç‰¹å¾æ ‡ç¾¤æ˜¯ä¸€ç»„å†™åœ¨ <code class="language-text">(...)</code> ä¸­çš„å­æ¨¡å¼. ä¾‹å¦‚ä¹‹å‰è¯´çš„ <code class="language-text">{}</code> æ˜¯ç”¨æ¥è¡¨ç¤ºå‰é¢ä¸€ä¸ªå­—ç¬¦å‡ºç°æŒ‡å®šæ¬¡æ•°. ä½†å¦‚æœåœ¨ <code class="language-text">{}</code> å‰åŠ å…¥ç‰¹å¾æ ‡ç¾¤åˆ™è¡¨ç¤ºæ•´ä¸ªæ ‡ç¾¤å†…çš„å­—ç¬¦é‡å¤ N æ¬¡. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">(ab)*</code> åŒ¹é…è¿ç»­å‡ºç° 0 æˆ–æ›´å¤šä¸ª <code class="language-text">ab</code>.</p>\n<p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ <code class="language-text">()</code> ä¸­ç”¨æˆ–å­—ç¬¦ <code class="language-text">|</code> è¡¨ç¤ºæˆ–. ä¾‹å¦‚, <code class="language-text">(c|g|p)ar</code> åŒ¹é… <code class="language-text">car</code> æˆ– <code class="language-text">gar</code> æˆ– <code class="language-text">par</code>.</p>\n<pre>\n"(c|g|p)ar" => The <a href="#learn-regex"><strong>car</strong></a> is <a href="#learn-regex"><strong>par</strong></a>ked in the <a href="#learn-regex"><strong>gar</strong></a>age.\n</pre>\n<p><a href="https://regex101.com/r/tUxrBG/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="-æˆ–è¿ç®—ç¬¦"><a href="#-%E6%88%96%E8%BF%90%E7%AE%97%E7%AC%A6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">|</code> æˆ–è¿ç®—ç¬¦</h2>\n<p>æˆ–è¿ç®—ç¬¦å°±è¡¨ç¤ºæˆ–, ç”¨ä½œåˆ¤æ–­æ¡ä»¶.</p>\n<p>ä¾‹å¦‚ <code class="language-text">(T|t)he|car</code> åŒ¹é… <code class="language-text">(T|t)he</code> æˆ– <code class="language-text">car</code>.</p>\n<pre>\n"(T|t)he|car" => <a href="#learn-regex"><strong>The</strong></a> <a href="#learn-regex"><strong>car</strong></a> is parked in <a href="#learn-regex"><strong>the</strong></a> garage.\n</pre>\n<p><a href="https://regex101.com/r/fBXyX0/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="è½¬ç ç‰¹æ®Šå­—ç¬¦"><a href="#%E8%BD%AC%E7%A0%81%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è½¬ç ç‰¹æ®Šå­—ç¬¦</h2>\n<p>åæ–œçº¿ <code class="language-text">\\</code> åœ¨è¡¨è¾¾å¼ä¸­ç”¨äºè½¬ç ç´§è·Ÿå…¶åçš„å­—ç¬¦. ç”¨äºæŒ‡å®š <code class="language-text">{ } [ ] / \\ + * . $ ^ | ?</code> è¿™äº›ç‰¹æ®Šå­—ç¬¦. å¦‚æœæƒ³è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦åˆ™è¦åœ¨å…¶å‰é¢åŠ ä¸Šåæ–œçº¿ <code class="language-text">\\</code>.</p>\n<p>ä¾‹å¦‚ <code class="language-text">.</code> æ˜¯ç”¨æ¥åŒ¹é…é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦çš„. å¦‚æœæƒ³è¦åŒ¹é…å¥å­ä¸­çš„ <code class="language-text">.</code> åˆ™è¦å†™æˆ <code class="language-text">\\.</code> ä»¥ä¸‹è¿™ä¸ªä¾‹å­ <code class="language-text">\\.?</code>æ˜¯é€‰æ‹©æ€§åŒ¹é…<code class="language-text">.</code></p>\n<pre>\n"(f|c|m)at\\.?" => The <a href="#learn-regex"><strong>fat</strong></a> <a href="#learn-regex"><strong>cat</strong></a> sat on the <a href="#learn-regex"><strong>mat.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/DOc5Nu/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="é”šç‚¹"><a href="#%E9%94%9A%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é”šç‚¹</h2>\n<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­, æƒ³è¦åŒ¹é…æŒ‡å®šå¼€å¤´æˆ–ç»“å°¾çš„å­—ç¬¦ä¸²å°±è¦ä½¿ç”¨åˆ°é”šç‚¹. <code class="language-text">^</code> æŒ‡å®šå¼€å¤´, <code class="language-text">$</code> æŒ‡å®šç»“å°¾.</p>\n<h3 id="-å·-4"><a href="#-%E5%8F%B7-4" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">^</code> å·</h3>\n<p><code class="language-text">^</code> ç”¨æ¥æ£€æŸ¥åŒ¹é…çš„å­—ç¬¦ä¸²æ˜¯å¦åœ¨æ‰€åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´.</p>\n<p>ä¾‹å¦‚, åœ¨ <code class="language-text">abc</code> ä¸­ä½¿ç”¨è¡¨è¾¾å¼ <code class="language-text">^a</code> ä¼šå¾—åˆ°ç»“æœ <code class="language-text">a</code>. ä½†å¦‚æœä½¿ç”¨ <code class="language-text">^b</code> å°†åŒ¹é…ä¸åˆ°ä»»ä½•ç»“æœ. å› ä¸ºåœ¨å­—ç¬¦ä¸² <code class="language-text">abc</code> ä¸­å¹¶ä¸æ˜¯ä»¥ <code class="language-text">b</code> å¼€å¤´.</p>\n<p>ä¾‹å¦‚, <code class="language-text">^(T|t)he</code> åŒ¹é…ä»¥ <code class="language-text">The</code> æˆ– <code class="language-text">the</code> å¼€å¤´çš„å­—ç¬¦ä¸².</p>\n<pre>\n"(T|t)he" => <a href="#learn-regex"><strong>The</strong></a> car is parked in <a href="#learn-regex"><strong>the</strong></a> garage.\n</pre>\n<p><a href="https://regex101.com/r/5ljjgB/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"^(T|t)he" => <a href="#learn-regex"><strong>The</strong></a> car is parked in the garage.\n</pre>\n<p><a href="https://regex101.com/r/jXrKne/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="-å·-5"><a href="#-%E5%8F%B7-5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">$</code> å·</h3>\n<p>åŒç†äº <code class="language-text">^</code> å·, <code class="language-text">$</code> å·ç”¨æ¥åŒ¹é…å­—ç¬¦æ˜¯å¦æ˜¯æœ€åä¸€ä¸ª.</p>\n<p>ä¾‹å¦‚, <code class="language-text">(at\\.)$</code> åŒ¹é…ä»¥ <code class="language-text">at.</code> ç»“å°¾çš„å­—ç¬¦ä¸².</p>\n<pre>\n"(at\\.)" => The fat c<a href="#learn-regex"><strong>at.</strong></a> s<a href="#learn-regex"><strong>at.</strong></a> on the m<a href="#learn-regex"><strong>at.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/y4Au4D/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"(at\\.)$" => The fat cat. sat. on the m<a href="#learn-regex"><strong>at.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/t0AkOd/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="ç®€å†™å­—ç¬¦é›†"><a href="#%E7%AE%80%E5%86%99%E5%AD%97%E7%AC%A6%E9%9B%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç®€å†™å­—ç¬¦é›†</h2>\n<p>æ­£åˆ™è¡¨è¾¾å¼æä¾›ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦é›†ç®€å†™. å¦‚ä¸‹:</p>\n<table>\n<thead>\n<tr>\n<th align="center">ç®€å†™</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">.</td>\n<td>é™¤æ¢è¡Œç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\w</td>\n<td>åŒ¹é…æ‰€æœ‰å­—æ¯æ•°å­—, ç­‰åŒäº \n<code class="language-text">[a-zA-Z0-9_]</code></td>\n</tr>\n<tr>\n<td align="center">\\W</td>\n<td>åŒ¹é…æ‰€æœ‰éå­—æ¯æ•°å­—, å³ç¬¦å·, ç­‰åŒäº: \n<code class="language-text">[^\\w]</code></td>\n</tr>\n<tr>\n<td align="center">\\d</td>\n<td>åŒ¹é…æ•°å­—: \n<code class="language-text">[0-9]</code></td>\n</tr>\n<tr>\n<td align="center">\\D</td>\n<td>åŒ¹é…éæ•°å­—: \n<code class="language-text">[^\\d]</code></td>\n</tr>\n<tr>\n<td align="center">\\s</td>\n<td>åŒ¹é…æ‰€æœ‰ç©ºæ ¼å­—ç¬¦, ç­‰åŒäº: \n<code class="language-text">[\\t\\n\\f\\r\\p{Z}]</code></td>\n</tr>\n<tr>\n<td align="center">\\S</td>\n<td>åŒ¹é…æ‰€æœ‰éç©ºæ ¼å­—ç¬¦: \n<code class="language-text">[^\\s]</code></td>\n</tr>\n<tr>\n<td align="center">\\f</td>\n<td>åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\n</td>\n<td>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\r</td>\n<td>åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\t</td>\n<td>åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\v</td>\n<td>åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦</td>\n</tr>\n<tr>\n<td align="center">\\p</td>\n<td>åŒ¹é… CR/LF (ç­‰åŒäº \n<code class="language-text">\\r\\n</code>\n)ï¼Œç”¨æ¥åŒ¹é… DOS è¡Œç»ˆæ­¢ç¬¦</td>\n</tr>\n</tbody>\n</table>\n<h2 id="é›¶å®½åº¦æ–­è¨€å‰åé¢„æŸ¥"><a href="#%E9%9B%B6%E5%AE%BD%E5%BA%A6%E6%96%AD%E8%A8%80%E5%89%8D%E5%90%8E%E9%A2%84%E6%9F%A5" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é›¶å®½åº¦æ–­è¨€(å‰åé¢„æŸ¥)</h2>\n<p>å…ˆè¡Œæ–­è¨€å’Œåå‘æ–­è¨€éƒ½å±äº<strong>éæ•è·ç°‡</strong>(ä¸æ•è·æ–‡æœ¬ ï¼Œä¹Ÿä¸é’ˆå¯¹ç»„åˆè®¡è¿›è¡Œè®¡æ•°). å…ˆè¡Œæ–­è¨€ç”¨äºåˆ¤æ–­æ‰€åŒ¹é…çš„æ ¼å¼æ˜¯å¦åœ¨å¦ä¸€ä¸ªç¡®å®šçš„æ ¼å¼ä¹‹å‰, åŒ¹é…ç»“æœä¸åŒ…å«è¯¥ç¡®å®šæ ¼å¼(ä»…ä½œä¸ºçº¦æŸ).</p>\n<p>ä¾‹å¦‚, æˆ‘ä»¬æƒ³è¦è·å¾—æ‰€æœ‰è·Ÿåœ¨ <code class="language-text">$</code> ç¬¦å·åçš„æ•°å­—, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åå‘æ–­è¨€ <code class="language-text">(?&lt;=\\$)[0-9\\.]*</code>. è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é… <code class="language-text">$</code> å¼€å¤´, ä¹‹åè·Ÿç€ <code class="language-text">0,1,2,3,4,5,6,7,8,9,.</code> è¿™äº›å­—ç¬¦å¯ä»¥å‡ºç°å¤§äºç­‰äº 0 æ¬¡.</p>\n<p>é›¶å®½åº¦æ–­è¨€å¦‚ä¸‹:</p>\n<table>\n<thead>\n<tr>\n<th align="center">ç¬¦å·</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">?=</td>\n<td>æ­£å…ˆè¡Œæ–­è¨€-å­˜åœ¨</td>\n</tr>\n<tr>\n<td align="center">?!</td>\n<td>è´Ÿå…ˆè¡Œæ–­è¨€-æ’é™¤</td>\n</tr>\n<tr>\n<td align="center">?&#x3C;=</td>\n<td>æ­£åå‘æ–­è¨€-å­˜åœ¨</td>\n</tr>\n<tr>\n<td align="center">?&#x3C;!</td>\n<td>è´Ÿåå‘æ–­è¨€-æ’é™¤</td>\n</tr>\n</tbody>\n</table>\n<h3 id="-æ­£å…ˆè¡Œæ–­è¨€"><a href="#-%E6%AD%A3%E5%85%88%E8%A1%8C%E6%96%AD%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">?=...</code> æ­£å…ˆè¡Œæ–­è¨€</h3>\n<p><code class="language-text">?=...</code> æ­£å…ˆè¡Œæ–­è¨€, è¡¨ç¤ºç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼ä¹‹åå¿…é¡»è·Ÿç€ <code class="language-text">?=...</code>å®šä¹‰çš„è¡¨è¾¾å¼.</p>\n<p>è¿”å›ç»“æœåªåŒ…å«æ»¡è¶³åŒ¹é…æ¡ä»¶çš„ç¬¬ä¸€éƒ¨åˆ†è¡¨è¾¾å¼. å®šä¹‰ä¸€ä¸ªæ­£å…ˆè¡Œæ–­è¨€è¦ä½¿ç”¨ <code class="language-text">()</code>. åœ¨æ‹¬å·å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªé—®å·å’Œç­‰å·: <code class="language-text">(?=...)</code>.</p>\n<p>æ­£å…ˆè¡Œæ–­è¨€çš„å†…å®¹å†™åœ¨æ‹¬å·ä¸­çš„ç­‰å·åé¢. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">(T|t)he(?=\\sfat)</code> åŒ¹é… <code class="language-text">The</code> å’Œ <code class="language-text">the</code>, åœ¨æ‹¬å·ä¸­æˆ‘ä»¬åˆå®šä¹‰äº†æ­£å…ˆè¡Œæ–­è¨€ <code class="language-text">(?=\\sfat)</code> ,å³ <code class="language-text">The</code> å’Œ <code class="language-text">the</code> åé¢ç´§è·Ÿç€ <code class="language-text">(ç©ºæ ¼)fat</code>.</p>\n<pre>\n"(T|t)he(?=\\sfat)" => <a href="#learn-regex"><strong>The</strong></a> fat cat sat on the mat.\n</pre>\n<p><a href="https://regex101.com/r/IDDARt/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="-è´Ÿå…ˆè¡Œæ–­è¨€"><a href="#-%E8%B4%9F%E5%85%88%E8%A1%8C%E6%96%AD%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">?!...</code> è´Ÿå…ˆè¡Œæ–­è¨€</h3>\n<p>è´Ÿå…ˆè¡Œæ–­è¨€ <code class="language-text">?!</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶åä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. <code class="language-text">æ­£å…ˆè¡Œæ–­è¨€</code> å®šä¹‰å’Œ <code class="language-text">è´Ÿå…ˆè¡Œæ–­è¨€</code> ä¸€æ ·, åŒºåˆ«å°±æ˜¯ <code class="language-text">=</code> æ›¿æ¢æˆ <code class="language-text">!</code> ä¹Ÿå°±æ˜¯ <code class="language-text">(?!...)</code>.</p>\n<p>è¡¨è¾¾å¼ <code class="language-text">(T|t)he(?!\\sfat)</code> åŒ¹é… <code class="language-text">The</code> å’Œ <code class="language-text">the</code>, ä¸”å…¶åä¸è·Ÿç€ <code class="language-text">(ç©ºæ ¼)fat</code>.</p>\n<pre>\n"(T|t)he(?!\\sfat)" => The fat cat sat on <a href="#learn-regex"><strong>the</strong></a> mat.\n</pre>\n<p><a href="https://regex101.com/r/V32Npg/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="--æ­£åå‘æ–­è¨€"><a href="#--%E6%AD%A3%E5%90%8E%E5%8F%91%E6%96%AD%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">?&lt;= ...</code> æ­£åå‘æ–­è¨€</h3>\n<p>æ­£åå‘æ–­è¨€ è®°ä½œ<code class="language-text">(?&lt;=...)</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶å‰è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">(?&lt;=(T|t)he\\s)(fat|mat)</code> åŒ¹é… <code class="language-text">fat</code> å’Œ <code class="language-text">mat</code>, ä¸”å…¶å‰è·Ÿç€ <code class="language-text">The</code> æˆ– <code class="language-text">the</code>.</p>\n<pre>\n"(?<=(T|t)he\\s)(fat|mat)" => The <a href="#learn-regex"><strong>fat</strong></a> cat sat on the <a href="#learn-regex"><strong>mat</strong></a>.\n</pre>\n<p><a href="https://regex101.com/r/avH165/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="-è´Ÿåå‘æ–­è¨€"><a href="#-%E8%B4%9F%E5%90%8E%E5%8F%91%E6%96%AD%E8%A8%80" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">?&lt;!...</code> è´Ÿåå‘æ–­è¨€</h3>\n<p>è´Ÿåå‘æ–­è¨€ è®°ä½œ <code class="language-text">(?&lt;!...)</code> ç”¨äºç­›é€‰æ‰€æœ‰åŒ¹é…ç»“æœ, ç­›é€‰æ¡ä»¶ä¸º å…¶å‰ä¸è·Ÿéšç€æ–­è¨€ä¸­å®šä¹‰çš„æ ¼å¼. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">(?&lt;!(T|t)he\\s)(cat)</code> åŒ¹é… <code class="language-text">cat</code>, ä¸”å…¶å‰ä¸è·Ÿç€ <code class="language-text">The</code> æˆ– <code class="language-text">the</code>.</p>\n<pre>\n"(?&lt;!(T|t)he\\s)(cat)" => The cat sat on <a href="#learn-regex"><strong>cat</strong></a>.\n</pre>\n<p><a href="https://regex101.com/r/8Efx5G/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h2 id="æ ‡å¿—"><a href="#%E6%A0%87%E5%BF%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ ‡å¿—</h2>\n<p>æ ‡å¿—ä¹Ÿå«æ¨¡å¼ä¿®æ­£ç¬¦, å› ä¸ºå®ƒå¯ä»¥ç”¨æ¥ä¿®æ”¹è¡¨è¾¾å¼çš„æœç´¢ç»“æœ. è¿™äº›æ ‡å¿—å¯ä»¥ä»»æ„çš„ç»„åˆä½¿ç”¨, å®ƒä¹Ÿæ˜¯æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†.</p>\n<table>\n<thead>\n<tr>\n<th align="center">æ ‡å¿—</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="center">i</td>\n<td>å¿½ç•¥å¤§å°å†™.</td>\n</tr>\n<tr>\n<td align="center">g</td>\n<td>å…¨å±€æœç´¢.</td>\n</tr>\n<tr>\n<td align="center">m</td>\n<td>å¤šè¡Œçš„: é”šç‚¹å…ƒå­—ç¬¦ \n<code class="language-text">^</code>\n \n<code class="language-text">$</code>\n å·¥ä½œèŒƒå›´åœ¨æ¯è¡Œçš„èµ·å§‹.</td>\n</tr>\n</tbody>\n</table>\n<h3 id="å¿½ç•¥å¤§å°å†™-case-insensitive"><a href="#%E5%BF%BD%E7%95%A5%E5%A4%A7%E5%B0%8F%E5%86%99-case-insensitive" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¿½ç•¥å¤§å°å†™ (Case Insensitive)</h3>\n<p>ä¿®é¥°è¯­ <code class="language-text">i</code> ç”¨äºå¿½ç•¥å¤§å°å†™. ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">/The/gi</code> è¡¨ç¤ºåœ¨å…¨å±€æœç´¢ <code class="language-text">The</code>, åœ¨åé¢çš„ <code class="language-text">i</code> å°†å…¶æ¡ä»¶ä¿®æ”¹ä¸ºå¿½ç•¥å¤§å°å†™, åˆ™å˜æˆæœç´¢ <code class="language-text">the</code> å’Œ <code class="language-text">The</code>, <code class="language-text">g</code> è¡¨ç¤ºå…¨å±€æœç´¢.</p>\n<pre>\n"The" => <a href="#learn-regex"><strong>The</strong></a> fat cat sat on the mat.\n</pre>\n<p><a href="https://regex101.com/r/dpQyf9/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"/The/gi" => <a href="#learn-regex"><strong>The</strong></a> fat cat sat on <a href="#learn-regex"><strong>the</strong></a> mat.\n</pre>\n<p><a href="https://regex101.com/r/ahfiuh/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="å…¨å±€æœç´¢-global-search"><a href="#%E5%85%A8%E5%B1%80%E6%90%9C%E7%B4%A2-global-search" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å…¨å±€æœç´¢ (Global search)</h3>\n<p>ä¿®é¥°ç¬¦ <code class="language-text">g</code> å¸¸ç”¨äºæ‰§è¡Œä¸€ä¸ªå…¨å±€æœç´¢åŒ¹é…, å³(ä¸ä»…ä»…è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„, è€Œæ˜¯è¿”å›å…¨éƒ¨). ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">/.(at)/g</code> è¡¨ç¤ºæœç´¢ ä»»æ„å­—ç¬¦(é™¤äº†æ¢è¡Œ) + <code class="language-text">at</code>, å¹¶è¿”å›å…¨éƒ¨ç»“æœ.</p>\n<pre>\n"/.(at)/" => The <a href="#learn-regex"><strong>fat</strong></a> cat sat on the mat.\n</pre>\n<p><a href="https://regex101.com/r/jnk6gM/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"/.(at)/g" => The <a href="#learn-regex"><strong>fat</strong></a> <a href="#learn-regex"><strong>cat</strong></a> <a href="#learn-regex"><strong>sat</strong></a> on the <a href="#learn-regex"><strong>mat</strong></a>.\n</pre>\n<p><a href="https://regex101.com/r/dO1nef/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="å¤šè¡Œä¿®é¥°ç¬¦-multiline"><a href="#%E5%A4%9A%E8%A1%8C%E4%BF%AE%E9%A5%B0%E7%AC%A6-multiline" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¤šè¡Œä¿®é¥°ç¬¦ (Multiline)</h3>\n<p>å¤šè¡Œä¿®é¥°ç¬¦ <code class="language-text">m</code> å¸¸ç”¨è¯­æ‰§è¡Œä¸€ä¸ªå¤šè¡ŒåŒ¹é….</p>\n<p>åƒä¹‹å‰ä»‹ç»çš„ <code class="language-text">(^,$)</code> ç”¨äºæ£€æŸ¥æ ¼å¼æ˜¯å¦æ˜¯åœ¨å¾…æ£€æµ‹å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾. ä½†æˆ‘ä»¬å¦‚æœæƒ³è¦å®ƒåœ¨æ¯è¡Œçš„å¼€å¤´å’Œç»“å°¾ç”Ÿæ•ˆ, æˆ‘ä»¬éœ€è¦ç”¨åˆ°å¤šè¡Œä¿®é¥°ç¬¦ <code class="language-text">m</code>.</p>\n<p>ä¾‹å¦‚, è¡¨è¾¾å¼ <code class="language-text">/at(.)?$/gm</code> è¡¨ç¤ºå°å†™å­—ç¬¦ <code class="language-text">a</code> åè·Ÿå°å†™å­—ç¬¦ <code class="language-text">t</code> , æœ«å°¾å¯é€‰é™¤æ¢è¡Œç¬¦å¤–ä»»æ„å­—ç¬¦. æ ¹æ® <code class="language-text">m</code> ä¿®é¥°ç¬¦, ç°åœ¨è¡¨è¾¾å¼åŒ¹é…æ¯è¡Œçš„ç»“å°¾.</p>\n<pre>\n"/.at(.)?$/" => The fat\n                cat sat\n                on the <a href="#learn-regex"><strong>mat.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/hoGMkP/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"/.at(.)?$/gm" => The <a href="#learn-regex"><strong>fat</strong></a>\n                  cat <a href="#learn-regex"><strong>sat</strong></a>\n                  on the <a href="#learn-regex"><strong>mat.</strong></a>\n</pre>\n<p><a href="https://regex101.com/r/E88WE2/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<h3 id="è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…-greedy-vs-lazy-matching"><a href="#%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D%E4%B8%8E%E6%83%B0%E6%80%A7%E5%8C%B9%E9%85%8D-greedy-vs-lazy-matching" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é… (Greedy vs lazy matching)</h3>\n<p>æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤é‡‡ç”¨è´ªå©ªåŒ¹é…æ¨¡å¼ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹æ„å‘³ç€ä¼šåŒ¹é…å°½å¯èƒ½é•¿çš„å­ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code class="language-text">?</code> å°†è´ªå©ªåŒ¹é…æ¨¡å¼è½¬åŒ–ä¸ºæƒ°æ€§åŒ¹é…æ¨¡å¼ã€‚</p>\n<pre>\n"/(.*at)/" => <a href="#learn-regex"><strong>The fat cat sat on the mat</strong></a>. </pre>\n<p><a href="https://regex101.com/r/AyAdgJ/1" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>\n<pre>\n"/(.*?at)/" => <a href="#learn-regex"><strong>The fat</strong></a> cat sat on the mat. </pre>\n<p><a href="https://regex101.com/r/AyAdgJ/2" target="_blank" rel="nofollow noreferrer noopener">åœ¨çº¿ç»ƒä¹ </a></p>',
id:"/github/workspace/blog/æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨å­¦ä¹ /index.md absPath of file >>> MarkdownRemark",timeToRead:13,frontmatter:{date:"2019-08-02 10:36:31",path:"/regex-introduce-learn/",tags:"æ­£åˆ™è¡¨è¾¾å¼",title:"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨å­¦ä¹ ",draft:null}},{excerpt:"å¹¿åº¦ä¼˜å…ˆæœç´¢ ä»¥äºŒå‰æ ‘çš„å±‚æ¬¡éå†ä¸¾ä¾‹ï¼š æ·±åº¦ä¼˜å…ˆæœç´¢ æ·±åº¦ä¼˜å…ˆæ‹·è´ ç›®å‰åªæ‹·è´äº† Object, Array",html:'<h1 id="å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¹¿åº¦ä¼˜å…ˆæœç´¢</h1>\n<p>ä»¥äºŒå‰æ ‘çš„å±‚æ¬¡éå†ä¸¾ä¾‹ï¼š</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="37291908902947940000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`/*\n * @lc app=leetcode.cn id=102 lang=javascript\n *\n * [102] äºŒå‰æ ‘çš„å±‚æ¬¡éå†\n *\n * https://leetcode-cn.com/problems/binary-tree-level-order-traversal/description/\n *\n * algorithms\n * Medium (53.64%)\n * Total Accepted:    17.4K\n * Total Submissions: 32.4K\n * Testcase Example:  \'[3,9,20,null,null,15,7]\'\n *\n * ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶æŒ‰å±‚æ¬¡éå†çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚\n *\n * ä¾‹å¦‚:\n * ç»™å®šäºŒå‰æ ‘:Â [3,9,20,null,null,15,7],\n *\n * â    3\n * â   / \\\n * â  9  20\n * â    /  \\\n * â   15   7\n *\n *\n * è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š\n *\n * [\n * â  [3],\n * â  [9,20],\n * â  [15,7]\n * ]\n *\n *\n */\n/**\n * Definition for a binary tree node.\n * function TreeNode(val) {\n *     this.val = val;\n *     this.left = this.right = null;\n * }\n */\n/**\n * @param {TreeNode} root\n * @return {number[][]}\n */\nvar levelOrder = function(root) {\n  if (!root) {\n    return [];\n  }\n  const queue = [root];\n  const results = [];\n  while (queue.length) {\n    let count = queue.length;\n    const result = [];\n    while (count--) {\n      const t1 = queue.shift();\n      result.push(t1.val);\n      t1.left && queue.push(t1.left);\n      t1.right && queue.push(t1.right);\n    }\n    results.push(result);\n  }\n  return results;\n};`, `37291908902947940000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">/*\n * @lc app=leetcode.cn id=102 lang=javascript\n *\n * [102] äºŒå‰æ ‘çš„å±‚æ¬¡éå†\n *\n * https://leetcode-cn.com/problems/binary-tree-level-order-traversal/description/\n *\n * algorithms\n * Medium (53.64%)\n * Total Accepted:    17.4K\n * Total Submissions: 32.4K\n * Testcase Example:  \'[3,9,20,null,null,15,7]\'\n *\n * ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å…¶æŒ‰å±‚æ¬¡éå†çš„èŠ‚ç‚¹å€¼ã€‚ ï¼ˆå³é€å±‚åœ°ï¼Œä»å·¦åˆ°å³è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼‰ã€‚\n *\n * ä¾‹å¦‚:\n * ç»™å®šäºŒå‰æ ‘: [3,9,20,null,null,15,7],\n *\n * â    3\n * â   / \\\n * â  9  20\n * â    /  \\\n * â   15   7\n *\n *\n * è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š\n *\n * [\n * â  [3],\n * â  [9,20],\n * â  [15,7]\n * ]\n *\n *\n */</span>\n<span class="token comment">/**\n * Definition for a binary tree node.\n * function TreeNode(val) {\n *     this.val = val;\n *     this.left = this.right = null;\n * }\n */</span>\n<span class="token comment">/**\n * @param {TreeNode} root\n * @return {number[][]}\n */</span>\n<span class="token keyword">var</span> <span class="token function-variable function">levelOrder</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> count <span class="token operator">=</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">while</span> <span class="token punctuation">(</span>count<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> t1 <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      t1<span class="token punctuation">.</span>left <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      t1<span class="token punctuation">.</span>right <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> results<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h1>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="60142558788489800000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`/*æ·±åº¦ä¼˜å…ˆéå†ä¸‰ç§æ–¹å¼*/\nlet deepTraversal1 = (node, nodeList = []) => {\n  if (node !== null) {\n    nodeList.push(node);\n    let children = node.children;\n    for (let i = 0; i < children.length; i++) {\n      deepTraversal1(children[i], nodeList);\n    }\n  }\n  return nodeList;\n};\nlet deepTraversal2 = (node) => {\n  let nodes = [];\n  if (node !== null) {\n    nodes.push(node);\n    let children = node.children;\n    for (let i = 0; i < children.length; i++) {\n      nodes = nodes.concat(deepTraversal2(children[i]));\n    }\n  }\n  return nodes;\n};\n// éé€’å½’\nlet deepTraversal3 = (node) => {\n  let stack = [];\n  let nodes = [];\n  if (node) {\n    // æ¨å…¥å½“å‰å¤„ç†çš„node\n    stack.push(node);\n    while (stack.length) {\n      let item = stack.pop();\n      let children = item.children;\n      nodes.push(item);\n      // node = [] stack = [parent]\n      // node = [parent] stack = [child3,child2,child1]\n      // node = [parent, child1] stack = [child3,child2,child1-2,child1-1]\n      // node = [parent, child1-1] stack = [child3,child2,child1-2]\n      for (let i = children.length - 1; i >= 0; i--) {\n        stack.push(children[i]);\n      }\n    }\n  }\n  return nodes;\n};`, `60142558788489800000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">/*æ·±åº¦ä¼˜å…ˆéå†ä¸‰ç§æ–¹å¼*/</span>\n<span class="token keyword">let</span> <span class="token function-variable function">deepTraversal1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> nodeList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    nodeList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> children <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">deepTraversal1</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nodeList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> nodeList<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> <span class="token function-variable function">deepTraversal2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> children <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      nodes <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">deepTraversal2</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> nodes<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// éé€’å½’</span>\n<span class="token keyword">let</span> <span class="token function-variable function">deepTraversal3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// æ¨å…¥å½“å‰å¤„ç†çš„node</span>\n    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">let</span> item <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">let</span> children <span class="token operator">=</span> item<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n      nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token comment">// node = [] stack = [parent]</span>\n      <span class="token comment">// node = [parent] stack = [child3,child2,child1]</span>\n      <span class="token comment">// node = [parent, child1] stack = [child3,child2,child1-2,child1-1]</span>\n      <span class="token comment">// node = [parent, child1-1] stack = [child3,child2,child1-2]</span>\n      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> children<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> nodes<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="æ·±åº¦ä¼˜å…ˆæ‹·è´"><a href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%8B%B7%E8%B4%9D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ·±åº¦ä¼˜å…ˆæ‹·è´</h1>\n<p>ç›®å‰åªæ‹·è´äº† Object, Array</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4535704695055198000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="å¤åˆ¶æˆåŠŸ"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// å¦‚æœæ˜¯å¯¹è±¡/æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªç©ºçš„å¯¹è±¡/æ•°ç»„ï¼Œ\n// éƒ½ä¸æ˜¯çš„è¯ç›´æ¥è¿”å›åŸå¯¹è±¡\n// åˆ¤æ–­è¿”å›çš„å¯¹è±¡å’ŒåŸæœ‰å¯¹è±¡æ˜¯å¦ç›¸åŒå°±å¯ä»¥çŸ¥é“æ˜¯å¦éœ€è¦ç»§ç»­æ·±æ‹·è´\n// å¤„ç†å…¶ä»–çš„æ•°æ®ç±»å‹çš„è¯å°±åœ¨è¿™é‡ŒåŠ åˆ¤æ–­\nfunction getEmpty(o) {\n  if (Object.prototype.toString.call(o) === \'[object Object]\') {\n    return {};\n  }\n  if (Object.prototype.toString.call(o) === \'[object Array]\') {\n    return [];\n  }\n  return o;\n}\n\nfunction deepCopyBFS(origin) {\n  let queue = [];\n  let map = new Map(); // è®°å½•å‡ºç°è¿‡çš„å¯¹è±¡ï¼Œç”¨äºå¤„ç†ç¯\n\n  let target = getEmpty(origin);\n  if (target !== origin) {\n    queue.push([origin, target]);\n    map.set(origin, target);\n  }\n\n  while (queue.length) {\n    let [ori, tar] = queue.shift();\n    for (let key in ori) {\n      // å¤„ç†ç¯çŠ¶\n      if (map.get(ori[key])) {\n        tar[key] = map.get(ori[key]);\n        continue;\n      }\n\n      tar[key] = getEmpty(ori[key]);\n      if (tar[key] !== ori[key]) {\n        queue.push([ori[key], tar[key]]);\n        map.set(ori[key], tar[key]);\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction deepCopyDFS(origin) {\n  let stack = [];\n  let map = new Map(); // è®°å½•å‡ºç°è¿‡çš„å¯¹è±¡ï¼Œç”¨äºå¤„ç†ç¯\n\n  let target = getEmpty(origin);\n  if (target !== origin) {\n    stack.push([origin, target]);\n    map.set(origin, target);\n  }\n\n  while (stack.length) {\n    let [ori, tar] = stack.pop();\n    for (let key in ori) {\n      // å¤„ç†ç¯çŠ¶\n      if (map.get(ori[key])) {\n        tar[key] = map.get(ori[key]);\n        continue;\n      }\n\n      tar[key] = getEmpty(ori[key]);\n      if (tar[key] !== ori[key]) {\n        stack.push([ori[key], tar[key]]);\n        map.set(ori[key], tar[key]);\n      }\n    }\n  }\n\n  return target;\n}`, `4535704695055198000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                \n              >\n                js å¤åˆ¶ä»£ç \n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// å¦‚æœæ˜¯å¯¹è±¡/æ•°ç»„ï¼Œè¿”å›ä¸€ä¸ªç©ºçš„å¯¹è±¡/æ•°ç»„ï¼Œ</span>\n<span class="token comment">// éƒ½ä¸æ˜¯çš„è¯ç›´æ¥è¿”å›åŸå¯¹è±¡</span>\n<span class="token comment">// åˆ¤æ–­è¿”å›çš„å¯¹è±¡å’ŒåŸæœ‰å¯¹è±¡æ˜¯å¦ç›¸åŒå°±å¯ä»¥çŸ¥é“æ˜¯å¦éœ€è¦ç»§ç»­æ·±æ‹·è´</span>\n<span class="token comment">// å¤„ç†å…¶ä»–çš„æ•°æ®ç±»å‹çš„è¯å°±åœ¨è¿™é‡ŒåŠ åˆ¤æ–­</span>\n<span class="token keyword">function</span> <span class="token function">getEmpty</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">\'[object Object]\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">\'[object Array]\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> o<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">deepCopyBFS</span><span class="token punctuation">(</span><span class="token parameter">origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•å‡ºç°è¿‡çš„å¯¹è±¡ï¼Œç”¨äºå¤„ç†ç¯</span>\n\n  <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token function">getEmpty</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">!==</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>origin<span class="token punctuation">,</span> target<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> <span class="token punctuation">[</span>ori<span class="token punctuation">,</span> tar<span class="token punctuation">]</span> <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> ori<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// å¤„ç†ç¯çŠ¶</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">continue</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n\n      tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getEmpty</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> target<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">deepCopyDFS</span><span class="token punctuation">(</span><span class="token parameter">origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®°å½•å‡ºç°è¿‡çš„å¯¹è±¡ï¼Œç”¨äºå¤„ç†ç¯</span>\n\n  <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token function">getEmpty</span><span class="token punctuation">(</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">!==</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>origin<span class="token punctuation">,</span> target<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>origin<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> <span class="token punctuation">[</span>ori<span class="token punctuation">,</span> tar<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> ori<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// å¤„ç†ç¯çŠ¶</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">continue</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n\n      tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getEmpty</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>ori<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> tar<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> target<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>',
id:"/github/workspace/blog/æ ‘çš„éå†ç®—æ³•ä¸æ·±åº¦æ‹·è´å‡½æ•°/index.md absPath of file >>> MarkdownRemark",timeToRead:2,frontmatter:{date:"2019-07-19 11:47:41",path:"/tree-traversal-depth-copy/",tags:"å‰ç«¯, æ·±åº¦æ‹·è´, æ ‘çš„éå†",title:"æ ‘çš„éå†ç®—æ³•ä¸æ·±åº¦æ‹·è´å‡½æ•°",draft:null}}],page:20,pagesSum:37,length:185,prevPath:"/page/19",nextPath:"/page/21"}}}});