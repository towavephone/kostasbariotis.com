webpackJsonp([0xcf0b103a876c],{1369:function(n,a){n.exports={data:{site:{siteMetadata:{title:"女王控的博客",description:'前端工程师，黑猫女王控，欢迎勾搭，技术相关<a href="https://github.com/towavephone" target="_blank">@towavephone</a>，QQ闲聊<a href="tencent://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=634407147&website=www.oicqzone.com">@towave</a>，bili关注<a href="https://space.bilibili.com/11507708#/" target="_blank">@towave</a>',siteUrl:"https://blog.towavephone.com"}}},pathContext:{posts:[{excerpt:"构造函数 constructor 返回创建实例对象时构造函数的引用（即 对象.constructor === 构造函数.prototype.constructor），此属性的值是对函数本身的引用，而不是一个包含函数名称的字符串 构造函数本身就是一个函数，与普通函数没有任何区别，不过为了规范一般将其首字母大写。构造函数和普通函数的区别在于，使用 new 生成实例的函数就是构造函数，直接调用的就是普通函数。 那是不是意味着普通函数创建的实例没有 constructor 属性呢？不一定。 Symbol…",html:'<h1 id="构造函数"><a href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>构造函数</h1>\n<p>constructor 返回创建实例对象时构造函数的引用（即 对象.constructor === 构造函数.prototype.constructor），此属性的值是对函数本身的引用，而不是一个包含函数名称的字符串</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="13599331862187469000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Parent(age) {\n  this.age = age;\n}\n\nvar p = new Parent(50);\np.constructor === Parent; // true\np.constructor === Object; // false`, `13599331862187469000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\np<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Parent<span class="token punctuation">;</span> <span class="token comment">// true</span>\np<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// false</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>构造函数本身就是一个函数，与普通函数没有任何区别，不过为了规范一般将其首字母大写。构造函数和普通函数的区别在于，使用 new 生成实例的函数就是构造函数，直接调用的就是普通函数。</p>\n<p>那是不是意味着普通函数创建的实例没有 constructor 属性呢？不一定。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="29917271596999705000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 普通函数\nfunction parent2(age) {\n  this.age = age;\n}\nvar p2 = parent2(50);\n// undefined\n\n// 普通函数\nfunction parent3(age) {\n  return {\n    age: age\n  };\n}\nvar p3 = parent3(50);\np3.constructor === Object; // true\np3.constructor === Object.prototype.constructor; // true`, `29917271596999705000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 普通函数</span>\n<span class="token keyword">function</span> <span class="token function">parent2</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">parent2</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// undefined</span>\n\n<span class="token comment">// 普通函数</span>\n<span class="token keyword">function</span> <span class="token function">parent3</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    age<span class="token punctuation">:</span> age\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">var</span> p3 <span class="token operator">=</span> <span class="token function">parent3</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\np3<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// true</span>\np3<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id="symbol-的构造函数"><a href="#symbol-%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Symbol 的构造函数</h2>\n<p>Symbol 是基本数据类型，但作为构造函数来说它并不完整，因为它不支持语法 new Symbol()，Chrome 认为其不是构造函数，如果要生成实例直接使用 Symbol()</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="98404667429435130000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`new Symbol(123); // Symbol is not a constructor\n\nSymbol(123); // Symbol(123)`, `98404667429435130000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol is not a constructor</span>\n\n<span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(123)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div>\n<p>虽然是基本数据类型，但 Symbol(123) 实例可以获取 constructor 属性值</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="11184413047947882000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`var sym = Symbol(123);\nconsole.log(sym);\n// Symbol(123)\n\nconsole.log(sym.constructor);\n// ƒ Symbol() { [native code] }`, `11184413047947882000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">var</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// Symbol(123)</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// ƒ Symbol() { [native code] }</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这里的 constructor 属性来自哪里？其实是 Symbol 原型上的，即 Symbol.prototype.constructor 返回创建实例原型的函数， 默认为 Symbol 函数。</p>\n<h2 id="constructor-只读？"><a href="#constructor-%E5%8F%AA%E8%AF%BB%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>constructor 只读？</h2>\n<p>对于引用类型来说 constructor 属性值是可以修改的，但是对于基本类型来说是只读的</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="21049286865878835000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Foo() {\n  this.value = 42;\n}\nFoo.prototype = {\n  method: function() {}\n};\n\nfunction Bar() {}\n\n// 设置 Bar 的 prototype 属性为 Foo 的实例对象\nBar.prototype = new Foo();\nBar.prototype.foo = \'Hello World\';\n\nBar.prototype.constructor === Object; // true\n\n// 修正 Bar.prototype.constructor 为 Bar 本身\n// Bar.prototype.constructor = Bar;\n\nvar test = new Bar(); // 创建 Bar 的一个新实例\nconsole.log(test);`, `21049286865878835000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function-variable function">method</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token comment">// 设置 Bar 的 prototype 属性为 Foo 的实例对象</span>\n<span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">\'Hello World\'</span><span class="token punctuation">;</span>\n\n<span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">;</span> <span class="token comment">// true</span>\n\n<span class="token comment">// 修正 Bar.prototype.constructor 为 Bar 本身</span>\n<span class="token comment">// Bar.prototype.constructor = Bar;</span>\n\n<span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建 Bar 的一个新实例</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-11-21-11-10-5677e43fc6990725b563b864cff37caa-ff6e4.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 479px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 37.995824634655534%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA1UlEQVQY042PyW7DMAxE/f+/mEsOjh3Ypah9o2iVck6tXaAPBChAHA5nqrX6EKw1WiMo5bxDRAAIzlmDzrre+yH0Uf0nU6nlyM1ARJ2KDWbToICYIMITn5hQBbWY5bE/EqXfYnEOLszza9thXXfYvsSNmVsjapUa8cGNpdGwv4pzyagg+hzT+D4+JfAoPpFHvzDlnKXlkN3i3aLtDE6Z92vRWhORrKaT1tqfYtnt3sGDDSuw96Q1303fi0spUQ7fY0wMqNCYa8J7sXDOm3GbxGxthPwH30s704T4yPqUAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 11 21 11 10"\n        title=""\n        src="/static/2019-03-11-21-11-10-5677e43fc6990725b563b864cff37caa-ff6e4.png"\n        srcset="/static/2019-03-11-21-11-10-5677e43fc6990725b563b864cff37caa-d5807.png 200w,\n/static/2019-03-11-21-11-10-5677e43fc6990725b563b864cff37caa-dba8d.png 400w,\n/static/2019-03-11-21-11-10-5677e43fc6990725b563b864cff37caa-ff6e4.png 479w"\n        sizes="(max-width: 479px) 100vw, 479px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>对于基本类型来说是只读的，比如 1、“muyiy”、true、Symbol，当然 null 和 undefined 是没有 constructor 属性的。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="79765830298610290000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Type() {}\nvar types = [1, \'muyiy\', true, Symbol(123)];\n\nfor (var i = 0; i < types.length; i++) {\n  types[i].constructor = Type;\n  types[i] = [types[i].constructor, types[i] instanceof Type, types[i].toString()];\n}\n\nconsole.log(types.join(\'\\n\'));\n// function Number() { [native code] }, false, 1\n// function String() { [native code] }, false, muyiy\n// function Boolean() { [native code] }, false, true\n// function Symbol() { [native code] }, false, Symbol(123)`, `79765830298610290000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">var</span> types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">\'muyiy\'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> types<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  types<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">=</span> Type<span class="token punctuation">;</span>\n  types<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>types<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor<span class="token punctuation">,</span> types<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Type</span><span class="token punctuation">,</span> types<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">\'\\n\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// function Number() { [native code] }, false, 1</span>\n<span class="token comment">// function String() { [native code] }, false, muyiy</span>\n<span class="token comment">// function Boolean() { [native code] }, false, true</span>\n<span class="token comment">// function Symbol() { [native code] }, false, Symbol(123)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>为什么呢？因为创建他们的是只读的原生构造函数（native constructors），这个例子也说明了依赖一个对象的 constructor 属性并不安全。</p>\n<h2 id="模拟实现-new"><a href="#%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0-new" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>模拟实现 new</h2>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="90730507326087760000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function create() {\n  // 1、创建一个空的对象\n  var obj = new Object(),\n    // 2、获得构造函数，同时删除 arguments 中第一个参数\n    Con = [].shift.call(arguments);\n  // 3、链接到原型，obj 可以访问构造函数原型中的属性\n  Object.setPrototypeOf(obj, Con.prototype); // obj.__proto__ = Con.prototype 没有这个效率高\n  // 4、绑定 this 实现继承，obj 可以访问到构造函数中的属性\n  var ret = Con.apply(obj, arguments);\n  // 5、优先返回构造函数返回的对象\n  return ret instanceof Object ? ret : obj;\n}`, `90730507326087760000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 1、创建一个空的对象</span>\n  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment">// 2、获得构造函数，同时删除 arguments 中第一个参数</span>\n    Con <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 3、链接到原型，obj 可以访问构造函数原型中的属性</span>\n  Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token class-name">Con</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// obj.__proto__ = Con.prototype 没有这个效率高</span>\n  <span class="token comment">// 4、绑定 this 实现继承，obj 可以访问到构造函数中的属性</span>\n  <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">Con</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 5、优先返回构造函数返回的对象</span>\n  <span class="token keyword">return</span> ret <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> ret <span class="token punctuation">:</span> obj<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="原型"><a href="#%E5%8E%9F%E5%9E%8B" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>原型</h1>\n<h2 id="prototype"><a href="#prototype" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prototype</h2>\n<p>JavaScript 是一种基于原型的语言 (prototype-based language)，这个和 Java 等基于类的语言不一样。</p>\n<p>每个对象拥有一个原型对象，对象以其原型为模板，从原型继承方法和属性，这些属性和方法定义在对象的构造器函数的 prototype 属性上，而非对象实例本身。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-14-05-21-d9274c5f47a7aa7e131748b581c9a9f8-53b00.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 608px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 90.46052631578947%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACJ0lEQVQ4y42TaU/cMBCG+f//iG+USlVpKWIJ1yabZJNsnMNXfEycy04NCPplFzoaW5ZGz8w7o/HZYAw/UJYRmmBedruUZXmX7gmllFC2fmpnzjmE6rZuaItx0za1P3if7nvQPuyc/QyepklrVTZNWtWHlpSYZKgmQiNMy87Bss7rOth1ccdgnx2G6SKmV3F3navfqfiViptS/8jU+T06D7JvIfpZdA+dPQqv1q0HbZN2iAod5irMdULMYyU3+zrCKiaQ8KE27jj8ZvMwAVGaqBFACa5Et0zjFwP7eI1mVgQklkIAZsZ6QW715T78c3jilZSdJqgWNTWUgFLupSn34tbfJ2AfHSRorIw2A+N9U02cuHn6L9nWLkHOglzfp/J+rx/KPuY2lXZLx7uSB5UIkAz5fAT2e+Lva9RdH+A2g5tcb4r+z15chu3Ftj2/jS/D6vuuuWrGE5UXC6BNP0oKujP+IcDskqRqagXwhexpng0Y1SrZyL7rQWiGtaDS+c1anFushAnMPM7WOndk2p7BMWEZY/mbkzppqqTBOWakCxIZ7MTuoPthee30HRaji1j/dBBByDeP5O6ZPpd6T+ShLLI8a3HLOT8p+4lNGyTTdggRREhHGAq1BNx6kfM8+01ZlsXaE7vtP00hx10lklKn1avXfcWAC4iiKM/zoii01h+Me7V/PS/zBEz0rQKsBg4D1YaB4kr3S1XV2+02jmOf4i0XQsgr8tRfsMcFv2UD0hAAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 14 05 21"\n        title=""\n        src="/static/2019-03-12-14-05-21-d9274c5f47a7aa7e131748b581c9a9f8-53b00.png"\n        srcset="/static/2019-03-12-14-05-21-d9274c5f47a7aa7e131748b581c9a9f8-17576.png 200w,\n/static/2019-03-12-14-05-21-d9274c5f47a7aa7e131748b581c9a9f8-52273.png 400w,\n/static/2019-03-12-14-05-21-d9274c5f47a7aa7e131748b581c9a9f8-53b00.png 608w"\n        sizes="(max-width: 608px) 100vw, 608px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>从上面这张图可以发现，Parent 对象有一个原型对象 Parent.prototype，其上有两个属性，分别是 constructor 和 <code class="language-text">__proto__</code>，其中 <code class="language-text">__proto__</code> 已被弃用。</p>\n<p>构造函数 Parent 有一个指向原型的指针，原型 Parent.prototype 有一个指向构造函数的指针 Parent.prototype.constructor，如上图所示，其实就是一个循环引用。</p>\n<h2 id="proto"><a href="#proto" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>proto</h2>\n<p>下图可以看到 Parent 原型（ Parent.prototype ）上有 <code class="language-text">__proto__</code> 属性，这是一个访问器属性（即 getter 函数和 setter 函数），通过它可以访问到对象的内部 [[Prototype]] (一个对象或 null )。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-a605e.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 14.387211367673181%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAwElEQVQI1w2NvwqCQBzHfZLWWptrzK22XqGtJwiKIsIatEKil4iI9iCCXsDFRVNLCO9O9LyUywuv3/Llw5fvH4VSGkVREARhGCZJQggBR0pZliXnXIiSix87H5k2y3Tts98yU2e6li0m3/tNgVyappZl+b4PXFWVbduw5Xme6zjew3Ve4XM4wM06Utuk38U9FXVa70aN7TYKNOEQzjHGwHEcI4SEEEVR5HkOWklZnA50PmamkRlLtl5BjU5H/Hr5A834klwvuiibAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 14 07 10"\n        title=""\n        src="/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-fee1c.png"\n        srcset="/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-a67b7.png 200w,\n/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-0b187.png 400w,\n/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-fee1c.png 800w,\n/static/2019-03-12-14-07-10-aab43634d088b80a6f2a4c6df1655951-a605e.png 1126w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><code class="language-text">__proto__</code> 发音 dunder proto，最先被 Firefox 使用，后来在 ES6 被列为 Javascript 的标准内建属性。</p>\n<p>[[Prototype]] 是对象的一个内部属性，外部代码无法直接访问。</p>\n<blockquote>\n<p>遵循 ECMAScript 标准，someObject.[[Prototype]] 符号用于指向 someObject 的原型。</p>\n</blockquote>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-14-29-01-47c4d8863a751f0bf195147c3d3577a5-200d5.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 474px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 78.05907172995781%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACjElEQVQoz21Ta5ObOgzd//+P+q3T2/bu3bvdtknYBIJ5m6exMcYvwKZmk3am02okYWwdpCOLB6mkIILmZMwJKweaYoyED0heMBBRMlDGpjQvlNbbH/KwrIsaJL60OKdtMQiESYTrAANQHk4gipMsz4MQjIy5aGOMfZM72BkjDIKiKBoQw2kiEMAKQPeeZunE+eSE89WYv2R2RtkYxlEIoksQ1E2bQ/jq+98OpzjNXEIhhFLKFT8MdKB0HBkmZJ7nO5gL4TBOO9S7Q4T6NMvrusoLmOZ53TRuAcvKbSZZ5pjESerC7mD3YehOSxddtF3nikR9X2Er9M7N2S+Sv8RRd7qDtdZt2/QuN8yHrpOUDj3CdNF6vWHf4u3v+sb59py48Nsp6o2X8WM6naG8tFM4zMm0xcwAZiJmUr4l3MbMuk0w2l7ZG9i2avucMz9rrxmLqimuuR9TACe3Toj0W/3fOfp4DB7P0Wcv9IoOzdtLv94z13ILEV/VZPVqKbdMGC43sy5iKuKIYYwbyCneFmUXaeZ9YHxqHszeDNvq7UurmkFUeCk6WfYadqqiM6Ti6QyOIPWSsmSKLFuvNqQsUfbrLfOiJO7RAZKnqHlOuu/V8Jx1X3J0rMZvkJzq8bnertTmcotdCyZH21wGU0uzd7tk+t25/BS273ffPcb4Q9D8EzQv1fQxbD9cu3eX8THjJ6S+N+KI5mC0i7H3e/boVo+ix4z0CjWcUk2wxEgSIgmTFdYgTU9+6AXgDBI3M2e6teIn+DRYRJnm0ypm0TOnepSzlGJi3uGQJ3FdQs75bTacdxQ6eQfbK12/dvoV6VOzq9fu/tgqr9f/xt1Thl/K8RXv1Tqq19H8j1aq3X9ifwB6XH7cADn8EAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 14 29 01"\n        title=""\n        src="/static/2019-03-12-14-29-01-47c4d8863a751f0bf195147c3d3577a5-200d5.png"\n        srcset="/static/2019-03-12-14-29-01-47c4d8863a751f0bf195147c3d3577a5-4fa1a.png 200w,\n/static/2019-03-12-14-29-01-47c4d8863a751f0bf195147c3d3577a5-57557.png 400w,\n/static/2019-03-12-14-29-01-47c4d8863a751f0bf195147c3d3577a5-200d5.png 474w"\n        sizes="(max-width: 474px) 100vw, 474px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这里用 <code class="language-text">p.__proto__</code> 获取对象的原型，<code class="language-text">__proto__</code> 是每个实例上都有的属性，prototype 是构造函数的属性，这两个并不一样，但 <code class="language-text">p.__proto__</code> 和 Parent.prototype 指向同一个对象。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="49142692823994680000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Parent() {}\nvar p = new Parent();\np.__proto__ === Parent.prototype;\n// true`, `49142692823994680000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\np<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>\n<span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>所以构造函数 Parent、Parent.prototype 和 p 的关系如下图。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-14-45-23-8f41b5ec2054e09686033907e3bb7026-c84fc.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 685px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 65.98540145985402%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABo0lEQVQoz6VS20ocQRCdD/MxGgKCMQ+5QpS8+IlCAhLyBTFmdyc+jIO6rdv36ZnZmb6W1SOJsKAEPBRNT01VnapTXcAzUGw6YgTvwdo0jtlCSPluISZIaTM5hGCMadt2PcEQ0tZ1UgrQpADnoG0T5+HsNPwpA7kOy+tAloGusFbRNI1zTmtdluV8PvchCKWYEFzKW0pvCOGmvTz9yV6/ZLsv5NGh+PyWbm+JL5+SswWmjROqqqrrOgKsGLuoa0rp1XKJRo1h5Zzt7ciP+/T9Hv+wz968EgfvcKjCe4/kXddxzrF/Q26aqkpagx0TZ8BYWlFg1P34rr8eX518s79/udmZPy8hxQfB+r531oKzMKyh62AYsnIoUoxj3+u2G6x7VG0hZScl1sgKCZ60QqdumktCpGnShtTTZ4FeHDjGKIRYD4NPyYaAP3yISmnGmOXcYVHsQum8AiHyec9sJkgpF4vFbDbD+RmlWkqlFG4hM4wjzp/373yeBYfC8z4Zg5AZ424n4NqRDdf+t7v01Auz1iIbRqPgqBlesNzTOY8/z/8g/Ic7v1TgCMEAijEAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 14 45 23"\n        title=""\n        src="/static/2019-03-12-14-45-23-8f41b5ec2054e09686033907e3bb7026-c84fc.png"\n        srcset="/static/2019-03-12-14-45-23-8f41b5ec2054e09686033907e3bb7026-18514.png 200w,\n/static/2019-03-12-14-45-23-8f41b5ec2054e09686033907e3bb7026-82fbc.png 400w,\n/static/2019-03-12-14-45-23-8f41b5ec2054e09686033907e3bb7026-c84fc.png 685w"\n        sizes="(max-width: 685px) 100vw, 685px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id="注意点"><a href="#%E6%B3%A8%E6%84%8F%E7%82%B9" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>注意点</h2>\n<p><code class="language-text">__proto__</code> 属性在 ES6 时才被标准化，以确保 Web 浏览器的兼容性，但是不推荐使用，除了标准化的原因之外还有性能问题。为了更好的支持，推荐使用 Object.getPrototypeOf()。</p>\n<blockquote>\n<p>通过改变一个对象的 [[Prototype]] 属性来改变和继承属性会对性能造成非常严重的影响，并且性能消耗的时间也不是简单的花费在 <code class="language-text">obj.__proto__</code> = … 语句上, 它还会影响到所有继承自该 [[Prototype]] 的对象，如果你关心性能，你就不应该修改一个对象的 [[Prototype]]。</p>\n</blockquote>\n<p>如果要读取或修改对象的 [[Prototype]] 属性，建议使用如下方案，但是此时设置对象的 [[Prototype]] 依旧是一个缓慢的操作，如果性能是一个问题，就要避免这种操作。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="94202490290161800000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`// 获取\nObject.getPrototypeOf();\nReflect.getPrototypeOf();\n\n// 修改\nObject.setPrototypeOf();\nReflect.setPrototypeOf();`, `94202490290161800000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token comment">// 获取</span>\nObject<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nReflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 修改</span>\nObject<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nReflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>如果要创建一个新对象，同时继承另一个对象的 [[Prototype]] ，推荐使用 Object.create()。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="46034551699393500000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Parent() {\n  age: 50;\n}\nvar p = new Parent();\n// 相当于 Object.setPrototypeOf(child, p.constructor), child.__proto__ = p.constructor\nvar child = Object.create(p);`, `46034551699393500000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  age<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// 相当于 Object.setPrototypeOf(child, p.constructor), child.__proto__ = p.constructor</span>\n<span class="token keyword">var</span> child <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这里 child 是一个新的空对象，有一个指向对象 p 的指针 <code class="language-text">__proto__</code>。</p>\n<h2 id="优化实现-new"><a href="#%E4%BC%98%E5%8C%96%E5%AE%9E%E7%8E%B0-new" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>优化实现 new</h2>\n<p>正如上面介绍的不建议使用 <code class="language-text">__proto__</code>，所以我们使用 Object.create() 来模拟实现，优化后的代码如下</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="41069592751492140000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function create() {\n  // 1、获得构造函数，同时删除 arguments 中第一个参数\n  Con = [].shift.call(arguments);\n  // 2、创建一个空的对象并链接到原型，obj 可以访问构造函数原型中的属性\n  var obj = Object.create(Con.prototype);\n  // 3、绑定 this 实现继承，obj 可以访问到构造函数中的属性\n  var ret = Con.apply(obj, arguments);\n  // 4、优先返回构造函数返回的对象\n  return ret instanceof Object ? ret : obj;\n}`, `41069592751492140000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 1、获得构造函数，同时删除 arguments 中第一个参数</span>\n  Con <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 2、创建一个空的对象并链接到原型，obj 可以访问构造函数原型中的属性</span>\n  <span class="token keyword">var</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Con</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 3、绑定 this 实现继承，obj 可以访问到构造函数中的属性</span>\n  <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">Con</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// 4、优先返回构造函数返回的对象</span>\n  <span class="token keyword">return</span> ret <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> ret <span class="token punctuation">:</span> obj<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1 id="原型链"><a href="#%E5%8E%9F%E5%9E%8B%E9%93%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>原型链</h1>\n<p>每个对象拥有一个原型对象，通过 <code class="language-text">__proto__</code> 指针指向上一个原型 ，并从中继承方法和属性，同时原型对象也可能拥有原型，这样一层一层，最终指向 null。这种关系被称为原型链 (prototype chain)，通过原型链一个对象会拥有定义在其他对象中的属性和方法。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="84496795064430690000"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Parent(age) {\n  this.age = age;\n}\n\nvar p = new Parent(50);\np.constructor === Parent; // true`, `84496795064430690000`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\np<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Parent<span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>这里 p.constructor 指向 Parent，那是不是意味着 p 实例存在 constructor 属性呢？并不是。</p>\n<p>我们打印下 p 值就知道了</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-15-13-41-40644d1bb1d47876c4d5fca22a84eb7f-534ce.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 342px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 43.27485380116959%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABE0lEQVQoz5VRy26DMBDM/39Mq/bQD0CIA1IJUUtUIahIH1HUFpOAwV6vbTqQS8ml7R7Wa8sz4xmv2rYbx9F7P/6/VkI0F+C/E62YWUqJbozRWmOw1mJ2zmFGV8q2rSEibbwc7AJcFEUQBGmartN1FEWHw+F0OibJPeYsy7Qettv+6vp9V1XVByd5vwD7uZiYBqMH7b0TYtjv266TkJ0teEOGGcquV/YSjOXtYf949/S83ikt81zd3H4C+Ltn0Pf99BjqiWFZsyXjeFI4e67rWgihlMJbUAswkijLErdJ0tdOiNdj/YLesOKmbhAhzIdhuNls4jhGQKBbKE+yA6lOIWc//ZR31mFrkO9sCudgOQPcj/oG0PsG7d3C3CkAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 15 13 41"\n        title=""\n        src="/static/2019-03-12-15-13-41-40644d1bb1d47876c4d5fca22a84eb7f-534ce.png"\n        srcset="/static/2019-03-12-15-13-41-40644d1bb1d47876c4d5fca22a84eb7f-20d63.png 200w,\n/static/2019-03-12-15-13-41-40644d1bb1d47876c4d5fca22a84eb7f-534ce.png 342w"\n        sizes="(max-width: 342px) 100vw, 342px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>由图可以看到实例对象 p 本身没有 constructor 属性，是通过原型链向上查找 <code class="language-text">__proto__</code> ，最终查找到 constructor 属性，该属性指向 Parent。</p>\n<div\n              class="gatsby-code-button-container"\n              data-toaster-id="4395528195633602600"\n              data-toaster-class="gatsby-code-button-toaster"\n              data-toaster-text-class="gatsby-code-button-toaster-text"\n              data-toaster-text="复制成功"\n              data-toaster-duration="3500"\n              onClick="copyToClipboard(`function Parent(age) {\n  this.age = age;\n}\nvar p = new Parent(50);\n\np; // Parent {age: 50}\np.__proto__ === Parent.prototype; // true\np.__proto__.__proto__ === Object.prototype; // true\np.__proto__.__proto__.__proto__ === null; // true`, `4395528195633602600`)"\n            >\n              <div\n                class="gatsby-code-button"\n                data-tooltip="复制"\n              >\n                <svg class="gatsby-code-button-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z"/></svg>\n              </div>\n            </div>\n<div class="gatsby-highlight" data-language="js"><pre style="counter-reset: linenumber NaN" class="language-js line-numbers"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\np<span class="token punctuation">;</span> <span class="token comment">// Parent {age: 50}</span>\np<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>\np<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>\np<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>下图展示了原型链的运作机制。</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-3c1cf.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 8.792497069167645%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAaUlEQVQI1w2NSw7FIAwDe/9DIgQ0BQokKZ+nPhZpNl5Y4/FhjGHmvaX3VUoJIVhrEXGM+W7hp9davfcxRmYa8/f+hYm1JKLjvnNrOJZoxOtSCABSSohPn1IrO+d0rFKAE2mNKaW0nLMefJU0b1PceP4KAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 15 16 30"\n        title=""\n        src="/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-fee1c.png"\n        srcset="/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-a67b7.png 200w,\n/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-0b187.png 400w,\n/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-fee1c.png 800w,\n/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-b1a91.png 1200w,\n/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-95179.png 1600w,\n/static/2019-03-12-15-16-30-36a109c0bdb3ad97f1a83901fbe970d8-3c1cf.png 1706w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-005b2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 61.41479099678456%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/klEQVQoz42ShwqEQAxE9///UcTeu9g977kBUU/hBoy7MTOZBNV2xUdje8e5QG1/4Ki+6aplWfI8N03Tdd1hGMqyjOM4SZIsy1yNKIps2zYMIwgCx3GoJNN13U5e15UXH3zf5yBMOpCf55nYti0SaZpWVUUNzHEchbXbpjmXoijQI/LtSGIkDEPyuKvr+m6bB22E8dz3vRimiDMuMEwrz/NE8Tb2ZWGoUEo3mkCGaVkWumL1d5HqLEYrSomM1zQNhgMN2eUzWTBNE8vEM2QmxwVkT4P+st4HMpYaDbZClLYkuaKCHFHW+0CWPVFKpI6ZIdMq02AQko8/z19/2Bu+RuC281lmx+QAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px #fafafa;"\n        alt="2019 03 12 14 13 05"\n        title=""\n        src="/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-fee1c.png"\n        srcset="/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-a67b7.png 200w,\n/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-0b187.png 400w,\n/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-fee1c.png 800w,\n/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-b1a91.png 1200w,\n/static/2019-03-12-14-13-05-e2a8e0220432f5bf68e3a0f812d19b1c-005b2.png 1244w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h1 id="总结"><a href="#%E6%80%BB%E7%BB%93" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结</h1>\n<ul>\n<li>Symbol 作为构造函数来说并不完整，因为不支持语法 new Symbol()，但其原型上拥有 constructor 属性，即 Symbol.prototype.constructor。</li>\n<li>引用类型 constructor 属性值是可以修改的，但是对于基本类型来说是只读的，当然 null 和 undefined 没有 constructor 属性。</li>\n<li><code class="language-text">__proto__</code> 是每个实例上都有的属性，prototype 是构造函数的属性，这两个并不一样，但 <code class="language-text">p.__proto__</code> 和 Parent.prototype 指向同一个对象。</li>\n<li><code class="language-text">__proto__</code> 属性在 ES6 时被标准化，但因为性能问题并不推荐使用，推荐使用 Object.getPrototypeOf()。</li>\n<li>每个对象拥有一个原型对象，通过 <code class="language-text">__proto__</code> 指针指向上一个原型 ，并从中继承方法和属性，同时原型对象也可能拥有原型，这样一层一层，最终指向 null，这就是原型链。</li>\n<li>Object 是所有对象的爸爸，所有对象都可以通过 <code class="language-text">__proto__</code> 找到它</li>\n<li>Function 是所有函数的爸爸，所有函数都可以通过 <code class="language-text">__proto__</code> 找到它</li>\n<li>Function.prototype 和 Object.prototype 是两个特殊的对象，他们由引擎来创建</li>\n<li>除了以上两个特殊对象，其他对象都是通过构造器 new 出来的</li>\n<li>函数的 prototype 是一个对象，也就是原型</li>\n</ul>',
id:"/github/workspace/blog/JS构造函数、原型、原型链/index.md absPath of file >>> MarkdownRemark",timeToRead:5,frontmatter:{date:"2019-03-11 20:03:54",path:"/js-constructor-prototype-proto/",tags:"前端, JS, 原型链",title:"JS构造函数、原型、原型链",draft:null}}],length:1,tag:"原型链",pagesSum:1,page:1}}}});